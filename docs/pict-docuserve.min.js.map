{"version":3,"sources":["pict-docuserve.min.js","node_modules/browser-pack/_prelude.js","node_modules/fable-serviceproviderbase/package.json","node_modules/fable-serviceproviderbase/source/Fable-ServiceProviderBase.js","node_modules/pict-application/package.json","node_modules/pict-application/source/Pict-Application.js","node_modules/pict-provider/package.json","node_modules/pict-provider/source/Pict-Provider.js","node_modules/pict-view/package.json","node_modules/pict-view/source/Pict-View.js","source/Pict-Application-Docuserve-Configuration.json","source/Pict-Application-Docuserve.js","source/providers/Pict-Provider-Docuserve-Documentation.js","source/views/PictView-Docuserve-Content.js","source/views/PictView-Docuserve-Layout.js","source/views/PictView-Docuserve-Sidebar.js","source/views/PictView-Docuserve-Splash.js","source/views/PictView-Docuserve-TopBar.js"],"names":["_defineProperty","e","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","f","exports","module","define","amd","window","global","self","this","PictDocuserve","n","o","c","require","u","a","Error","code","p","length","name","version","description","main","scripts","start","test","tests","coverage","build","mocha","diff","extension","package","reporter","slow","timeout","ui","repository","type","url","keywords","author","license","bugs","homepage","devDependencies","fable","quackage","libPackage","FableServiceProviderBase","constructor","pFable","pOptions","pServiceHash","isFable","connectFable","_PackageFableServiceProvider","UUID","getUUID","options","concat","Math","floor","random","serviceType","Hash","tmpErrorMessage","console","log","Logging","services","servicesMap","CoreServiceProviderBase","lint","types","eslint","pict","typescript","dependencies","libFableServiceBase","defaultPictSettings","Name","MainViewportViewIdentifier","MainViewportRenderableHash","MainViewportDestinationAddress","MainViewportDefaultDataAddress","AutoSolveAfterInitialize","AutoRenderMainViewportViewAfterInitialize","AutoRenderViewsAfterInitialize","AutoLoginAfterInitialize","AutoLoadDataAfterLogin","ConfigurationOnlyViews","Manifests","IdentifierAddressPrefix","tmpCarryOverConfiguration","settings","PictApplicationConfiguration","super","assign","JSON","parse","stringify","_Package","AppData","Bundle","initializeTimestamp","lastSolvedTimestamp","lastLoginTimestamp","lastMarshalFromViewsTimestamp","lastMarshalToViewsTimestamp","lastAutoRenderTimestamp","lastLoadDataTimestamp","tmpManifestKeys","keys","tmpManifestKey","instantiateServiceProvider","onPreSolve","LogNoisiness","trace","onPreSolveAsync","fCallback","onBeforeSolve","onBeforeSolveAsync","onSolve","onSolveAsync","solve","tmpLoadedProviders","providers","tmpProvidersToSolve","tmpProvider","AutoSolveWithApp","push","sort","b","AutoSolveOrdinal","tmpLoadedViews","views","tmpViewsToSolve","tmpView","AutoInitialize","AutoInitializeOrdinal","onAfterSolve","getTimeStamp","solveAsync","tmpAnticipate","instantiateServiceProviderWithoutRegistration","anticipate","bind","tmpCallback","warn","pError","error","onAfterSolveAsync","wait","onBeforeLoginAsync","onLoginAsync","loginAsync","onAfterLoginAsync","fNext","isLoggedIn","loadDataAsync","onBeforeLoadDataAsync","onLoadDataAsync","tmpProvidersToLoadData","AutoLoadDataWithApp","AutoLoadDataOrdinal","onAfterLoadDataAsync","onBeforeSaveDataAsync","onSaveDataAsync","saveDataAsync","tmpProvidersToSaveData","AutoSaveDataWithApp","AutoSaveDataOrdinal","onAfterSaveDataAsync","lastSaveDataTimestamp","onBeforeInitialize","onBeforeInitializeAsync","onInitialize","onInitializeAsync","initialize","LogControlFlow","tmpViewIdentifier","ViewIdentifier","info","addView","tmpProvidersToInitialize","tmpViewsToInitialize","onAfterInitialize","render","onCompletionOfInitialize","initializeAsync","onCompletionOfInitializeAsync","onAfterInitializeAsync","renderMainViewportAsync","message","stack","onBeforeMarshalFromViews","onBeforeMarshalFromViewsAsync","onMarshalFromViews","onMarshalFromViewsAsync","marshalFromViews","tmpViewsToMarshalFromViews","marshalFromView","onAfterMarshalFromViews","marshalFromViewsAsync","marshalFromViewAsync","onAfterMarshalFromViewsAsync","onBeforeMarshalToViews","onBeforeMarshalToViewsAsync","onMarshalToViews","onMarshalToViewsAsync","marshalToViews","tmpViewsToMarshalToViews","marshalToView","onAfterMarshalToViews","marshalToViewsAsync","marshalToViewAsync","onAfterMarshalToViewsAsync","onBeforeRender","onBeforeRenderAsync","pViewIdentifier","pRenderableHash","pRenderDestinationAddress","pTemplateDataAddress","tmpRenderableHash","tmpRenderDestinationAddress","tmpTemplateDataAddress","PictView","onRender","onAfterRender","onRenderAsync","renderAsync","tmpRenderAnticipate","newAnticipate","onAfterRenderAsync","renderMainViewport","renderAutoViews","AutoRenderOrdinal","AutoRender","renderAutoViewsAsync","isPictApplication","defaultPictProviderSettings","ProviderIdentifier","Templates","tmpDefaultTemplate","hasOwnProperty","Source","TemplateProvider","addDefaultTemplate","Prefix","Postfix","Template","Stack","onPreRender","onPreRenderAsync","defaultPictViewSettings","DefaultRenderable","DefaultDestinationAddress","DefaultTemplateRecordAddress","CSSHash","CSS","CSSProvider","CSSPriority","DefaultTemplates","Renderables","tmpHashIsUUID","lastRenderedTimestamp","lastMarshalFromViewTimestamp","lastMarshalToViewTimestamp","instantiateServiceProviderIfNotExists","tmpTemplate","addTemplate","tmpCSSHash","tmpCSSProvider","CSSMap","addCSS","renderables","tmpRenderable","addRenderable","pTemplateHash","pDefaultTemplateRecordAddress","pDefaultDestinationAddress","pRenderMethod","RenderableHash","TemplateHash","ContentDestinationAddress","RenderMethod","pRenderable","onBeforeProject","onBeforeProjectAsync","buildRenderOptions","pTemplateRecordAddress","tmpRenderOptions","Valid","Renderable","DestinationAddress","RecordAddress","Record","DataProvider","getDataByAddress","undefined","assignRenderContent","pContent","ContentAssignment","projectContent","TestAddress","pRootRenderable","renderWithScope","pScope","tmpRecordAddress","tmpRecord","TransactionHash","RootRenderableViewHash","TransactionTracking","registerTransaction","Content","parseTemplateByHash","RootRenderable","onProject","onAfterProject","renderWithScopeAsync","fOnBeforeRenderCallback","fAsyncTemplateCallback","onProjectAsync","onAfterProjectAsync","renderDefaultAsync","basicRender","basicRenderWithScope","basicRenderAsync","basicRenderWithScopeAsync","pushToTransactionQueue","ViewHash","tmpTransactionQueue","clearTransactionQueue","tmpEvent","Data","queue","event","onBeforeMarshalFromView","onBeforeMarshalFromViewAsync","onMarshalFromView","onMarshalFromViewAsync","onAfterMarshalFromView","onAfterMarshalFromViewAsync","onBeforeMarshalToView","onBeforeMarshalToViewAsync","onMarshalToView","onMarshalToViewAsync","onAfterMarshalToView","onAfterMarshalToViewAsync","isPictView","pict_configuration","Product","libPictApplication","libDocumentationProvider","libViewLayout","libViewTopBar","libViewSidebar","libViewSplash","libViewContent","addProvider","default_configuration","Docuserve","CatalogLoaded","Catalog","CoverLoaded","Cover","SidebarLoaded","SidebarGroups","TopBarLoaded","TopBar","ErrorPageLoaded","ErrorPageHTML","CurrentGroup","CurrentModule","CurrentPath","SidebarVisible","DocsBaseURL","CatalogURL","loadCatalog","resolveHash","tmpHash","location","hash","replace","showView","tmpParts","split","tmpDocPath","slice","join","navigateToPage","tmpGroup","tmpModule","tmpPath","navigateToModulePath","navigateToModule","navigateTo","pRoute","clearModuleNav","renderSidebarGroups","pGroup","pModule","pPath","tmpDocProvider","tmpContentView","tmpSidebarView","showLoading","renderModuleNav","tmpURL","resolveDocumentURL","fetchDocument","pHTML","displayContent","getErrorPageHTML","pDocPath","match","fetchLocalDocument","libPictProvider","_Catalog","_ContentCache","tmpCatalogURL","fetch","then","pResponse","ok","json","pCatalog","buildSidebarData","tmpPending","tmpFinish","loadCover","loadSidebar","loadTopbar","loadErrorPage","catch","tmpDocsBase","text","pMarkdown","parseCover","tmpCover","Title","Tagline","Description","Highlights","Actions","tmpLines","tmpLine","trim","tmpHeadingMatch","tmpBlockquoteMatch","tmpBulletMatch","tmpBulletContent","tmpLabelMatch","Label","Text","tmpLinkMatch","Href","tmpSidebarData","parseSidebarMarkdown","parseTopbar","tmpTopBar","Brand","NavLinks","ExternalLinks","tmpText","tmpHref","tmpRoute","convertSidebarLink","parseMarkdown","pRequestedPath","escapeHTML","tmpGroups","tmpCurrentGroup","tmpIndentMatch","tmpIndent","tmpListMatch","tmpItemContent","tmpName","Key","deriveGroupKey","Route","Modules","tmpKey","toLowerCase","tmpModuleName","tmpModuleHref","tmpModuleRoute","HasDocs","Group","pHref","indexOf","pName","tmpFromHref","includes","tmpSidebarGroups","Groups","tmpGroupEntry","j","tmpOrg","GitHubOrg","tmpDefaultBranch","DefaultBranch","tmpBranch","Branch","Repo","getModuleSidebar","Sidebar","pURL","tmpHTML","tmpInCodeBlock","tmpCodeLang","tmpCodeLines","tmpInList","tmpListType","tmpInBlockquote","tmpBlockquoteLines","tmpLevel","parseInline","tmpID","tmpULMatch","tmpOLMatch","tmpTableHTML","tmpHeaders","filter","pCell","h","tmpCells","pText","tmpResult","pMatch","pLinkText","convertDocLink","libPictView","pHTMLContent","assignContent","tmpContentContainer","document","getElementById","scrollTop","pRecord","injectCSS","PictApplication","_HashChangeListenerBound","tmpSelf","addEventListener","tmpGroupRoute","k","tmpActiveClass","tmpSidebar","tmpRoutePrefix","tmpEntry","Children","tmpChild","Path","toggleSidebar","tmpContainer","tmpToggle","style","display","tmpDocuserve","renderFromCover","renderFromCatalog","pCover","tmpHighlightsHTML","tmpHighlight","tmpActionsHTML","tmpAction","tmpClass","pDocuserve","tmpDescription","renderTopBarContent","tmpBrandEl","tmpNavEl","tmpLinksEl","textContent","tmpNavHTML","tmpLink","innerHTML","tmpLinksHTML","tmpBrand"],"mappings":"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","file":"pict-docuserve.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.PictDocuserve = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nmodule.exports={\n    \"name\": \"fable-serviceproviderbase\",\n    \"version\": \"3.0.15\",\n    \"description\": \"Simple base classes for fable services.\",\n    \"main\": \"source/Fable-ServiceProviderBase.js\",\n    \"scripts\": {\n        \"start\": \"node source/Fable-ServiceProviderBase.js\",\n        \"test\": \"npx mocha -u tdd -R spec\",\n        \"tests\": \"npx mocha -u tdd --exit -R spec --grep\",\n        \"coverage\": \"npx nyc --reporter=lcov --reporter=text-lcov npx mocha -- -u tdd -R spec\",\n        \"build\": \"npx quack build\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    },\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"https://github.com/stevenvelozo/fable-serviceproviderbase.git\"\n    },\n    \"keywords\": [\n        \"entity\",\n        \"behavior\"\n    ],\n    \"author\": \"Steven Velozo <steven@velozo.com> (http://velozo.com/)\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/fable-serviceproviderbase/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/fable-serviceproviderbase\",\n    \"devDependencies\": {\n        \"fable\": \"^3.0.143\",\n        \"quackage\": \"^1.0.33\"\n    }\n}\n},{}],2:[function(require,module,exports){\n/**\n* Fable Service Base\n* @author <steven@velozo.com>\n*/\n\nconst libPackage = require('../package.json');\n\nclass FableServiceProviderBase\n{\n\t// The constructor can be used in two ways:\n\t// 1) With a fable, options object and service hash (the options object and service hash are optional)\n\t// 2) With an object or nothing as the first parameter, where it will be treated as the options object\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\t// Check if a fable was passed in; connect it if so\n\t\tif ((typeof(pFable) === 'object') && pFable.isFable)\n\t\t{\n\t\t\tthis.connectFable(pFable);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.fable = false;\n\t\t}\n\n\t\t// Initialize the services map if it wasn't passed in\n\t\t/** @type {Object} */\n\t\tthis._PackageFableServiceProvider = libPackage;\n\n\t\t// initialize options and UUID based on whether the fable was passed in or not.\n\t\tif (this.fable)\n\t\t{\n\t\t\tthis.UUID = pFable.getUUID();\n\t\t\tthis.options = (typeof(pOptions) === 'object') ? pOptions\n\t\t\t\t\t\t\t: {};\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// With no fable, check to see if there was an object passed into either of the first two\n\t\t\t// Parameters, and if so, treat it as the options object\n\t\t\tthis.options = ((typeof(pFable) === 'object') && !pFable.isFable) ? pFable\n\t\t\t\t\t\t\t: (typeof(pOptions) === 'object') ? pOptions\n\t\t\t\t\t\t\t: {};\n\t\t\tthis.UUID = `CORE-SVC-${Math.floor((Math.random() * (99999 - 10000)) + 10000)}`\n\t\t}\n\n\t\t// It's expected that the deriving class will set this\n\t\tthis.serviceType = `Unknown-${this.UUID}`;\n\n\t\t// The service hash is used to identify the specific instantiation of the service in the services map\n\t\tthis.Hash = (typeof(pServiceHash) === 'string') ? pServiceHash \n\t\t\t\t\t: (!this.fable && (typeof(pOptions) === 'string')) ? pOptions\n\t\t\t\t\t: `${this.UUID}`;\n\t}\n\n\tconnectFable(pFable)\n\t{\n\t\tif ((typeof(pFable) !== 'object') || (!pFable.isFable))\n\t\t{\n\t\t\tlet tmpErrorMessage = `Fable Service Provider Base: Cannot connect to Fable, invalid Fable object passed in.  The pFable parameter was a [${typeof(pFable)}].}`;\n\t\t\tconsole.log(tmpErrorMessage);\n\t\t\treturn new Error(tmpErrorMessage);\n\t\t}\n\n\t\tif (!this.fable)\n\t\t{\n\t\t\tthis.fable = pFable;\n\t\t}\n\n\t\tif (!this.log)\n\t\t{\n\t\t\tthis.log = this.fable.Logging;\n\t\t}\n\t\tif (!this.services)\n\t\t{\n\t\t\tthis.services = this.fable.services;\n\t\t}\n\n\t\tif (!this.servicesMap)\n\t\t{\n\t\t\tthis.servicesMap = this.fable.servicesMap;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tstatic isFableService = true;\n}\n\nmodule.exports = FableServiceProviderBase;\n\n// This is left here in case we want to go back to having different code/base class for \"core\" services\nmodule.exports.CoreServiceProviderBase = FableServiceProviderBase;\n},{\"../package.json\":1}],3:[function(require,module,exports){\nmodule.exports={\n    \"name\": \"pict-application\",\n    \"version\": \"1.0.30\",\n    \"description\": \"Application base class for a pict view-based application\",\n    \"main\": \"source/Pict-Application.js\",\n    \"scripts\": {\n        \"test\": \"npx mocha -u tdd -R spec\",\n        \"start\": \"node source/Pict-Application.js\",\n        \"coverage\": \"npx nyc --reporter=lcov --reporter=text-lcov npx mocha -- -u tdd -R spec\",\n        \"build\": \"npx quack build\",\n        \"docker-dev-build\": \"docker build ./ -f Dockerfile_LUXURYCode -t pict-application-image:local\",\n        \"docker-dev-run\": \"docker run -it -d --name pict-application-dev -p 30001:8080 -p 38086:8086 -v \\\"$PWD/.config:/home/coder/.config\\\"  -v \\\"$PWD:/home/coder/pict-application\\\" -u \\\"$(id -u):$(id -g)\\\" -e \\\"DOCKER_USER=$USER\\\" pict-application-image:local\",\n        \"docker-dev-shell\": \"docker exec -it pict-application-dev /bin/bash\",\n        \"tests\": \"npx mocha -u tdd --exit -R spec --grep\",\n        \"lint\": \"eslint source/**\",\n        \"types\": \"tsc -p .\"\n    },\n    \"types\": \"types/source/Pict-Application.d.ts\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"git+https://github.com/stevenvelozo/pict-application.git\"\n    },\n    \"author\": \"steven velozo <steven@velozo.com>\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/pict-application/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/pict-application#readme\",\n    \"devDependencies\": {\n        \"@eslint/js\": \"^9.28.0\",\n        \"browser-env\": \"^3.3.0\",\n        \"eslint\": \"^9.28.0\",\n        \"pict\": \"^1.0.343\",\n        \"pict-provider\": \"^1.0.7\",\n        \"pict-view\": \"^1.0.64\",\n        \"quackage\": \"^1.0.45\",\n        \"typescript\": \"^5.9.3\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    },\n    \"dependencies\": {\n        \"fable-serviceproviderbase\": \"^3.0.15\"\n    }\n}\n\n},{}],4:[function(require,module,exports){\nconst libFableServiceBase = require('fable-serviceproviderbase')\n\nconst libPackage = require('../package.json');\n\nconst defaultPictSettings = (\n\t{\n\t\tName: 'DefaultPictApplication',\n\n\t\t// The main \"viewport\" is the view that is used to host our application\n\t\tMainViewportViewIdentifier: 'Default-View',\n\t\tMainViewportRenderableHash: false,\n\t\tMainViewportDestinationAddress: false,\n\t\tMainViewportDefaultDataAddress: false,\n\n\t\t// Whether or not we should automatically render the main viewport and other autorender views after we initialize the pict application\n\t\tAutoSolveAfterInitialize: true,\n\t\tAutoRenderMainViewportViewAfterInitialize: true,\n\t\tAutoRenderViewsAfterInitialize: false,\n\t\tAutoLoginAfterInitialize: false,\n\t\tAutoLoadDataAfterLogin: false,\n\n\t\tConfigurationOnlyViews: [],\n\n\t\tManifests: {},\n\t\t// The prefix to prepend on all template destination hashes\n\t\tIdentifierAddressPrefix: 'PICT-'\n\t});\n\n/**\n * Base class for pict applications.\n */\nclass PictApplication extends libFableServiceBase\n{\n\t/**\n\t * @param {import('fable')} pFable\n\t * @param {Record<string, any>} [pOptions]\n\t * @param {string} [pServiceHash]\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tlet tmpCarryOverConfiguration = (typeof(pFable.settings.PictApplicationConfiguration) === 'object') ? pFable.settings.PictApplicationConfiguration : {};\n\t\tlet tmpOptions = Object.assign({}, JSON.parse(JSON.stringify(defaultPictSettings)), tmpCarryOverConfiguration, pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\n\t\t/** @type {any} */\n\t\tthis.options;\n\t\t/** @type {any} */\n\t\tthis.log;\n\t\t/** @type {import('pict') & import('fable')} */\n\t\tthis.fable;\n\t\t/** @type {string} */\n\t\tthis.UUID;\n\t\t/** @type {string} */\n\t\tthis.Hash;\n\t\t/**\n\t\t * @type {{ [key: string]: any }}\n\t\t */\n\t\tthis.servicesMap;\n\n\t\tthis.serviceType = 'PictApplication';\n\t\t/** @type {Record<string, any>} */\n\t\tthis._Package = libPackage;\n\n\t\t// Convenience and consistency naming\n\t\tthis.pict = this.fable;\n\t\t// Wire in the essential Pict state\n\t\t/** @type {Record<string, any>} */\n\t\tthis.AppData = this.fable.AppData;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.Bundle = this.fable.Bundle;\n\n\t\t/** @type {number} */\n\t\tthis.initializeTimestamp;\n\t\t/** @type {number} */\n\t\tthis.lastSolvedTimestamp;\n\t\t/** @type {number} */\n\t\tthis.lastLoginTimestamp;\n\t\t/** @type {number} */\n\t\tthis.lastMarshalFromViewsTimestamp;\n\t\t/** @type {number} */\n\t\tthis.lastMarshalToViewsTimestamp;\n\t\t/** @type {number} */\n\t\tthis.lastAutoRenderTimestamp;\n\t\t/** @type {number} */\n\t\tthis.lastLoadDataTimestamp;\n\n\t\t// Load all the manifests for the application\n\t\tlet tmpManifestKeys = Object.keys(this.options.Manifests);\n\t\tif (tmpManifestKeys.length > 0)\n\t\t{\n\t\t\tfor (let i = 0; i < tmpManifestKeys.length; i++)\n\t\t\t{\n\t\t\t\t// Load each manifest\n\t\t\t\tlet tmpManifestKey = tmpManifestKeys[i];\n\t\t\t\tthis.fable.instantiateServiceProvider('Manifest', this.options.Manifests[tmpManifestKey], tmpManifestKey);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Solve All Views                          */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * @return {boolean}\n\t */\n\tonPreSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onPreSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonPreSolveAsync(fCallback)\n\t{\n\t\tthis.onPreSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonBeforeSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeSolveAsync(fCallback)\n\t{\n\t\tthis.onBeforeSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonSolveAsync(fCallback)\n\t{\n\t\tthis.onSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tsolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} executing solve() function...`)\n\t\t}\n\n\t\t// Walk through any loaded providers and solve them as well.\n\t\tlet tmpLoadedProviders = Object.keys(this.pict.providers);\n\t\tlet tmpProvidersToSolve = [];\n\t\tfor (let i = 0; i < tmpLoadedProviders.length; i++)\n\t\t{\n\t\t\tlet tmpProvider = this.pict.providers[tmpLoadedProviders[i]];\n\t\t\tif (tmpProvider.options.AutoSolveWithApp)\n\t\t\t{\n\t\t\t\ttmpProvidersToSolve.push(tmpProvider);\n\t\t\t}\n\t\t}\n\t\t// Sort the providers by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\ttmpProvidersToSolve.sort((a, b) => { return a.options.AutoSolveOrdinal - b.options.AutoSolveOrdinal; });\n\t\tfor (let i = 0; i < tmpProvidersToSolve.length; i++)\n\t\t{\n\t\t\ttmpProvidersToSolve[i].solve(tmpProvidersToSolve[i]);\n\t\t}\n\n\t\tthis.onBeforeSolve();\n\t\t// Now walk through any loaded views and initialize them as well.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\tlet tmpViewsToSolve = [];\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\tif (tmpView.options.AutoInitialize)\n\t\t\t{\n\t\t\t\ttmpViewsToSolve.push(tmpView);\n\t\t\t}\n\t\t}\n\t\t// Sort the views by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\ttmpViewsToSolve.sort((a, b) => { return a.options.AutoInitializeOrdinal - b.options.AutoInitializeOrdinal; });\n\t\tfor (let i = 0; i < tmpViewsToSolve.length; i++)\n\t\t{\n\t\t\ttmpViewsToSolve[i].solve();\n\t\t}\n\t\tthis.onSolve();\n\t\tthis.onAfterSolve();\n\t\tthis.lastSolvedTimestamp = this.fable.log.getTimeStamp();\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tsolveAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\ttmpAnticipate.anticipate(this.onBeforeSolveAsync.bind(this));\n\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : false;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync Auto Callback Error: ${pError}`, pError)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\t\t// Walk through any loaded providers and solve them as well.\n\t\tlet tmpLoadedProviders = Object.keys(this.pict.providers);\n\t\tlet tmpProvidersToSolve = [];\n\t\tfor (let i = 0; i < tmpLoadedProviders.length; i++)\n\t\t{\n\t\t\tlet tmpProvider = this.pict.providers[tmpLoadedProviders[i]];\n\t\t\tif (tmpProvider.options.AutoSolveWithApp)\n\t\t\t{\n\t\t\t\ttmpProvidersToSolve.push(tmpProvider);\n\t\t\t}\n\t\t}\n\t\t// Sort the providers by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\ttmpProvidersToSolve.sort((a, b) => { return a.options.AutoSolveOrdinal - b.options.AutoSolveOrdinal; });\n\t\tfor (let i = 0; i < tmpProvidersToSolve.length; i++)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvidersToSolve[i].solveAsync.bind(tmpProvidersToSolve[i]));\n\t\t}\n\n\t\t// Walk through any loaded views and solve them as well.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\tlet tmpViewsToSolve = [];\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\tif (tmpView.options.AutoSolveWithApp)\n\t\t\t{\n\t\t\t\ttmpViewsToSolve.push(tmpView);\n\t\t\t}\n\t\t}\n\t\t// Sort the views by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\ttmpViewsToSolve.sort((a, b) => { return a.options.AutoSolveOrdinal - b.options.AutoSolveOrdinal; });\n\t\tfor (let i = 0; i < tmpViewsToSolve.length; i++)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpViewsToSolve[i].solveAsync.bind(tmpViewsToSolve[i]));\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onSolveAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterSolveAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastSolvedTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonAfterSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterSolveAsync(fCallback)\n\t{\n\t\tthis.onAfterSolve();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Application Login                        */\n\t/* -------------------------------------------------------------------------- */\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeLoginAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeLoginAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonLoginAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onLoginAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tloginAsync(fCallback)\n\t{\n\t\tconst tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\tlet tmpCallback = fCallback;\n\n\t\tif (typeof(tmpCallback) !== 'function')\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} loginAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} loginAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeLoginAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onLoginAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterLoginAsync.bind(this));\n\n\t\t// check and see if we should automatically trigger a data load\n\t\tif (this.options.AutoLoadDataAfterLogin)\n\t\t{\n\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t{\n\t\t\t\tif (!this.isLoggedIn())\n\t\t\t\t{\n\t\t\t\t\treturn fNext();\n\t\t\t\t}\n\t\t\t\tif (this.pict.LogNoisiness > 1)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} auto loading data after login...`);\n\t\t\t\t}\n\t\t\t\t//TODO: should data load errors funnel here? this creates a weird coupling between login and data load callbacks\n\t\t\t\tthis.loadDataAsync((pError) =>\n\t\t\t\t{\n\t\t\t\t\tfNext(pError);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} loginAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastLoginTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Check if the application state is logged in. Defaults to true. Override this method in your application based on login requirements.\n\t *\n\t * @return {boolean}\n\t */\n\tisLoggedIn()\n\t{\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterLoginAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterLoginAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Application LoadData                     */\n\t/* -------------------------------------------------------------------------- */\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeLoadDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeLoadDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonLoadDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onLoadDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tloadDataAsync(fCallback)\n\t{\n\t\tconst tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\tlet tmpCallback = fCallback;\n\n\t\tif (typeof(tmpCallback) !== 'function')\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} loadDataAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} loadDataAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeLoadDataAsync.bind(this));\n\n\t\t// Walk through any loaded providers and load their data as well.\n\t\tlet tmpLoadedProviders = Object.keys(this.pict.providers);\n\t\tlet tmpProvidersToLoadData = [];\n\t\tfor (let i = 0; i < tmpLoadedProviders.length; i++)\n\t\t{\n\t\t\tlet tmpProvider = this.pict.providers[tmpLoadedProviders[i]];\n\t\t\tif (tmpProvider.options.AutoLoadDataWithApp)\n\t\t\t{\n\t\t\t\ttmpProvidersToLoadData.push(tmpProvider);\n\t\t\t}\n\t\t}\n\t\t// Sort the providers by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\ttmpProvidersToLoadData.sort((a, b) => { return a.options.AutoLoadDataOrdinal - b.options.AutoLoadDataOrdinal; });\n\n\t\tfor (const tmpProvider of tmpProvidersToLoadData)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvider.onBeforeLoadDataAsync.bind(tmpProvider));\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onLoadDataAsync.bind(this));\n\n\t\t//TODO: think about ways to parallelize these\n\t\tfor (const tmpProvider of tmpProvidersToLoadData)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvider.onLoadDataAsync.bind(tmpProvider));\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onAfterLoadDataAsync.bind(this));\n\n\t\tfor (const tmpProvider of tmpProvidersToLoadData)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvider.onAfterLoadDataAsync.bind(tmpProvider));\n\t\t}\n\n\t\ttmpAnticipate.wait(\n\t\t\t/** @param {Error} [pError] */\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} loadDataAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastLoadDataTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterLoadDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterLoadDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Application SaveData                     */\n\t/* -------------------------------------------------------------------------- */\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeSaveDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeSaveDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonSaveDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onSaveDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tsaveDataAsync(fCallback)\n\t{\n\t\tconst tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\tlet tmpCallback = fCallback;\n\n\t\tif (typeof(tmpCallback) !== 'function')\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} saveDataAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} saveDataAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeSaveDataAsync.bind(this));\n\n\t\t// Walk through any loaded providers and load their data as well.\n\t\tlet tmpLoadedProviders = Object.keys(this.pict.providers);\n\t\tlet tmpProvidersToSaveData = [];\n\t\tfor (let i = 0; i < tmpLoadedProviders.length; i++)\n\t\t{\n\t\t\tlet tmpProvider = this.pict.providers[tmpLoadedProviders[i]];\n\t\t\tif (tmpProvider.options.AutoSaveDataWithApp)\n\t\t\t{\n\t\t\t\ttmpProvidersToSaveData.push(tmpProvider);\n\t\t\t}\n\t\t}\n\t\t// Sort the providers by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\ttmpProvidersToSaveData.sort((a, b) => { return a.options.AutoSaveDataOrdinal - b.options.AutoSaveDataOrdinal; });\n\n\t\tfor (const tmpProvider of tmpProvidersToSaveData)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvider.onBeforeSaveDataAsync.bind(tmpProvider));\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onSaveDataAsync.bind(this));\n\n\t\t//TODO: think about ways to parallelize these\n\t\tfor (const tmpProvider of tmpProvidersToSaveData)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvider.onSaveDataAsync.bind(tmpProvider));\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onAfterSaveDataAsync.bind(this));\n\n\t\tfor (const tmpProvider of tmpProvidersToSaveData)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvider.onAfterSaveDataAsync.bind(tmpProvider));\n\t\t}\n\n\t\ttmpAnticipate.wait(\n\t\t\t/** @param {Error} [pError] */\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} saveDataAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastSaveDataTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterSaveDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterSaveDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Initialize Application                   */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * @return {boolean}\n\t */\n\tonBeforeInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeInitializeAsync(fCallback)\n\t{\n\t\tthis.onBeforeInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonInitializeAsync(fCallback)\n\t{\n\t\tthis.onInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tinitialize()\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow APPLICATION [${this.UUID}]::[${this.Hash}] ${this.options.Name} initialize:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tthis.onBeforeInitialize();\n\n\t\t\tif ('ConfigurationOnlyViews' in this.options)\n\t\t\t{\n\t\t\t\t// Load all the configuration only views\n\t\t\t\tfor (let i = 0; i < this.options.ConfigurationOnlyViews.length; i++)\n\t\t\t\t{\n\t\t\t\t\tlet tmpViewIdentifier = (typeof(this.options.ConfigurationOnlyViews[i].ViewIdentifier) === 'undefined') ? `AutoView-${this.fable.getUUID()}`\n\t\t\t\t\t\t\t\t\t\t\t: this.options.ConfigurationOnlyViews[i].ViewIdentifier;\n\t\t\t\t\tthis.log.info(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} adding configuration only view: ${tmpViewIdentifier}`);\n\t\t\t\t\tthis.pict.addView(tmpViewIdentifier, this.options.ConfigurationOnlyViews[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.onInitialize();\n\n\t\t\t// Walk through any loaded providers and initialize them as well.\n\t\t\tlet tmpLoadedProviders = Object.keys(this.pict.providers);\n\t\t\tlet tmpProvidersToInitialize = [];\n\t\t\tfor (let i = 0; i < tmpLoadedProviders.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpProvider = this.pict.providers[tmpLoadedProviders[i]];\n\t\t\t\tif (tmpProvider.options.AutoInitialize)\n\t\t\t\t{\n\t\t\t\t\ttmpProvidersToInitialize.push(tmpProvider);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Sort the providers by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\t\ttmpProvidersToInitialize.sort((a, b) => { return a.options.AutoInitializeOrdinal - b.options.AutoInitializeOrdinal; });\n\t\t\tfor (let i = 0; i < tmpProvidersToInitialize.length; i++)\n\t\t\t{\n\t\t\t\ttmpProvidersToInitialize[i].initialize();\n\t\t\t}\n\n\t\t\t// Now walk through any loaded views and initialize them as well.\n\t\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\t\tlet tmpViewsToInitialize = [];\n\t\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\t\tif (tmpView.options.AutoInitialize)\n\t\t\t\t{\n\t\t\t\t\ttmpViewsToInitialize.push(tmpView);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Sort the views by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\t\ttmpViewsToInitialize.sort((a, b) => { return a.options.AutoInitializeOrdinal - b.options.AutoInitializeOrdinal; });\n\t\t\tfor (let i = 0; i < tmpViewsToInitialize.length; i++)\n\t\t\t{\n\t\t\t\ttmpViewsToInitialize[i].initialize();\n\t\t\t}\n\n\t\t\tthis.onAfterInitialize();\n\t\t\tif (this.options.AutoSolveAfterInitialize)\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 1)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} auto solving after initialization...`);\n\t\t\t\t}\n\t\t\t\t// Solve the template synchronously\n\t\t\t\tthis.solve();\n\t\t\t}\n\t\t\t// Now check and see if we should automatically render as well\n\t\t\tif (this.options.AutoRenderMainViewportViewAfterInitialize)\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 1)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} auto rendering after initialization...`);\n\t\t\t\t}\n\t\t\t\t// Render the template synchronously\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t\tthis.initializeTimestamp = this.fable.log.getTimeStamp();\n\t\t\tthis.onCompletionOfInitialize();\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} initialize called but initialization is already completed.  Aborting.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tinitializeAsync(fCallback)\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow APPLICATION [${this.UUID}]::[${this.Hash}] ${this.options.Name} initializeAsync:`);\n\t\t}\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : false;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} initializeAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} initializeAsync Auto Callback Error: ${pError}`, pError)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tlet tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t\tif (this.pict.LogNoisiness > 3)\n\t\t\t{\n\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} beginning initialization...`);\n\t\t\t}\n\n\t\t\tif ('ConfigurationOnlyViews' in this.options)\n\t\t\t{\n\t\t\t\t// Load all the configuration only views\n\t\t\t\tfor (let i = 0; i < this.options.ConfigurationOnlyViews.length; i++)\n\t\t\t\t{\n\t\t\t\t\tlet tmpViewIdentifier = (typeof(this.options.ConfigurationOnlyViews[i].ViewIdentifier) === 'undefined') ? `AutoView-${this.fable.getUUID()}`\n\t\t\t\t\t\t\t\t\t\t\t: this.options.ConfigurationOnlyViews[i].ViewIdentifier;\n\t\t\t\t\tthis.log.info(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} adding configuration only view: ${tmpViewIdentifier}`);\n\t\t\t\t\tthis.pict.addView(tmpViewIdentifier, this.options.ConfigurationOnlyViews[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttmpAnticipate.anticipate(this.onBeforeInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onInitializeAsync.bind(this));\n\n\t\t\t// Walk through any loaded providers and solve them as well.\n\t\t\tlet tmpLoadedProviders = Object.keys(this.pict.providers);\n\t\t\tlet tmpProvidersToInitialize = [];\n\t\t\tfor (let i = 0; i < tmpLoadedProviders.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpProvider = this.pict.providers[tmpLoadedProviders[i]];\n\t\t\t\tif (tmpProvider.options.AutoInitialize)\n\t\t\t\t{\n\t\t\t\t\ttmpProvidersToInitialize.push(tmpProvider);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Sort the providers by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\t\ttmpProvidersToInitialize.sort((a, b) => { return a.options.AutoInitializeOrdinal - b.options.AutoInitializeOrdinal; });\n\t\t\tfor (let i = 0; i < tmpProvidersToInitialize.length; i++)\n\t\t\t{\n\t\t\t\ttmpAnticipate.anticipate(tmpProvidersToInitialize[i].initializeAsync.bind(tmpProvidersToInitialize[i]));\n\t\t\t}\n\n\t\t\t// Now walk through any loaded views and initialize them as well.\n\t\t\t// TODO: Some optimization cleverness could be gained by grouping them into a parallelized async operation, by ordinal.\n\t\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\t\tlet tmpViewsToInitialize = [];\n\t\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\t\tif (tmpView.options.AutoInitialize)\n\t\t\t\t{\n\t\t\t\t\ttmpViewsToInitialize.push(tmpView);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Sort the views by their priority\n\t\t\t// If they are all the default priority 0, it will end up being add order due to JSON Object Property Key order stuff\n\t\t\ttmpViewsToInitialize.sort((a, b) => { return a.options.AutoInitializeOrdinal - b.options.AutoInitializeOrdinal; });\n\t\t\tfor (let i = 0; i < tmpViewsToInitialize.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpView = tmpViewsToInitialize[i];\n\t\t\t\ttmpAnticipate.anticipate(tmpView.initializeAsync.bind(tmpView));\n\t\t\t}\n\n\t\t\ttmpAnticipate.anticipate(this.onAfterInitializeAsync.bind(this));\n\n\t\t\tif (this.options.AutoLoginAfterInitialize)\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 1)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} auto login (asynchronously) after initialization...`);\n\t\t\t\t}\n\t\t\t\ttmpAnticipate.anticipate(this.loginAsync.bind(this));\n\t\t\t}\n\n\t\t\tif (this.options.AutoSolveAfterInitialize)\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 1)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} auto solving (asynchronously) after initialization...`);\n\t\t\t\t}\n\t\t\t\ttmpAnticipate.anticipate(this.solveAsync.bind(this));\n\t\t\t}\n\n\t\t\tif (this.options.AutoRenderMainViewportViewAfterInitialize)\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 1)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} auto rendering (asynchronously) after initialization...`);\n\t\t\t\t}\n\t\t\t\ttmpAnticipate.anticipate(this.renderMainViewportAsync.bind(this));\n\t\t\t}\n\n\t\t\ttmpAnticipate.wait(\n\t\t\t\t(pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} initializeAsync Error: ${pError.message || pError}`, { stack: pError.stack });\n\t\t\t\t\t}\n\t\t\t\t\tthis.initializeTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} initialization complete.`);\n\t\t\t\t\t}\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} async initialize called but initialization is already completed.  Aborting.`);\n\t\t\t// TODO: Should this be an error?\n\t\t\treturn this.onCompletionOfInitializeAsync(tmpCallback);\n\t\t}\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonAfterInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterInitializeAsync(fCallback)\n\t{\n\t\tthis.onAfterInitialize();\n\t\treturn fCallback();\n\t}\n\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonCompletionOfInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onCompletionOfInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonCompletionOfInitializeAsync(fCallback)\n\t{\n\t\tthis.onCompletionOfInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Marshal Data From All Views              */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * @return {boolean}\n\t */\n\tonBeforeMarshalFromViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeMarshalFromViews:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeMarshalFromViewsAsync(fCallback)\n\t{\n\t\tthis.onBeforeMarshalFromViews();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonMarshalFromViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onMarshalFromViews:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonMarshalFromViewsAsync(fCallback)\n\t{\n\t\tthis.onMarshalFromViews();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tmarshalFromViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} executing marshalFromViews() function...`)\n\t\t}\n\t\tthis.onBeforeMarshalFromViews();\n\t\t// Now walk through any loaded views and initialize them as well.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\tlet tmpViewsToMarshalFromViews = [];\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\ttmpViewsToMarshalFromViews.push(tmpView);\n\t\t}\n\t\tfor (let i = 0; i < tmpViewsToMarshalFromViews.length; i++)\n\t\t{\n\t\t\ttmpViewsToMarshalFromViews[i].marshalFromView();\n\t\t}\n\t\tthis.onMarshalFromViews();\n\t\tthis.onAfterMarshalFromViews();\n\t\tthis.lastMarshalFromViewsTimestamp = this.fable.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tmarshalFromViewsAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : false;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewsAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewsAsync Auto Callback Error: ${pError}`, pError)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeMarshalFromViewsAsync.bind(this));\n\t\t// Walk through any loaded views and marshalFromViews them as well.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\tlet tmpViewsToMarshalFromViews = [];\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\ttmpViewsToMarshalFromViews.push(tmpView);\n\t\t}\n\t\tfor (let i = 0; i < tmpViewsToMarshalFromViews.length; i++)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpViewsToMarshalFromViews[i].marshalFromViewAsync.bind(tmpViewsToMarshalFromViews[i]));\n\t\t}\n\t\ttmpAnticipate.anticipate(this.onMarshalFromViewsAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterMarshalFromViewsAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewsAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastMarshalFromViewsTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonAfterMarshalFromViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterMarshalFromViews:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterMarshalFromViewsAsync(fCallback)\n\t{\n\t\tthis.onAfterMarshalFromViews();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Marshal Data To All Views                */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * @return {boolean}\n\t */\n\tonBeforeMarshalToViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeMarshalToViews:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeMarshalToViewsAsync(fCallback)\n\t{\n\t\tthis.onBeforeMarshalToViews();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonMarshalToViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onMarshalToViews:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonMarshalToViewsAsync(fCallback)\n\t{\n\t\tthis.onMarshalToViews();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tmarshalToViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} executing marshalToViews() function...`)\n\t\t}\n\t\tthis.onBeforeMarshalToViews();\n\t\t// Now walk through any loaded views and initialize them as well.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\tlet tmpViewsToMarshalToViews = [];\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\ttmpViewsToMarshalToViews.push(tmpView);\n\t\t}\n\t\tfor (let i = 0; i < tmpViewsToMarshalToViews.length; i++)\n\t\t{\n\t\t\ttmpViewsToMarshalToViews[i].marshalToView();\n\t\t}\n\t\tthis.onMarshalToViews();\n\t\tthis.onAfterMarshalToViews();\n\t\tthis.lastMarshalToViewsTimestamp = this.fable.log.getTimeStamp();\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tmarshalToViewsAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : false;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewsAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewsAsync Auto Callback Error: ${pError}`, pError)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeMarshalToViewsAsync.bind(this));\n\t\t// Walk through any loaded views and marshalToViews them as well.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\tlet tmpViewsToMarshalToViews = [];\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\ttmpViewsToMarshalToViews.push(tmpView);\n\t\t}\n\t\tfor (let i = 0; i < tmpViewsToMarshalToViews.length; i++)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpViewsToMarshalToViews[i].marshalToViewAsync.bind(tmpViewsToMarshalToViews[i]));\n\t\t}\n\t\ttmpAnticipate.anticipate(this.onMarshalToViewsAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterMarshalToViewsAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewsAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastMarshalToViewsTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonAfterMarshalToViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterMarshalToViews:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterMarshalToViewsAsync(fCallback)\n\t{\n\t\tthis.onAfterMarshalToViews();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Render View                              */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * @return {boolean}\n\t */\n\tonBeforeRender()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeRenderAsync(fCallback)\n\t{\n\t\tthis.onBeforeRender();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {string} [pViewIdentifier] - The hash of the view to render. By default, the main viewport view is rendered.\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string} [pTemplateDataAddress] - The address where the data for the template is stored.\n\t *\n\t * TODO: Should we support objects for pTemplateDataAddress for parity with pict-view?\n\t */\n\trender(pViewIdentifier, pRenderableHash, pRenderDestinationAddress, pTemplateDataAddress)\n\t{\n\t\tlet tmpViewIdentifier = (typeof(pViewIdentifier) !== 'string') ? this.options.MainViewportViewIdentifier : pViewIdentifier;\n\t\tlet tmpRenderableHash = (typeof(pRenderableHash) !== 'string') ? this.options.MainViewportRenderableHash : pRenderableHash;\n\t\tlet tmpRenderDestinationAddress = (typeof(pRenderDestinationAddress) !== 'string') ? this.options.MainViewportDestinationAddress : pRenderDestinationAddress;\n\t\tlet tmpTemplateDataAddress = (typeof(pTemplateDataAddress) !== 'string') ? this.options.MainViewportDefaultDataAddress : pTemplateDataAddress;\n\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow APPLICATION [${this.UUID}]::[${this.Hash}] ${this.options.Name} VIEW Renderable[${tmpRenderableHash}] Destination[${tmpRenderDestinationAddress}] TemplateDataAddress[${tmpTemplateDataAddress}] render:`);\n\t\t}\n\n\t\tthis.onBeforeRender();\n\n\t\t// Now get the view (by hash) from the loaded views\n\t\tlet tmpView = (typeof (tmpViewIdentifier) === 'string') ? this.servicesMap.PictView[tmpViewIdentifier] : false;\n\t\tif (!tmpView)\n\t\t{\n\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} could not render from View ${tmpViewIdentifier} because it is not a valid view.`);\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.onRender();\n\n\t\ttmpView.render(tmpRenderableHash, tmpRenderDestinationAddress, tmpTemplateDataAddress);\n\n\t\tthis.onAfterRender();\n\n\t\treturn true;\n\t}\n\t/**\n\t * @return {boolean}\n\t */\n\tonRender()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonRenderAsync(fCallback)\n\t{\n\t\tthis.onRender();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {string|((error?: Error) => void)} pViewIdentifier - The hash of the view to render. By default, the main viewport view is rendered. (or the callback)\n\t * @param {string|((error?: Error) => void)} [pRenderableHash] - The hash of the renderable to render. (or the callback)\n\t * @param {string|((error?: Error) => void)} [pRenderDestinationAddress] - The address where the renderable will be rendered. (or the callback)\n\t * @param {string|((error?: Error) => void)} [pTemplateDataAddress] - The address where the data for the template is stored. (or the callback)\n\t * @param {(error?: Error) => void} [fCallback] - The callback, if all other parameters are provided.\n\t *\n\t * TODO: Should we support objects for pTemplateDataAddress for parity with pict-view?\n\t */\n\trenderAsync(pViewIdentifier, pRenderableHash, pRenderDestinationAddress, pTemplateDataAddress, fCallback)\n\t{\n\t\tlet tmpViewIdentifier = (typeof(pViewIdentifier) !== 'string') ? this.options.MainViewportViewIdentifier : pViewIdentifier;\n\t\tlet tmpRenderableHash = (typeof(pRenderableHash) !== 'string') ? this.options.MainViewportRenderableHash : pRenderableHash;\n\t\tlet tmpRenderDestinationAddress = (typeof(pRenderDestinationAddress) !== 'string') ? this.options.MainViewportDestinationAddress : pRenderDestinationAddress;\n\t\tlet tmpTemplateDataAddress = (typeof(pTemplateDataAddress) !== 'string') ? this.options.MainViewportDefaultDataAddress : pTemplateDataAddress;\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback :\n\t\t\t\t\t\t\t(typeof(pTemplateDataAddress) === 'function') ? pTemplateDataAddress :\n\t\t\t\t\t\t\t(typeof(pRenderDestinationAddress) === 'function') ? pRenderDestinationAddress :\n\t\t\t\t\t\t\t(typeof(pRenderableHash) === 'function') ? pRenderableHash :\n\t\t\t\t\t\t\t(typeof(pViewIdentifier) === 'function') ? pViewIdentifier :\n\t\t\t\t\t\t\tfalse;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAsync Auto Callback Error: ${pError}`, pError)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow APPLICATION [${this.UUID}]::[${this.Hash}] ${this.options.Name} VIEW Renderable[${tmpRenderableHash}] Destination[${tmpRenderDestinationAddress}] TemplateDataAddress[${tmpTemplateDataAddress}] renderAsync:`);\n\t\t}\n\n\t\tlet tmpRenderAnticipate = this.fable.newAnticipate();\n\n\t\ttmpRenderAnticipate.anticipate(this.onBeforeRenderAsync.bind(this));\n\n\t\tlet tmpView = (typeof (tmpViewIdentifier) === 'string') ? this.servicesMap.PictView[tmpViewIdentifier] : false;\n\t\tif (!tmpView)\n\t\t{\n\t\t\tlet tmpErrorMessage = `PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} could not asynchronously render from View ${tmpViewIdentifier} because it is not a valid view.`;\n\t\t\tif (this.pict.LogNoisiness > 3)\n\t\t\t{\n\t\t\t\tthis.log.error(tmpErrorMessage);\n\t\t\t}\n\t\t\treturn tmpCallback(new Error(tmpErrorMessage));\n\t\t}\n\n\t\ttmpRenderAnticipate.anticipate(this.onRenderAsync.bind(this));\n\n\t\ttmpRenderAnticipate.anticipate(\n\t\t\t(fNext) =>\n\t\t\t{\n\t\t\t\ttmpView.renderAsync.call(tmpView, tmpRenderableHash, tmpRenderDestinationAddress, tmpTemplateDataAddress, fNext);\n\t\t\t});\n\n\t\ttmpRenderAnticipate.anticipate(this.onAfterRenderAsync.bind(this));\n\n\t\treturn tmpRenderAnticipate.wait(tmpCallback);\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonAfterRender()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterRenderAsync(fCallback)\n\t{\n\t\tthis.onAfterRender();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\trenderMainViewport()\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow APPLICATION [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderMainViewport:`);\n\t\t}\n\n\t\treturn this.render();\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\trenderMainViewportAsync(fCallback)\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow APPLICATION [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderMainViewportAsync:`);\n\t\t}\n\n\t\treturn this.renderAsync(fCallback);\n\t}\n\t/**\n\t * @return {void}\n\t */\n\trenderAutoViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} beginning renderAutoViews...`);\n\t\t}\n\t\t// Now walk through any loaded views and sort them by the AutoRender ordinal\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\t// Sort the views by their priority\n\t\t// If they are all the default priority 0, it will end up being add order due to JSON Object Property Key order stuff\n\t\ttmpLoadedViews.sort((a, b) =>\n\t\t{\n\t\t\treturn this.pict.views[a].options.AutoRenderOrdinal - this.pict.views[b].options.AutoRenderOrdinal;\n\t\t});\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\tif (tmpView.options.AutoRender)\n\t\t\t{\n\t\t\t\ttmpView.render();\n\t\t\t}\n\t\t}\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAutoViewsAsync complete.`);\n\t\t}\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\trenderAutoViewsAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback :\n\t\t\t\t\t\t\tfalse;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAutoViewsAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAutoViewsAsync Auto Callback Error: ${pError}`, pError)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} beginning renderAutoViewsAsync...`);\n\t\t}\n\n\t\t// Now walk through any loaded views and sort them by the AutoRender ordinal\n\t\t// TODO: Some optimization cleverness could be gained by grouping them into a parallelized async operation, by ordinal.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\t// Sort the views by their priority\n\t\t// If they are all the default priority 0, it will end up being add order due to JSON Object Property Key order stuff\n\t\ttmpLoadedViews.sort((a, b) =>\n\t\t{\n\t\t\treturn this.pict.views[a].options.AutoRenderOrdinal - this.pict.views[b].options.AutoRenderOrdinal;\n\t\t});\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\tif (tmpView.options.AutoRender)\n\t\t\t{\n\t\t\t\ttmpAnticipate.anticipate(tmpView.renderAsync.bind(tmpView));\n\t\t\t}\n\t\t}\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tthis.lastAutoRenderTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAutoViewsAsync complete.`);\n\t\t\t\t}\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tget isPictApplication()\n\t{\n\t\treturn true;\n\t}\n}\n\nmodule.exports = PictApplication;\n\n},{\"../package.json\":3,\"fable-serviceproviderbase\":2}],5:[function(require,module,exports){\nmodule.exports={\n    \"name\": \"pict-provider\",\n    \"version\": \"1.0.7\",\n    \"description\": \"Pict Provider Base Class\",\n    \"main\": \"source/Pict-Provider.js\",\n    \"scripts\": {\n        \"start\": \"node source/Pict-Provider.js\",\n        \"test\": \"npx mocha -u tdd -R spec\",\n        \"tests\": \"npx mocha -u tdd --exit -R spec --grep\",\n        \"coverage\": \"npx nyc --reporter=lcov --reporter=text-lcov npx mocha -- -u tdd -R spec\",\n        \"build\": \"npx quack build\",\n        \"docker-dev-build\": \"docker build ./ -f Dockerfile_LUXURYCode -t pict-provider-image:local\",\n        \"docker-dev-run\": \"docker run -it -d --name pict-provider-dev -p 24125:8080 -p 30027:8086 -v \\\"$PWD/.config:/home/coder/.config\\\"  -v \\\"$PWD:/home/coder/pict-provider\\\" -u \\\"$(id -u):$(id -g)\\\" -e \\\"DOCKER_USER=$USER\\\" pict-provider-image:local\",\n        \"docker-dev-shell\": \"docker exec -it pict-provider-dev /bin/bash\",\n        \"lint\": \"eslint source/**\",\n        \"types\": \"tsc -p .\"\n    },\n    \"types\": \"types/source/Pict-Provider.d.ts\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"git+https://github.com/stevenvelozo/pict-provider.git\"\n    },\n    \"author\": \"steven velozo <steven@velozo.com>\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/pict-provider/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/pict-provider#readme\",\n    \"devDependencies\": {\n        \"@eslint/js\": \"^9.39.1\",\n        \"eslint\": \"^9.39.1\",\n        \"pict\": \"^1.0.342\",\n        \"quackage\": \"^1.0.45\",\n        \"typescript\": \"^5.9.3\"\n    },\n    \"dependencies\": {\n        \"fable-serviceproviderbase\": \"^3.0.15\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    }\n}\n\n},{}],6:[function(require,module,exports){\nconst libFableServiceBase = require('fable-serviceproviderbase');\n\nconst libPackage = require('../package.json');\n\nconst defaultPictProviderSettings = (\n\t{\n\t\tProviderIdentifier: false,\n\n\t\t// If this is set to true, when the App initializes this will.\n\t\t// After the App initializes, initialize will be called as soon as it's added.\n\t\tAutoInitialize: true,\n\t\tAutoInitializeOrdinal: 0,\n\n\t\tAutoLoadDataWithApp: true,\n\n\t\tAutoSolveWithApp: true,\n\t\tAutoSolveOrdinal: 0,\n\n\t\tManifests: {},\n\n\t\tTemplates: []\n\t});\n\nclass PictProvider extends libFableServiceBase\n{\n\t/**\n\t * @param {import('fable')} pFable - The Fable instance.\n\t * @param {Record<string, any>} [pOptions] - The options for the provider.\n\t * @param {string} [pServiceHash] - The service hash for the provider.\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\t// Intersect default options, parent constructor, service information\n\t\tlet tmpOptions = Object.assign({}, JSON.parse(JSON.stringify(defaultPictProviderSettings)), pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\n\t\t/** @type {import('fable') & import('pict') & { instantiateServiceProviderWithoutRegistration(pServiceType: string, pOptions?: Record<string, any>, pCustomServiceHash?: string): any }} */\n\t\tthis.fable;\n\t\t/** @type {import('fable') & import('pict') & { instantiateServiceProviderWithoutRegistration(pServiceType: string, pOptions?: Record<string, any>, pCustomServiceHash?: string): any }} */\n\t\tthis.pict;\n\t\t/** @type {any} */\n\t\tthis.log;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.options;\n\t\t/** @type {string} */\n\t\tthis.UUID;\n\t\t/** @type {string} */\n\t\tthis.Hash;\n\n\t\tif (!this.options.ProviderIdentifier)\n\t\t{\n\t\t\tthis.options.ProviderIdentifier = `AutoProviderID-${this.fable.getUUID()}`;\n\t\t}\n\n\t\tthis.serviceType = 'PictProvider';\n\t\t/** @type {Record<string, any>} */\n\t\tthis._Package = libPackage;\n\n\t\t// Convenience and consistency naming\n\t\tthis.pict = this.fable;\n\n\t\t// Wire in the essential Pict application state\n\t\t/** @type {Record<string, any>} */\n\t\tthis.AppData = this.pict.AppData;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.Bundle = this.pict.Bundle;\n\n\t\tthis.initializeTimestamp = false;\n\t\tthis.lastSolvedTimestamp = false;\n\n\t\tfor (let i = 0; i < this.options.Templates.length; i++)\n\t\t{\n\t\t\tlet tmpDefaultTemplate = this.options.Templates[i];\n\n\t\t\tif (!tmpDefaultTemplate.hasOwnProperty('Postfix') || !tmpDefaultTemplate.hasOwnProperty('Template'))\n\t\t\t{\n\t\t\t\tthis.log.error(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} could not load Default Template ${i} in the options array.`, tmpDefaultTemplate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!tmpDefaultTemplate.Source)\n\t\t\t\t{\n\t\t\t\t\ttmpDefaultTemplate.Source = `PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} options object.`;\n\t\t\t\t}\n\t\t\t\tthis.pict.TemplateProvider.addDefaultTemplate(tmpDefaultTemplate.Prefix, tmpDefaultTemplate.Postfix, tmpDefaultTemplate.Template, tmpDefaultTemplate.Source);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                        Code Section: Initialization                        */\n\t/* -------------------------------------------------------------------------- */\n\tonBeforeInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onBeforeInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after pre-pinitialization.\n\t *\n\t * @return {void}\n\t */\n\tonBeforeInitializeAsync(fCallback)\n\t{\n\t\tthis.onBeforeInitialize();\n\t\treturn fCallback();\n\t}\n\n\tonInitialize()\n\t{\n\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after initialization.\n\t *\n\t * @return {void}\n\t */\n\tonInitializeAsync(fCallback)\n\t{\n\t\tthis.onInitialize();\n\t\treturn fCallback();\n\t}\n\n\tinitialize()\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow PROVIDER [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialize:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tthis.onBeforeInitialize();\n\t\t\tthis.onInitialize();\n\t\t\tthis.onAfterInitialize();\n\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialize called but initialization is already completed.  Aborting.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after initialization.\n\t *\n\t * @return {void}\n\t */\n\tinitializeAsync(fCallback)\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow PROVIDER [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initializeAsync:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t{\n\t\t\t\tthis.log.info(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} beginning initialization...`);\n\t\t\t}\n\n\t\t\ttmpAnticipate.anticipate(this.onBeforeInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onAfterInitializeAsync.bind(this));\n\n\t\t\ttmpAnticipate.wait(\n\t\t\t\t(pError) =>\n\t\t\t\t{\n\t\t\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialization failed: ${pError.message || pError}`, { Stack: pError.stack });\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.pict.LogNoisiness > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.info(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialization complete.`);\n\t\t\t\t\t}\n\t\t\t\t\treturn fCallback();\n\t\t\t\t})\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} async initialize called but initialization is already completed.  Aborting.`);\n\t\t\t// TODO: Should this be an error?\n\t\t\treturn fCallback();\n\t\t}\n\t}\n\n\tonAfterInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onAfterInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after initialization.\n\t *\n\t * @return {void}\n\t */\n\tonAfterInitializeAsync(fCallback)\n\t{\n\t\tthis.onAfterInitialize();\n\t\treturn fCallback();\n\t}\n\n\tonPreRender()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onPreRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after pre-render.\n\t *\n\t * @return {void}\n\t */\n\tonPreRenderAsync(fCallback)\n\t{\n\t\tthis.onPreRender();\n\t\treturn fCallback();\n\t}\n\n\trender()\n\t{\n\t\treturn this.onPreRender();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after render.\n\t *\n\t * @return {void}\n\t */\n\trenderAsync(fCallback)\n\t{\n\t\tthis.onPreRender();\n\t\treturn fCallback();\n\t}\n\n\tonPreSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onPreSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after pre-solve.\n\t *\n\t * @return {void}\n\t */\n\tonPreSolveAsync(fCallback)\n\t{\n\t\tthis.onPreSolve();\n\t\treturn fCallback();\n\t}\n\n\tsolve()\n\t{\n\t\treturn this.onPreSolve();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after solve.\n\t *\n\t * @return {void}\n\t */\n\tsolveAsync(fCallback)\n\t{\n\t\tthis.onPreSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data pre-load.\n\t */\n\tonBeforeLoadDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Hook to allow the provider to load data during application data load.\n\t *\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data load.\n\t */\n\tonLoadDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onLoadDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data post-load.\n\t */\n\tonAfterLoadDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data pre-load.\n\t *\n\t * @return {void}\n\t */\n\tonBeforeSaveDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Hook to allow the provider to load data during application data load.\n\t *\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data load.\n\t *\n\t * @return {void}\n\t */\n\tonSaveDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onSaveDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data post-load.\n\t *\n\t * @return {void}\n\t */\n\tonAfterSaveDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n}\n\nmodule.exports = PictProvider;\n\n},{\"../package.json\":5,\"fable-serviceproviderbase\":2}],7:[function(require,module,exports){\nmodule.exports={\n    \"name\": \"pict-view\",\n    \"version\": \"1.0.64\",\n    \"description\": \"Pict View Base Class\",\n    \"main\": \"source/Pict-View.js\",\n    \"scripts\": {\n        \"test\": \"mocha -u tdd -R spec\",\n        \"tests\": \"mocha -u tdd -R spec -g\",\n        \"start\": \"node source/Pict-View.js\",\n        \"coverage\": \"nyc --reporter=lcov --reporter=text-lcov npm test\",\n        \"build\": \"npx quack build\",\n        \"docker-dev-build\": \"docker build ./ -f Dockerfile_LUXURYCode -t pict-view-image:local\",\n        \"docker-dev-run\": \"docker run -it -d --name pict-view-dev -p 30001:8080 -p 38086:8086 -v \\\"$PWD/.config:/home/coder/.config\\\"  -v \\\"$PWD:/home/coder/pict-view\\\" -u \\\"$(id -u):$(id -g)\\\" -e \\\"DOCKER_USER=$USER\\\" pict-view-image:local\",\n        \"docker-dev-shell\": \"docker exec -it pict-view-dev /bin/bash\",\n        \"types\": \"tsc -p .\",\n        \"lint\": \"eslint source/**\"\n    },\n    \"types\": \"types/source/Pict-View.d.ts\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"git+https://github.com/stevenvelozo/pict-view.git\"\n    },\n    \"author\": \"steven velozo <steven@velozo.com>\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/pict-view/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/pict-view#readme\",\n    \"devDependencies\": {\n        \"@eslint/js\": \"^9.39.1\",\n        \"browser-env\": \"^3.3.0\",\n        \"eslint\": \"^9.39.1\",\n        \"pict\": \"^1.0.337\",\n        \"quackage\": \"^1.0.45\",\n        \"typescript\": \"^5.9.3\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    },\n    \"dependencies\": {\n        \"fable\": \"^3.1.46\",\n        \"fable-serviceproviderbase\": \"^3.0.15\"\n    }\n}\n\n},{}],8:[function(require,module,exports){\n\nconst libFableServiceBase = require('fable-serviceproviderbase');\n\nconst libPackage = require('../package.json');\n\nconst defaultPictViewSettings = (\n\t{\n\t\tDefaultRenderable: false,\n\t\tDefaultDestinationAddress: false,\n\t\tDefaultTemplateRecordAddress: false,\n\n\t\tViewIdentifier: false,\n\n\t\t// If this is set to true, when the App initializes this will.\n\t\t// After the App initializes, initialize will be called as soon as it's added.\n\t\tAutoInitialize: true,\n\t\tAutoInitializeOrdinal: 0,\n\n\t\t// If this is set to true, when the App autorenders (on load) this will.\n\t\t// After the App initializes, render will be called as soon as it's added.\n\t\tAutoRender: true,\n\t\tAutoRenderOrdinal: 0,\n\n\t\tAutoSolveWithApp: true,\n\t\tAutoSolveOrdinal: 0,\n\n\t\tCSSHash: false,\n\t\tCSS: false,\n\t\tCSSProvider: false,\n\t\tCSSPriority: 500,\n\n\t\tTemplates: [],\n\n\t\tDefaultTemplates: [],\n\n\t\tRenderables: [],\n\n\t\tManifests: {}\n\t});\n\n/** @typedef {(error?: Error) => void} ErrorCallback */\n/** @typedef {number | boolean} PictTimestamp */\n\n/**\n * @typedef {'replace' | 'append' | 'prepend' | 'append_once' | 'virtual-assignment'} RenderMethod\n */\n/**\n * @typedef {Object} Renderable\n *\n * @property {string} RenderableHash - A unique hash for the renderable.\n * @property {string} TemplateHash - The hash of the template to use for rendering this renderable.\n * @property {string} [DefaultTemplateRecordAddress] - The default address for resolving the data record for this renderable.\n * @property {string} [ContentDestinationAddress] - The default address (DOM CSS selector) for rendering the content of this renderable.\n * @property {RenderMethod} [RenderMethod=replace] - The method to use when projecting the renderable to the DOM ('replace', 'append', 'prepend', 'append_once', 'virtual-assignment').\n * @property {string} [TestAddress] - The address to use for testing the renderable.\n * @property {string} [TransactionHash] - The transaction hash for the root renderable.\n * @property {string} [RootRenderableViewHash] - The hash of the root renderable.\n * @property {string} [Content] - The rendered content for this renderable, if applicable.\n */\n\n/**\n * Represents a view in the Pict ecosystem.\n */\nclass PictView extends libFableServiceBase\n{\n\t/**\n\t * @param {any} pFable - The Fable object that this service is attached to.\n\t * @param {any} [pOptions] - (optional) The options for this service.\n\t * @param {string} [pServiceHash] - (optional) The hash of the service.\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\t// Intersect default options, parent constructor, service information\n\t\tlet tmpOptions = Object.assign({}, JSON.parse(JSON.stringify(defaultPictViewSettings)), pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\t\t//FIXME: add types to fable and ancillaries\n\t\t/** @type {any} */\n\t\tthis.fable;\n\t\t/** @type {any} */\n\t\tthis.options;\n\t\t/** @type {String} */\n\t\tthis.UUID;\n\t\t/** @type {String} */\n\t\tthis.Hash;\n\t\t/** @type {any} */\n\t\tthis.log;\n\n\t\tconst tmpHashIsUUID = this.Hash === this.UUID;\n\t\t//NOTE: since many places are using the view UUID as the HTML element ID, we prefix it to avoid starting with a number\n\t\tthis.UUID = `V-${this.UUID}`;\n\t\tif (tmpHashIsUUID)\n\t\t{\n\t\t\tthis.Hash = this.UUID;\n\t\t}\n\n\t\tif (!this.options.ViewIdentifier)\n\t\t{\n\t\t\tthis.options.ViewIdentifier = `AutoViewID-${this.fable.getUUID()}`;\n\t\t}\n\t\tthis.serviceType = 'PictView';\n\t\t/** @type {Record<string, any>} */\n\t\tthis._Package = libPackage;\n\t\t// Convenience and consistency naming\n\t\t/** @type {import('pict') & { log: any, instantiateServiceProviderWithoutRegistration: (hash: String) => any, instantiateServiceProviderIfNotExists: (hash: string) => any, TransactionTracking: import('pict/types/source/services/Fable-Service-TransactionTracking') }} */\n\t\tthis.pict = this.fable;\n\t\t// Wire in the essential Pict application state\n\t\tthis.AppData = this.pict.AppData;\n\t\tthis.Bundle = this.pict.Bundle;\n\n\t\t/** @type {PictTimestamp} */\n\t\tthis.initializeTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastSolvedTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastRenderedTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastMarshalFromViewTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastMarshalToViewTimestamp = false;\n\n\t\tthis.pict.instantiateServiceProviderIfNotExists('TransactionTracking');\n\n\t\t// Load all templates from the array in the options\n\t\t// Templates are in the form of {Hash:'Some-Template-Hash',Template:'Template content',Source:'TemplateSource'}\n\t\tfor (let i = 0; i < this.options.Templates.length; i++)\n\t\t{\n\t\t\tlet tmpTemplate = this.options.Templates[i];\n\n\t\t\tif (!('Hash' in tmpTemplate) || !('Template' in tmpTemplate))\n\t\t\t{\n\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not load Template ${i} in the options array.`, tmpTemplate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!tmpTemplate.Source)\n\t\t\t\t{\n\t\t\t\t\ttmpTemplate.Source = `PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} options object.`;\n\t\t\t\t}\n\t\t\t\tthis.pict.TemplateProvider.addTemplate(tmpTemplate.Hash, tmpTemplate.Template, tmpTemplate.Source);\n\t\t\t}\n\t\t}\n\n\t\t// Load all default templates from the array in the options\n\t\t// Templates are in the form of {Prefix:'',Postfix:'-List-Row',Template:'Template content',Source:'TemplateSourceString'}\n\t\tfor (let i = 0; i < this.options.DefaultTemplates.length; i++)\n\t\t{\n\t\t\tlet tmpDefaultTemplate = this.options.DefaultTemplates[i];\n\n\t\t\tif (!('Postfix' in tmpDefaultTemplate) || !('Template' in tmpDefaultTemplate))\n\t\t\t{\n\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not load Default Template ${i} in the options array.`, tmpDefaultTemplate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!tmpDefaultTemplate.Source)\n\t\t\t\t{\n\t\t\t\t\ttmpDefaultTemplate.Source = `PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} options object.`;\n\t\t\t\t}\n\t\t\t\tthis.pict.TemplateProvider.addDefaultTemplate(tmpDefaultTemplate.Prefix, tmpDefaultTemplate.Postfix, tmpDefaultTemplate.Template, tmpDefaultTemplate.Source);\n\t\t\t}\n\t\t}\n\n\t\t// Load the CSS if it's available\n\t\tif (this.options.CSS)\n\t\t{\n\t\t\tlet tmpCSSHash = this.options.CSSHash ? this.options.CSSHash : `View-${this.options.ViewIdentifier}`;\n\t\t\tlet tmpCSSProvider = this.options.CSSProvider ? this.options.CSSProvider : tmpCSSHash;\n\t\t\tthis.pict.CSSMap.addCSS(tmpCSSHash, this.options.CSS, tmpCSSProvider, this.options.CSSPriority);\n\t\t}\n\n\t\t// Load all renderables\n\t\t// Renderables are launchable renderable instructions with templates\n\t\t// They look as such: {Identifier:'ContentEntry', TemplateHash:'Content-Entry-Section-Main', ContentDestinationAddress:'#ContentSection', RecordAddress:'AppData.Content.DefaultText', ManifestTransformation:'ManyfestHash', ManifestDestinationAddress:'AppData.Content.DataToTransformContent'}\n\t\t// The only parts that are necessary are Identifier and Template\n\t\t// A developer can then do render('ContentEntry') and it just kinda works.  Or they can override the ContentDestinationAddress\n\t\t/** @type {Record<String, Renderable>} */\n\t\tthis.renderables = {};\n\t\tfor (let i = 0; i < this.options.Renderables.length; i++)\n\t\t{\n\t\t\t/** @type {Renderable} */\n\t\t\tlet tmpRenderable = this.options.Renderables[i];\n\t\t\tthis.addRenderable(tmpRenderable);\n\t\t}\n\t}\n\n\t/**\n\t * Adds a renderable to the view.\n\t *\n\t * @param {string | Renderable} pRenderableHash - The hash of the renderable, or a renderable object.\n\t * @param {string} [pTemplateHash] - (optional) The hash of the template for the renderable.\n\t * @param {string} [pDefaultTemplateRecordAddress] - (optional) The default data address for the template.\n\t * @param {string} [pDefaultDestinationAddress] - (optional) The default destination address for the renderable.\n\t * @param {RenderMethod} [pRenderMethod=replace] - (optional) The method to use when rendering the renderable (ex. 'replace').\n\t */\n\taddRenderable(pRenderableHash, pTemplateHash, pDefaultTemplateRecordAddress, pDefaultDestinationAddress, pRenderMethod)\n\t{\n\t\t/** @type {Renderable} */\n\t\tlet tmpRenderable;\n\n\t\tif (typeof(pRenderableHash) == 'object')\n\t\t{\n\t\t\t// The developer passed in the renderable as an object.\n\t\t\t// Use theirs instead!\n\t\t\ttmpRenderable = pRenderableHash;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t/** @type {RenderMethod} */\n\t\t\tlet tmpRenderMethod = (typeof(pRenderMethod) !== 'string') ? pRenderMethod : 'replace';\n\t\t\ttmpRenderable = (\n\t\t\t\t{\n\t\t\t\t\tRenderableHash: pRenderableHash,\n\t\t\t\t\tTemplateHash: pTemplateHash,\n\t\t\t\t\tDefaultTemplateRecordAddress: pDefaultTemplateRecordAddress,\n\t\t\t\t\tContentDestinationAddress: pDefaultDestinationAddress,\n\t\t\t\t\tRenderMethod: tmpRenderMethod\n\t\t\t\t});\n\t\t}\n\n\t\tif ((typeof(tmpRenderable.RenderableHash) != 'string') || (typeof(tmpRenderable.TemplateHash) != 'string'))\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not load Renderable; RenderableHash or TemplateHash are invalid.`, tmpRenderable);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t{\n\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} adding renderable [${tmpRenderable.RenderableHash}] pointed to template ${tmpRenderable.TemplateHash}.`);\n\t\t\t}\n\n\t\t\tthis.renderables[tmpRenderable.RenderableHash] = tmpRenderable;\n\t\t}\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                        Code Section: Initialization                        */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before the view is initialized.\n\t */\n\tonBeforeInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is initialized (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeInitializeAsync(fCallback)\n\t{\n\t\tthis.onBeforeInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is initialized.\n\t */\n\tonInitialize()\n\t{\n\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is initialized (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonInitializeAsync(fCallback)\n\t{\n\t\tthis.onInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Performs view initialization.\n\t */\n\tinitialize()\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialize:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tthis.onBeforeInitialize();\n\t\t\tthis.onInitialize();\n\t\t\tthis.onAfterInitialize();\n\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialize called but initialization is already completed.  Aborting.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Performs view initialization (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tinitializeAsync(fCallback)\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initializeAsync:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t{\n\t\t\t\tthis.log.info(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} beginning initialization...`);\n\t\t\t}\n\n\t\t\ttmpAnticipate.anticipate(this.onBeforeInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onAfterInitializeAsync.bind(this));\n\n\t\t\ttmpAnticipate.wait(\n\t\t\t\t/** @param {Error} pError */\n\t\t\t\t(pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialization failed: ${pError.message || pError}`, { stack: pError.stack });\n\t\t\t\t\t}\n\t\t\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.info(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialization complete.`);\n\t\t\t\t\t}\n\t\t\t\t\treturn fCallback();\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} async initialize called but initialization is already completed.  Aborting.`);\n\t\t\t// TODO: Should this be an error?\n\t\t\treturn fCallback();\n\t\t}\n\t}\n\n\tonAfterInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is initialized (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterInitializeAsync(fCallback)\n\t{\n\t\tthis.onAfterInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                            Code Section: Render                            */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before the view is rendered.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that will be rendered.\n\t */\n\tonBeforeRender(pRenderable)\n\t{\n\t\t// Overload this to mess with stuff before the content gets generated from the template\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is rendered (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that will be rendered.\n\t */\n\tonBeforeRenderAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onBeforeRender(pRenderable);\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is projected into the DOM.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that will be projected.\n\t */\n\tonBeforeProject(pRenderable)\n\t{\n\t\t// Overload this to mess with stuff before the content gets generated from the template\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeProject:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is projected into the DOM (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that will be projected.\n\t */\n\tonBeforeProjectAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onBeforeProject(pRenderable);\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Builds the render options for a renderable.\n\t *\n\t * For DRY purposes on the three flavors of render.\n\t *\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object|ErrorCallback} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t */\n\tbuildRenderOptions(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress)\n\t{\n\t\tlet tmpRenderOptions = {Valid: true};\n\t\ttmpRenderOptions.RenderableHash = (typeof (pRenderableHash) === 'string') ? pRenderableHash :\n\t\t\t\t\t\t\t\t(typeof (this.options.DefaultRenderable) == 'string') ?\n\t\t\t\t\t\t\t\tthis.options.DefaultRenderable : false;\n\t\tif (!tmpRenderOptions.RenderableHash)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not find a suitable RenderableHash ${tmpRenderOptions.RenderableHash} (param ${pRenderableHash}because it is not a valid renderable.`);\n\t\t\ttmpRenderOptions.Valid = false;\n\t\t}\n\n\t\ttmpRenderOptions.Renderable = this.renderables[tmpRenderOptions.RenderableHash];\n\t\tif (!tmpRenderOptions.Renderable)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderOptions.RenderableHash} (param ${pRenderableHash}) because it does not exist.`);\n\t\t\ttmpRenderOptions.Valid = false;\n\t\t}\n\n\t\ttmpRenderOptions.DestinationAddress = (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t(typeof (tmpRenderOptions.Renderable.ContentDestinationAddress) === 'string') ? tmpRenderOptions.Renderable.ContentDestinationAddress :\n\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : false;\n\t\tif (!tmpRenderOptions.DestinationAddress)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderOptions.RenderableHash} (param ${pRenderableHash}) because it does not have a valid destination address (param ${pRenderDestinationAddress}).`);\n\t\t\ttmpRenderOptions.Valid = false;\n\t\t}\n\n\t\tif (typeof(pTemplateRecordAddress) === 'object')\n\t\t{\n\t\t\ttmpRenderOptions.RecordAddress = 'Passed in as object';\n\t\t\ttmpRenderOptions.Record = pTemplateRecordAddress;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRenderOptions.RecordAddress = (typeof (pTemplateRecordAddress) === 'string') ? pTemplateRecordAddress :\n\t\t\t\t(typeof (tmpRenderOptions.Renderable.DefaultTemplateRecordAddress) === 'string') ? tmpRenderOptions.Renderable.DefaultTemplateRecordAddress :\n\t\t\t\t(typeof (this.options.DefaultTemplateRecordAddress) === 'string') ? this.options.DefaultTemplateRecordAddress : false;\n\t\t\ttmpRenderOptions.Record = (typeof (tmpRenderOptions.RecordAddress) === 'string') ? this.pict.DataProvider.getDataByAddress(tmpRenderOptions.RecordAddress) : undefined;\n\t\t}\n\n\t\treturn tmpRenderOptions;\n\t}\n\n\t/**\n\t * Assigns the content to the destination address.\n\t *\n\t * For DRY purposes on the three flavors of render.\n\t *\n\t * @param {Renderable} pRenderable - The renderable to render.\n\t * @param {string} pRenderDestinationAddress - The address where the renderable will be rendered.\n\t * @param {string} pContent - The content to render.\n\t * @returns {boolean} - Returns true if the content was assigned successfully.\n\t * @memberof PictView\n\t */\n\tassignRenderContent(pRenderable, pRenderDestinationAddress, pContent)\n\t{\n\t\treturn this.pict.ContentAssignment.projectContent(pRenderable.RenderMethod, pRenderDestinationAddress, pContent, pRenderable.TestAddress);\n\t}\n\n\t/**\n\t * Render a renderable from this view.\n\t *\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @return {boolean}\n\t */\n\trender(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable)\n\t{\n\t\treturn this.renderWithScope(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable);\n\t}\n\n\t/**\n\t * Render a renderable from this view, providing a specifici scope for the template.\n\t *\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @return {boolean}\n\t */\n\trenderWithScope(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable)\n\t{\n\t\tlet tmpRenderableHash = (typeof (pRenderableHash) === 'string') ? pRenderableHash :\n\t\t\t(typeof (this.options.DefaultRenderable) == 'string') ? this.options.DefaultRenderable : false;\n\t\tif (!tmpRenderableHash)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it is not a valid renderable.`);\n\t\t\treturn false;\n\t\t}\n\n\t\t/** @type {Renderable} */\n\t\tlet tmpRenderable;\n\t\tif (tmpRenderableHash == '__Virtual')\n\t\t{\n\t\t\ttmpRenderable = {\n\t\t\t\tRenderableHash: '__Virtual',\n\t\t\t\tTemplateHash: this.renderables[this.options.DefaultRenderable].TemplateHash,\n\t\t\t\tContentDestinationAddress: (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t\t\t(typeof (tmpRenderable.ContentDestinationAddress) === 'string') ? tmpRenderable.ContentDestinationAddress :\n\t\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null,\n\t\t\t\tRenderMethod: 'virtual-assignment',\n\t\t\t\tTransactionHash: pRootRenderable && pRootRenderable.TransactionHash,\n\t\t\t\tRootRenderableViewHash: pRootRenderable && pRootRenderable.RootRenderableViewHash,\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRenderable = Object.assign({}, this.renderables[tmpRenderableHash]);\n\t\t\ttmpRenderable.ContentDestinationAddress = (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t\t(typeof (tmpRenderable.ContentDestinationAddress) === 'string') ? tmpRenderable.ContentDestinationAddress :\n\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null;\n\t\t}\n\n\t\tif (!tmpRenderable.TransactionHash)\n\t\t{\n\t\t\ttmpRenderable.TransactionHash = `ViewRender-V-${this.options.ViewIdentifier}-R-${tmpRenderableHash}-U-${this.pict.getUUID()}`;\n\t\t\ttmpRenderable.RootRenderableViewHash = this.Hash;\n\t\t\tthis.pict.TransactionTracking.registerTransaction(tmpRenderable.TransactionHash);\n\t\t}\n\n\t\tif (!tmpRenderable)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not exist.`);\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!tmpRenderable.ContentDestinationAddress)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not have a valid destination address.`);\n\t\t\treturn false;\n\t\t}\n\n\t\tlet tmpRecordAddress;\n\t\tlet tmpRecord;\n\n\t\tif (typeof(pTemplateRecordAddress) === 'object')\n\t\t{\n\t\t\ttmpRecord = pTemplateRecordAddress;\n\t\t\ttmpRecordAddress = 'Passed in as object';\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRecordAddress = (typeof (pTemplateRecordAddress) === 'string') ? pTemplateRecordAddress :\n\t\t\t\t(typeof (tmpRenderable.DefaultTemplateRecordAddress) === 'string') ? tmpRenderable.DefaultTemplateRecordAddress :\n\t\t\t\t\t(typeof (this.options.DefaultTemplateRecordAddress) === 'string') ? this.options.DefaultTemplateRecordAddress : false;\n\n\t\t\ttmpRecord = (typeof (tmpRecordAddress) === 'string') ? this.pict.DataProvider.getDataByAddress(tmpRecordAddress) : undefined;\n\t\t}\n\n\t\t// Execute the developer-overridable pre-render behavior\n\t\tthis.onBeforeRender(tmpRenderable);\n\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] Renderable[${tmpRenderableHash}] Destination[${tmpRenderable.ContentDestinationAddress}] TemplateRecordAddress[${tmpRecordAddress}] render:`);\n\t\t}\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Beginning Render of Renderable[${tmpRenderableHash}] to Destination [${tmpRenderable.ContentDestinationAddress}]...`);\n\t\t}\n\t\t// Generate the content output from the template and data\n\t\ttmpRenderable.Content = this.pict.parseTemplateByHash(tmpRenderable.TemplateHash, tmpRecord, null, [this], pScope, { RootRenderable: typeof pRootRenderable === 'object' ? pRootRenderable : tmpRenderable });\n\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Assigning Renderable[${tmpRenderableHash}] content length ${tmpRenderable.Content.length} to Destination [${tmpRenderable.ContentDestinationAddress}] using render method [${tmpRenderable.RenderMethod}].`);\n\t\t}\n\n\t\tthis.onBeforeProject(tmpRenderable);\n\t\tthis.onProject(tmpRenderable);\n\n\t\tif (tmpRenderable.RenderMethod !== 'virtual-assignment')\n\t\t{\n\t\t\tthis.onAfterProject(tmpRenderable);\n\n\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\tthis.onAfterRender(tmpRenderable);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Render a renderable from this view.\n\t *\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object|ErrorCallback} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable|ErrorCallback} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t *\n\t * @return {void}\n\t */\n\trenderAsync(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable, fCallback)\n\t{\n\t\treturn this.renderWithScopeAsync(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable, fCallback);\n\t}\n\n\t/**\n\t * Render a renderable from this view.\n\t *\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object|ErrorCallback} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable|ErrorCallback} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t *\n\t * @return {void}\n\t */\n\trenderWithScopeAsync(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable, fCallback)\n\t{\n\t\tlet tmpRenderableHash = (typeof (pRenderableHash) === 'string') ? pRenderableHash :\n\t\t\t(typeof (this.options.DefaultRenderable) == 'string') ? this.options.DefaultRenderable : false;\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback :\n\t\t\t\t\t\t\t(typeof(pTemplateRecordAddress) === 'function') ? pTemplateRecordAddress :\n\t\t\t\t\t\t\t(typeof(pRenderDestinationAddress) === 'function') ? pRenderDestinationAddress :\n\t\t\t\t\t\t\t(typeof(pRenderableHash) === 'function') ? pRenderableHash :\n\t\t\t\t\t\t\t(typeof(pRootRenderable) === 'function') ? pRootRenderable :\n\t\t\t\t\t\t\tnull;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tif (!tmpRenderableHash)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not asynchronously render ${tmpRenderableHash} (param ${pRenderableHash}because it is not a valid renderable.`);\n\t\t\treturn tmpCallback(new Error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not asynchronously render ${tmpRenderableHash} (param ${pRenderableHash}because it is not a valid renderable.`));\n\t\t}\n\n\t\t/** @type {Renderable} */\n\t\tlet tmpRenderable;\n\t\tif (tmpRenderableHash == '__Virtual')\n\t\t{\n\t\t\ttmpRenderable = {\n\t\t\t\tRenderableHash: '__Virtual',\n\t\t\t\tTemplateHash: this.renderables[this.options.DefaultRenderable].TemplateHash,\n\t\t\t\tContentDestinationAddress: (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress : (typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null,\n\t\t\t\tRenderMethod: 'virtual-assignment',\n\t\t\t\tTransactionHash: pRootRenderable && typeof pRootRenderable !== 'function' && pRootRenderable.TransactionHash,\n\t\t\t\tRootRenderableViewHash: pRootRenderable && typeof pRootRenderable !== 'function' && pRootRenderable.RootRenderableViewHash,\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRenderable = Object.assign({}, this.renderables[tmpRenderableHash]);\n\t\t\ttmpRenderable.ContentDestinationAddress = (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t\t(typeof (tmpRenderable.ContentDestinationAddress) === 'string') ? tmpRenderable.ContentDestinationAddress :\n\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null;\n\t\t}\n\n\t\tif (!tmpRenderable.TransactionHash)\n\t\t{\n\t\t\ttmpRenderable.TransactionHash = `ViewRender-V-${this.options.ViewIdentifier}-R-${tmpRenderableHash}-U-${this.pict.getUUID()}`;\n\t\t\ttmpRenderable.RootRenderableViewHash = this.Hash;\n\t\t\tthis.pict.TransactionTracking.registerTransaction(tmpRenderable.TransactionHash);\n\t\t}\n\n\t\tif (!tmpRenderable)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not exist.`);\n\t\t\treturn tmpCallback(new Error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not exist.`));\n\t\t}\n\n\t\tif (!tmpRenderable.ContentDestinationAddress)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not have a valid destination address.`);\n\t\t\treturn tmpCallback(new Error(`Could not render ${tmpRenderableHash}`));\n\t\t}\n\n\t\tlet tmpRecordAddress;\n\t\tlet tmpRecord;\n\n\t\tif (typeof(pTemplateRecordAddress) === 'object')\n\t\t{\n\t\t\ttmpRecord = pTemplateRecordAddress;\n\t\t\ttmpRecordAddress = 'Passed in as object';\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRecordAddress = (typeof (pTemplateRecordAddress) === 'string') ? pTemplateRecordAddress :\n\t\t\t\t(typeof (tmpRenderable.DefaultTemplateRecordAddress) === 'string') ? tmpRenderable.DefaultTemplateRecordAddress :\n\t\t\t\t\t(typeof (this.options.DefaultTemplateRecordAddress) === 'string') ? this.options.DefaultTemplateRecordAddress : false;\n\n\t\t\ttmpRecord = (typeof (tmpRecordAddress) === 'string') ? this.pict.DataProvider.getDataByAddress(tmpRecordAddress) : undefined;\n\t\t}\n\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] Renderable[${tmpRenderableHash}] Destination[${tmpRenderable.ContentDestinationAddress}] TemplateRecordAddress[${tmpRecordAddress}] renderAsync:`);\n\t\t}\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Beginning Asynchronous Render (callback-style)...`);\n\t\t}\n\n\t\tlet tmpAnticipate = this.fable.newAnticipate();\n\n\t\ttmpAnticipate.anticipate(\n\t\t\t(fOnBeforeRenderCallback) =>\n\t\t\t{\n\t\t\t\tthis.onBeforeRenderAsync(fOnBeforeRenderCallback, tmpRenderable);\n\t\t\t});\n\n\t\ttmpAnticipate.anticipate(\n\t\t\t(fAsyncTemplateCallback) =>\n\t\t\t{\n\t\t\t\t// Render the template (asynchronously)\n\t\t\t\tthis.pict.parseTemplateByHash(tmpRenderable.TemplateHash, tmpRecord,\n\t\t\t\t\t(pError, pContent) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif (pError)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render (asynchronously) ${tmpRenderableHash} (param ${pRenderableHash}) because it did not parse the template.`, pError);\n\t\t\t\t\t\t\treturn fAsyncTemplateCallback(pError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttmpRenderable.Content = pContent;\n\n\t\t\t\t\t\treturn fAsyncTemplateCallback();\n\t\t\t\t\t}, [this], pScope, { RootRenderable: typeof pRootRenderable === 'object' ? pRootRenderable : tmpRenderable });\n\t\t\t});\n\n\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t{\n\t\t\tthis.onBeforeProjectAsync(fNext, tmpRenderable);\n\t\t});\n\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t{\n\t\t\tthis.onProjectAsync(fNext, tmpRenderable);\n\t\t});\n\n\t\tif (tmpRenderable.RenderMethod !== 'virtual-assignment')\n\t\t{\n\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t{\n\t\t\t\tthis.onAfterProjectAsync(fNext, tmpRenderable);\n\t\t\t});\n\n\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t{\n\t\t\t\tthis.onAfterRenderAsync(fNext, tmpRenderable);\n\t\t\t});\n\t\t}\n\n\t\ttmpAnticipate.wait(tmpCallback);\n\t}\n\n\t/**\n\t * Renders the default renderable.\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\trenderDefaultAsync(fCallback)\n\t{\n\t\t// Render the default renderable\n\t\tthis.renderAsync(fCallback);\n\t}\n\n\t/**\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t */\n\tbasicRender(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress)\n\t{\n\t\treturn this.basicRenderWithScope(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress);\n\t}\n\n\t/**\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t */\n\tbasicRenderWithScope(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress)\n\t{\n\t\tlet tmpRenderOptions = this.buildRenderOptions(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress);\n\t\tif (tmpRenderOptions.Valid)\n\t\t{\n\t\t\tthis.assignRenderContent(tmpRenderOptions.Renderable, tmpRenderOptions.DestinationAddress, this.pict.parseTemplateByHash(tmpRenderOptions.Renderable.TemplateHash, tmpRenderOptions.Record, null, [this], pScope, { RootRenderable: tmpRenderOptions.Renderable }));\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not perform a basic render of ${tmpRenderOptions.RenderableHash} because it is not valid.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|Object|ErrorCallback} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t */\n\tbasicRenderAsync(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, fCallback)\n\t{\n\t\treturn this.basicRenderWithScopeAsync(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, fCallback);\n\t}\n\n\t/**\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|Object|ErrorCallback} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t */\n\tbasicRenderWithScopeAsync(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, fCallback)\n\t{\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback :\n\t\t\t\t\t\t\t(typeof(pTemplateRecordAddress) === 'function') ? pTemplateRecordAddress :\n\t\t\t\t\t\t\t(typeof(pRenderDestinationAddress) === 'function') ? pRenderDestinationAddress :\n\t\t\t\t\t\t\t(typeof(pRenderableHash) === 'function') ? pRenderableHash :\n\t\t\t\t\t\t\tnull;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} basicRenderAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} basicRenderAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tconst tmpRenderOptions = this.buildRenderOptions(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress);\n\t\tif (tmpRenderOptions.Valid)\n\t\t{\n\t\t\tthis.pict.parseTemplateByHash(tmpRenderOptions.Renderable.TemplateHash, tmpRenderOptions.Record,\n\t\t\t\t/**\n\t\t\t\t * @param {Error} [pError] - The error that occurred during template parsing.\n\t\t\t\t * @param {string} [pContent] - The content that was rendered from the template.\n\t\t\t\t */\n\t\t\t\t(pError, pContent) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render (asynchronously) ${tmpRenderOptions.RenderableHash} because it did not parse the template.`, pError);\n\t\t\t\t\t\treturn tmpCallback(pError);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.assignRenderContent(tmpRenderOptions.Renderable, tmpRenderOptions.DestinationAddress, pContent);\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t}, [this], pScope, { RootRenderable: tmpRenderOptions.Renderable });\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet tmpErrorMessage = `PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not perform a basic render of ${tmpRenderOptions.RenderableHash} because it is not valid.`;\n\t\t\tthis.log.error(tmpErrorMessage);\n\t\t\treturn tmpCallback(new Error(tmpErrorMessage));\n\t\t}\n\t}\n\n\t/**\n\t * @param {Renderable} pRenderable - The renderable that was rendered.\n\t */\n\tonProject(pRenderable)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onProject:`);\n\t\t}\n\t\tif (pRenderable.RenderMethod === 'virtual-assignment')\n\t\t{\n\t\t\tthis.pict.TransactionTracking.pushToTransactionQueue(pRenderable.TransactionHash, { ViewHash: this.Hash, Renderable: pRenderable }, 'Deferred-Post-Content-Assignment');\n\t\t}\n\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Assigning Renderable[${pRenderable.RenderableHash}] content length ${pRenderable.Content.length} to Destination [${pRenderable.ContentDestinationAddress}] using Async render method ${pRenderable.RenderMethod}.`);\n\t\t}\n\n\t\t// Assign the content to the destination address\n\t\tthis.pict.ContentAssignment.projectContent(pRenderable.RenderMethod, pRenderable.ContentDestinationAddress, pRenderable.Content, pRenderable.TestAddress);\n\n\t\tthis.lastRenderedTimestamp = this.pict.log.getTimeStamp();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is projected into the DOM (async flow).\n\t *\n\t * @param {(error?: Error, content?: string) => void} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that is being projected.\n\t */\n\tonProjectAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onProject(pRenderable);\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is rendered.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that was rendered.\n\t */\n\tonAfterRender(pRenderable)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterRender:`);\n\t\t}\n\t\tif (pRenderable && pRenderable.RootRenderableViewHash === this.Hash)\n\t\t{\n\t\t\tconst tmpTransactionQueue = this.pict.TransactionTracking.clearTransactionQueue(pRenderable.TransactionHash) || [];\n\t\t\tfor (const tmpEvent of tmpTransactionQueue)\n\t\t\t{\n\t\t\t\tconst tmpView = this.pict.views[tmpEvent.Data.ViewHash];\n\t\t\t\tif (!tmpView)\n\t\t\t\t{\n\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterRender: Could not find view for transaction hash ${pRenderable.TransactionHash} and ViewHash ${tmpEvent.Data.ViewHash}.`);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttmpView.onAfterProject();\n\n\t\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\t\ttmpView.onAfterRender(tmpEvent.Data.Renderable);\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is rendered (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that was rendered.\n\t */\n\tonAfterRenderAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onAfterRender(pRenderable);\n\t\tconst tmpAnticipate = this.fable.newAnticipate();\n\t\tif (pRenderable && pRenderable.RootRenderableViewHash === this.Hash)\n\t\t{\n\t\t\tconst queue = this.pict.TransactionTracking.clearTransactionQueue(pRenderable.TransactionHash) || [];\n\t\t\tfor (const event of queue)\n\t\t\t{\n\t\t\t\t/** @type {PictView} */\n\t\t\t\tconst tmpView = this.pict.views[event.Data.ViewHash];\n\t\t\t\tif (!tmpView)\n\t\t\t\t{\n\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterRenderAsync: Could not find view for transaction hash ${pRenderable.TransactionHash} and ViewHash ${event.Data.ViewHash}.`);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttmpAnticipate.anticipate(tmpView.onAfterProjectAsync.bind(tmpView));\n\t\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t\t{\n\t\t\t\t\ttmpView.onAfterRenderAsync(fNext, event.Data.Renderable);\n\t\t\t\t});\n\n\t\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\t}\n\t\t}\n\t\treturn tmpAnticipate.wait(fCallback);\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is projected into the DOM.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that was projected.\n\t */\n\tonAfterProject(pRenderable)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterProject:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is projected into the DOM (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that was projected.\n\t */\n\tonAfterProjectAsync(fCallback, pRenderable)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                            Code Section: Solver                            */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before the view is solved.\n\t */\n\tonBeforeSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is solved (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeSolveAsync(fCallback)\n\t{\n\t\tthis.onBeforeSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is solved.\n\t */\n\tonSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is solved (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonSolveAsync(fCallback)\n\t{\n\t\tthis.onSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Performs view solving and triggers lifecycle hooks.\n\t *\n\t * @return {boolean} - True if the view was solved successfully, false otherwise.\n\t */\n\tsolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} executing solve() function...`);\n\t\t}\n\t\tthis.onBeforeSolve();\n\t\tthis.onSolve();\n\t\tthis.onAfterSolve();\n\t\tthis.lastSolvedTimestamp = this.pict.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Performs view solving and triggers lifecycle hooks (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tsolveAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : null;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeSolveAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onSolveAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterSolveAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} solveAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastSolvedTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is solved.\n\t */\n\tonAfterSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is solved (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterSolveAsync(fCallback)\n\t{\n\t\tthis.onAfterSolve();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Marshal From View                        */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled from the view.\n\t *\n\t * @return {boolean} - True if the operation was successful, false otherwise.\n\t */\n\tonBeforeMarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeMarshalFromView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeMarshalFromViewAsync(fCallback)\n\t{\n\t\tthis.onBeforeMarshalFromView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled from the view.\n\t */\n\tonMarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onMarshalFromView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonMarshalFromViewAsync(fCallback)\n\t{\n\n\t\tthis.onMarshalFromView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Marshals data from the view.\n\t *\n\t * @return {boolean} - True if the operation was successful, false otherwise.\n\t */\n\tmarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} executing solve() function...`);\n\t\t}\n\t\tthis.onBeforeMarshalFromView();\n\t\tthis.onMarshalFromView();\n\t\tthis.onAfterMarshalFromView();\n\t\tthis.lastMarshalFromViewTimestamp = this.pict.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Marshals data from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tmarshalFromViewAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : null;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeMarshalFromViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onMarshalFromViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterMarshalFromViewAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} marshalFromViewAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastMarshalFromViewTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled from the view.\n\t */\n\tonAfterMarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterMarshalFromView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterMarshalFromViewAsync(fCallback)\n\t{\n\t\tthis.onAfterMarshalFromView();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Marshal To View                          */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled into the view.\n\t */\n\tonBeforeMarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeMarshalToView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeMarshalToViewAsync(fCallback)\n\t{\n\t\tthis.onBeforeMarshalToView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled into the view.\n\t */\n\tonMarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onMarshalToView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonMarshalToViewAsync(fCallback)\n\t{\n\t\tthis.onMarshalToView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Marshals data into the view.\n\t *\n\t * @return {boolean} - True if the operation was successful, false otherwise.\n\t */\n\tmarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} executing solve() function...`);\n\t\t}\n\t\tthis.onBeforeMarshalToView();\n\t\tthis.onMarshalToView();\n\t\tthis.onAfterMarshalToView();\n\t\tthis.lastMarshalToViewTimestamp = this.pict.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Marshals data into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tmarshalToViewAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : null;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\t\ttmpAnticipate.anticipate(this.onBeforeMarshalToViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onMarshalToViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterMarshalToViewAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} marshalToViewAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastMarshalToViewTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled into the view.\n\t */\n\tonAfterMarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterMarshalToView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterMarshalToViewAsync(fCallback)\n\t{\n\t\tthis.onAfterMarshalToView();\n\t\treturn fCallback();\n\t}\n\n\t/** @return {boolean} - True if the object is a PictView. */\n\tget isPictView()\n\t{\n\t\treturn true;\n\t}\n}\n\nmodule.exports = PictView;\n\n},{\"../package.json\":7,\"fable-serviceproviderbase\":2}],9:[function(require,module,exports){\nmodule.exports={\n\t\"Name\": \"Pict Docuserve\",\n\t\"Hash\": \"Docuserve\",\n\n\t\"MainViewportViewIdentifier\": \"Docuserve-Layout\",\n\n\t\"AutoSolveAfterInitialize\": true,\n\t\"AutoRenderMainViewportViewAfterInitialize\": false,\n\t\"AutoRenderViewsAfterInitialize\": false,\n\n\t\"pict_configuration\":\n\t\t{\n\t\t\t\"Product\": \"Docuserve-Pict-Application\"\n\t\t}\n}\n\n},{}],10:[function(require,module,exports){\nconst libPictApplication = require('pict-application');\n\n// Provider\nconst libDocumentationProvider = require('./providers/Pict-Provider-Docuserve-Documentation.js');\n\n// Views\nconst libViewLayout = require('./views/PictView-Docuserve-Layout.js');\nconst libViewTopBar = require('./views/PictView-Docuserve-TopBar.js');\nconst libViewSidebar = require('./views/PictView-Docuserve-Sidebar.js');\nconst libViewSplash = require('./views/PictView-Docuserve-Splash.js');\nconst libViewContent = require('./views/PictView-Docuserve-Content.js');\n\nclass DocuserveApplication extends libPictApplication\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\t// Add the documentation provider\n\t\tthis.pict.addProvider('Docuserve-Documentation', libDocumentationProvider.default_configuration, libDocumentationProvider);\n\n\t\t// Add views\n\t\tthis.pict.addView('Docuserve-Layout', libViewLayout.default_configuration, libViewLayout);\n\t\tthis.pict.addView('Docuserve-TopBar', libViewTopBar.default_configuration, libViewTopBar);\n\t\tthis.pict.addView('Docuserve-Sidebar', libViewSidebar.default_configuration, libViewSidebar);\n\t\tthis.pict.addView('Docuserve-Splash', libViewSplash.default_configuration, libViewSplash);\n\t\tthis.pict.addView('Docuserve-Content', libViewContent.default_configuration, libViewContent);\n\t}\n\n\tonAfterInitializeAsync(fCallback)\n\t{\n\t\t// Initialize application state\n\t\tthis.pict.AppData.Docuserve =\n\t\t{\n\t\t\tCatalogLoaded: false,\n\t\t\tCatalog: null,\n\t\t\tCoverLoaded: false,\n\t\t\tCover: null,\n\t\t\tSidebarLoaded: false,\n\t\t\tSidebarGroups: [],\n\t\t\tTopBarLoaded: false,\n\t\t\tTopBar: null,\n\t\t\tErrorPageLoaded: false,\n\t\t\tErrorPageHTML: null,\n\t\t\tCurrentGroup: '',\n\t\t\tCurrentModule: '',\n\t\t\tCurrentPath: '',\n\t\t\t// Whether the sidebar is currently visible\n\t\t\tSidebarVisible: true,\n\t\t\t// Base URL for local docs (relative to where the app is served)\n\t\t\tDocsBaseURL: '',\n\t\t\t// URL for the catalog JSON\n\t\t\tCatalogURL: 'retold-catalog.json'\n\t\t};\n\n\t\t// Load the catalog, then render the layout\n\t\tlet tmpDocProvider = this.pict.providers['Docuserve-Documentation'];\n\t\ttmpDocProvider.loadCatalog(() =>\n\t\t{\n\t\t\t// Render the layout shell, which triggers child view rendering\n\t\t\tthis.pict.views['Docuserve-Layout'].render();\n\n\t\t\treturn super.onAfterInitializeAsync(fCallback);\n\t\t});\n\t}\n\n\t/**\n\t * Read the current window.location.hash and dispatch to the correct handler.\n\t *\n\t * Route patterns:\n\t *   #/Home                         -> showView('Docuserve-Splash')\n\t *   #/page/<docpath>               -> navigateToPage(docpath)\n\t *   #/doc/<group>/<module>          -> navigateToModule(group, module)\n\t *   #/doc/<group>/<module>/<path>   -> navigateToModulePath(group, module, path)\n\t */\n\tresolveHash()\n\t{\n\t\tlet tmpHash = (window.location.hash || '').replace(/^#\\/?/, '');\n\n\t\tif (!tmpHash || tmpHash === 'Home')\n\t\t{\n\t\t\tthis.showView('Docuserve-Splash');\n\t\t\treturn;\n\t\t}\n\n\t\tlet tmpParts = tmpHash.split('/');\n\n\t\tif (tmpParts[0] === 'page' && tmpParts.length >= 2)\n\t\t{\n\t\t\t// Rejoin everything after 'page/' in case the path has slashes\n\t\t\tlet tmpDocPath = tmpParts.slice(1).join('/');\n\t\t\tthis.navigateToPage(tmpDocPath);\n\t\t\treturn;\n\t\t}\n\n\t\tif (tmpParts[0] === 'doc' && tmpParts.length >= 3)\n\t\t{\n\t\t\tlet tmpGroup = tmpParts[1];\n\t\t\tlet tmpModule = tmpParts[2];\n\t\t\tif (tmpParts.length >= 4)\n\t\t\t{\n\t\t\t\tlet tmpPath = tmpParts.slice(3).join('/');\n\t\t\t\tthis.navigateToModulePath(tmpGroup, tmpModule, tmpPath);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.navigateToModule(tmpGroup, tmpModule);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Unknown route  treat as a page\n\t\tthis.navigateToPage(tmpHash);\n\t}\n\n\t/**\n\t * Navigate to a hash route.\n\t *\n\t * Sets window.location.hash, which triggers the hashchange listener in the\n\t * layout view, which calls resolveHash() automatically.\n\t *\n\t * @param {string} pRoute - The route path (e.g. '/Home', '/page/quick-start')\n\t */\n\tnavigateTo(pRoute)\n\t{\n\t\twindow.location.hash = pRoute;\n\t}\n\n\t/**\n\t * Show a specific view in the content area.\n\t *\n\t * @param {string} pViewIdentifier - The view identifier to render\n\t */\n\tshowView(pViewIdentifier)\n\t{\n\t\tif (pViewIdentifier in this.pict.views)\n\t\t{\n\t\t\tthis.pict.AppData.Docuserve.CurrentGroup = '';\n\t\t\tthis.pict.AppData.Docuserve.CurrentModule = '';\n\t\t\tthis.pict.AppData.Docuserve.CurrentPath = '';\n\n\t\t\tthis.pict.views[pViewIdentifier].render();\n\n\t\t\t// Update sidebar to clear module nav and refresh active states\n\t\t\tthis.pict.views['Docuserve-Sidebar'].clearModuleNav();\n\t\t\tthis.pict.views['Docuserve-Sidebar'].renderSidebarGroups();\n\t\t}\n\t}\n\n\t/**\n\t * Navigate to a module's documentation.\n\t *\n\t * @param {string} pGroup - The group key\n\t * @param {string} pModule - The module name\n\t */\n\tnavigateToModule(pGroup, pModule)\n\t{\n\t\tthis.navigateToModulePath(pGroup, pModule, 'README.md');\n\t}\n\n\t/**\n\t * Navigate to a specific path within a module's documentation.\n\t *\n\t * @param {string} pGroup - The group key\n\t * @param {string} pModule - The module name\n\t * @param {string} pPath - The document path\n\t */\n\tnavigateToModulePath(pGroup, pModule, pPath)\n\t{\n\t\tlet tmpDocProvider = this.pict.providers['Docuserve-Documentation'];\n\t\tlet tmpContentView = this.pict.views['Docuserve-Content'];\n\t\tlet tmpSidebarView = this.pict.views['Docuserve-Sidebar'];\n\n\t\t// Update current navigation state\n\t\tthis.pict.AppData.Docuserve.CurrentGroup = pGroup;\n\t\tthis.pict.AppData.Docuserve.CurrentModule = pModule;\n\t\tthis.pict.AppData.Docuserve.CurrentPath = pPath;\n\n\t\t// Render the content view shell and show loading\n\t\ttmpContentView.render();\n\t\ttmpContentView.showLoading();\n\n\t\t// Update sidebar to show active module and module-specific nav\n\t\ttmpSidebarView.renderSidebarGroups();\n\t\ttmpSidebarView.renderModuleNav(pGroup, pModule);\n\n\t\t// Resolve the document URL and fetch it\n\t\tlet tmpURL = tmpDocProvider.resolveDocumentURL(pGroup, pModule, pPath || 'README.md');\n\n\t\tif (!tmpURL)\n\t\t{\n\t\t\ttmpContentView.displayContent(tmpDocProvider.getErrorPageHTML(pGroup + '/' + pModule));\n\t\t\treturn;\n\t\t}\n\n\t\ttmpDocProvider.fetchDocument(tmpURL, (pError, pHTML) =>\n\t\t{\n\t\t\t// fetchDocument always provides displayable HTML in pHTML,\n\t\t\t// even on error, so we can use it directly.\n\t\t\ttmpContentView.displayContent(pHTML);\n\t\t});\n\t}\n\n\t/**\n\t * Navigate to a local documentation page (e.g. architecture.md).\n\t *\n\t * @param {string} pDocPath - The doc path without extension\n\t */\n\tnavigateToPage(pDocPath)\n\t{\n\t\tlet tmpDocProvider = this.pict.providers['Docuserve-Documentation'];\n\t\tlet tmpContentView = this.pict.views['Docuserve-Content'];\n\t\tlet tmpSidebarView = this.pict.views['Docuserve-Sidebar'];\n\n\t\t// Update state\n\t\tthis.pict.AppData.Docuserve.CurrentGroup = '';\n\t\tthis.pict.AppData.Docuserve.CurrentModule = '';\n\t\tthis.pict.AppData.Docuserve.CurrentPath = pDocPath;\n\n\t\t// Render the content view shell and show loading\n\t\ttmpContentView.render();\n\t\ttmpContentView.showLoading();\n\n\t\t// Clear module-specific sidebar nav\n\t\ttmpSidebarView.clearModuleNav();\n\t\ttmpSidebarView.renderSidebarGroups();\n\n\t\t// Fetch the local document\n\t\tlet tmpPath = pDocPath;\n\t\tif (!tmpPath.match(/\\.md$/))\n\t\t{\n\t\t\ttmpPath = tmpPath + '.md';\n\t\t}\n\n\t\ttmpDocProvider.fetchLocalDocument(tmpPath, (pError, pHTML) =>\n\t\t{\n\t\t\t// fetchDocument always provides displayable HTML in pHTML,\n\t\t\t// even on error, so we can use it directly.\n\t\t\ttmpContentView.displayContent(pHTML);\n\t\t});\n\t}\n}\n\nmodule.exports = DocuserveApplication;\n\nmodule.exports.default_configuration = require('./Pict-Application-Docuserve-Configuration.json');\n\n},{\"./Pict-Application-Docuserve-Configuration.json\":9,\"./providers/Pict-Provider-Docuserve-Documentation.js\":11,\"./views/PictView-Docuserve-Content.js\":12,\"./views/PictView-Docuserve-Layout.js\":13,\"./views/PictView-Docuserve-Sidebar.js\":14,\"./views/PictView-Docuserve-Splash.js\":15,\"./views/PictView-Docuserve-TopBar.js\":16,\"pict-application\":4}],11:[function(require,module,exports){\nconst libPictProvider = require('pict-provider');\n\n/**\n * Documentation Provider for Docuserve\n *\n * Loads the Indoctrinate-generated catalog and keyword index,\n * fetches markdown documents from local paths or raw GitHub URLs,\n * and parses them into HTML for rendering.\n */\nclass DocuserveDocumentationProvider extends libPictProvider\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\tthis._Catalog = null;\n\t\tthis._ContentCache = {};\n\t}\n\n\t/**\n\t * Load all documentation data sources: catalog, cover.md, _sidebar.md.\n\t *\n\t * Loads the catalog first (it provides the fallback data), then attempts\n\t * to load cover.md and _sidebar.md in parallel.  If those markdown files\n\t * exist they drive the splash and sidebar views; otherwise the catalog\n\t * data is used as a fallback.\n\t *\n\t * @param {Function} fCallback - Callback when all loading is complete\n\t */\n\tloadCatalog(fCallback)\n\t{\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : () => {};\n\n\t\tlet tmpCatalogURL = this.pict.AppData.Docuserve.CatalogURL || 'retold-catalog.json';\n\n\t\tfetch(tmpCatalogURL)\n\t\t\t.then((pResponse) =>\n\t\t\t{\n\t\t\t\tif (!pResponse.ok)\n\t\t\t\t{\n\t\t\t\t\tthis.log.warn(`Docuserve: Could not load catalog from [${tmpCatalogURL}].`);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn pResponse.json();\n\t\t\t})\n\t\t\t.then((pCatalog) =>\n\t\t\t{\n\t\t\t\tif (pCatalog)\n\t\t\t\t{\n\t\t\t\t\tthis._Catalog = pCatalog;\n\t\t\t\t\tthis.pict.AppData.Docuserve.Catalog = pCatalog;\n\t\t\t\t\tthis.pict.AppData.Docuserve.CatalogLoaded = true;\n\n\t\t\t\t\t// Build sidebar navigation data from the catalog as default\n\t\t\t\t\tthis.buildSidebarData(pCatalog);\n\t\t\t\t}\n\n\t\t\t\t// Now try to load cover.md, _sidebar.md, _topbar.md, and errorpage.md in parallel\n\t\t\t\tlet tmpPending = 4;\n\t\t\t\tlet tmpFinish = () =>\n\t\t\t\t{\n\t\t\t\t\ttmpPending--;\n\t\t\t\t\tif (tmpPending <= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn tmpCallback();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.loadCover(tmpFinish);\n\t\t\t\tthis.loadSidebar(tmpFinish);\n\t\t\t\tthis.loadTopbar(tmpFinish);\n\t\t\t\tthis.loadErrorPage(tmpFinish);\n\t\t\t})\n\t\t\t.catch((pError) =>\n\t\t\t{\n\t\t\t\tthis.log.warn(`Docuserve: Error loading catalog: ${pError}`);\n\t\t\t\treturn tmpCallback();\n\t\t\t});\n\t}\n\n\t/**\n\t * Fetch and parse cover.md into structured data for the splash view.\n\t *\n\t * The expected cover.md format follows the docsify convention:\n\t *   # Title\n\t *   > Tagline\n\t *   Description paragraph text.\n\t *   - **Group**  description\n\t *   [Link Text](url)\n\t *\n\t * Parsed result stored in this.pict.AppData.Docuserve.Cover:\n\t *   { Title, Tagline, Description, Highlights: [{Label, Text}], Actions: [{Text, Href}] }\n\t *\n\t * @param {Function} fCallback - Callback when done\n\t */\n\tloadCover(fCallback)\n\t{\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : () => {};\n\t\tlet tmpDocsBase = this.pict.AppData.Docuserve.DocsBaseURL || '';\n\n\t\tfetch(tmpDocsBase + 'cover.md')\n\t\t\t.then((pResponse) =>\n\t\t\t{\n\t\t\t\tif (!pResponse.ok)\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn pResponse.text();\n\t\t\t})\n\t\t\t.then((pMarkdown) =>\n\t\t\t{\n\t\t\t\tif (!pMarkdown)\n\t\t\t\t{\n\t\t\t\t\tthis.log.info('Docuserve: No cover.md found; splash will use catalog data.');\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t}\n\n\t\t\t\tthis.pict.AppData.Docuserve.Cover = this.parseCover(pMarkdown);\n\t\t\t\tthis.pict.AppData.Docuserve.CoverLoaded = true;\n\t\t\t\treturn tmpCallback();\n\t\t\t})\n\t\t\t.catch((pError) =>\n\t\t\t{\n\t\t\t\tthis.log.warn(`Docuserve: Error loading cover.md: ${pError}`);\n\t\t\t\treturn tmpCallback();\n\t\t\t});\n\t}\n\n\t/**\n\t * Parse cover.md markdown text into a structured object.\n\t *\n\t * @param {string} pMarkdown - Raw cover.md content\n\t * @returns {Object} Parsed cover data\n\t */\n\tparseCover(pMarkdown)\n\t{\n\t\tlet tmpCover = {\n\t\t\tTitle: '',\n\t\t\tTagline: '',\n\t\t\tDescription: '',\n\t\t\tHighlights: [],\n\t\t\tActions: []\n\t\t};\n\n\t\tlet tmpLines = pMarkdown.split('\\n');\n\n\t\tfor (let i = 0; i < tmpLines.length; i++)\n\t\t{\n\t\t\tlet tmpLine = tmpLines[i].trim();\n\n\t\t\tif (!tmpLine)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Heading  the title\n\t\t\tlet tmpHeadingMatch = tmpLine.match(/^#+\\s+(.+)/);\n\t\t\tif (tmpHeadingMatch)\n\t\t\t{\n\t\t\t\ttmpCover.Title = tmpHeadingMatch[1].trim();\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Blockquote  the tagline\n\t\t\tlet tmpBlockquoteMatch = tmpLine.match(/^>\\s*(.*)/);\n\t\t\tif (tmpBlockquoteMatch)\n\t\t\t{\n\t\t\t\ttmpCover.Tagline = tmpBlockquoteMatch[1].trim();\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Bullet list  highlights (e.g. \"- **Fable**  Core ecosystem, DI, config\")\n\t\t\tlet tmpBulletMatch = tmpLine.match(/^[-*+]\\s+(.*)/);\n\t\t\tif (tmpBulletMatch)\n\t\t\t{\n\t\t\t\tlet tmpBulletContent = tmpBulletMatch[1];\n\t\t\t\t// Try to split on bold label: **Label**  rest\n\t\t\t\tlet tmpLabelMatch = tmpBulletContent.match(/^\\*\\*([^*]+)\\*\\*\\s*[-:]\\s*(.*)/);\n\t\t\t\tif (tmpLabelMatch)\n\t\t\t\t{\n\t\t\t\t\ttmpCover.Highlights.push({ Label: tmpLabelMatch[1].trim(), Text: tmpLabelMatch[2].trim() });\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmpCover.Highlights.push({ Label: '', Text: tmpBulletContent.trim() });\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Bare link  action button (e.g. \"[Get Started](getting-started.md)\")\n\t\t\tlet tmpLinkMatch = tmpLine.match(/^\\[([^\\]]+)\\]\\(([^)]+)\\)\\s*$/);\n\t\t\tif (tmpLinkMatch)\n\t\t\t{\n\t\t\t\ttmpCover.Actions.push({ Text: tmpLinkMatch[1].trim(), Href: tmpLinkMatch[2].trim() });\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise it's description text\n\t\t\tif (!tmpCover.Description)\n\t\t\t{\n\t\t\t\ttmpCover.Description = tmpLine;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttmpCover.Description += ' ' + tmpLine;\n\t\t\t}\n\t\t}\n\n\t\treturn tmpCover;\n\t}\n\n\t/**\n\t * Fetch and parse _sidebar.md into structured navigation data.\n\t *\n\t * The expected _sidebar.md format follows the docsify convention:\n\t *   - [Home](/)\n\t *   - Group Title\n\t *     - [module-name](/group/module/)\n\t *   - [Group Title](group.md)\n\t *     - [module-name](/group/module/)\n\t *\n\t * If _sidebar.md is successfully loaded and parsed, its data replaces\n\t * the catalog-inferred SidebarGroups in AppData.\n\t *\n\t * @param {Function} fCallback - Callback when done\n\t */\n\tloadSidebar(fCallback)\n\t{\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : () => {};\n\t\tlet tmpDocsBase = this.pict.AppData.Docuserve.DocsBaseURL || '';\n\n\t\tfetch(tmpDocsBase + '_sidebar.md')\n\t\t\t.then((pResponse) =>\n\t\t\t{\n\t\t\t\tif (!pResponse.ok)\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn pResponse.text();\n\t\t\t})\n\t\t\t.then((pMarkdown) =>\n\t\t\t{\n\t\t\t\tif (!pMarkdown)\n\t\t\t\t{\n\t\t\t\t\tthis.log.info('Docuserve: No _sidebar.md found; sidebar will use catalog data.');\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t}\n\n\t\t\t\tlet tmpSidebarData = this.parseSidebarMarkdown(pMarkdown);\n\t\t\t\tif (tmpSidebarData && tmpSidebarData.length > 0)\n\t\t\t\t{\n\t\t\t\t\tthis.pict.AppData.Docuserve.SidebarGroups = tmpSidebarData;\n\t\t\t\t\tthis.pict.AppData.Docuserve.SidebarLoaded = true;\n\t\t\t\t}\n\t\t\t\treturn tmpCallback();\n\t\t\t})\n\t\t\t.catch((pError) =>\n\t\t\t{\n\t\t\t\tthis.log.warn(`Docuserve: Error loading _sidebar.md: ${pError}`);\n\t\t\t\treturn tmpCallback();\n\t\t\t});\n\t}\n\n\t/**\n\t * Fetch and parse _topbar.md into structured data for the top bar view.\n\t *\n\t * The expected _topbar.md format:\n\t *   # Brand Name\n\t *   - [Link Text](url)\n\t *   - [Link Text](url)\n\t *\n\t * The heading becomes the brand/title shown on the left.  List items become\n\t * navigation links.  External links (starting with http) render on the\n\t * right side; internal links render in the centre nav area.\n\t *\n\t * Parsed result stored in this.pict.AppData.Docuserve.TopBar:\n\t *   { Brand, NavLinks: [{Text, Href, External}], ExternalLinks: [{Text, Href}] }\n\t *\n\t * @param {Function} fCallback - Callback when done\n\t */\n\tloadTopbar(fCallback)\n\t{\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : () => {};\n\t\tlet tmpDocsBase = this.pict.AppData.Docuserve.DocsBaseURL || '';\n\n\t\tfetch(tmpDocsBase + '_topbar.md')\n\t\t\t.then((pResponse) =>\n\t\t\t{\n\t\t\t\tif (!pResponse.ok)\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn pResponse.text();\n\t\t\t})\n\t\t\t.then((pMarkdown) =>\n\t\t\t{\n\t\t\t\tif (!pMarkdown)\n\t\t\t\t{\n\t\t\t\t\tthis.log.info('Docuserve: No _topbar.md found; top bar will use defaults.');\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t}\n\n\t\t\t\tthis.pict.AppData.Docuserve.TopBar = this.parseTopbar(pMarkdown);\n\t\t\t\tthis.pict.AppData.Docuserve.TopBarLoaded = true;\n\t\t\t\treturn tmpCallback();\n\t\t\t})\n\t\t\t.catch((pError) =>\n\t\t\t{\n\t\t\t\tthis.log.warn(`Docuserve: Error loading _topbar.md: ${pError}`);\n\t\t\t\treturn tmpCallback();\n\t\t\t});\n\t}\n\n\t/**\n\t * Parse _topbar.md markdown text into a structured object.\n\t *\n\t * @param {string} pMarkdown - Raw _topbar.md content\n\t * @returns {Object} Parsed top bar data { Brand, NavLinks, ExternalLinks }\n\t */\n\tparseTopbar(pMarkdown)\n\t{\n\t\tlet tmpTopBar = {\n\t\t\tBrand: '',\n\t\t\tNavLinks: [],\n\t\t\tExternalLinks: []\n\t\t};\n\n\t\tlet tmpLines = pMarkdown.split('\\n');\n\n\t\tfor (let i = 0; i < tmpLines.length; i++)\n\t\t{\n\t\t\tlet tmpLine = tmpLines[i].trim();\n\n\t\t\tif (!tmpLine)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Heading  the brand name\n\t\t\tlet tmpHeadingMatch = tmpLine.match(/^#+\\s+(.+)/);\n\t\t\tif (tmpHeadingMatch)\n\t\t\t{\n\t\t\t\ttmpTopBar.Brand = tmpHeadingMatch[1].trim();\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Bullet list item with link\n\t\t\tlet tmpBulletMatch = tmpLine.match(/^[-*+]\\s+(.*)/);\n\t\t\tif (tmpBulletMatch)\n\t\t\t{\n\t\t\t\tlet tmpContent = tmpBulletMatch[1].trim();\n\t\t\t\tlet tmpLinkMatch = tmpContent.match(/^\\[([^\\]]+)\\]\\(([^)]+)\\)/);\n\n\t\t\t\tif (tmpLinkMatch)\n\t\t\t\t{\n\t\t\t\t\tlet tmpText = tmpLinkMatch[1].trim();\n\t\t\t\t\tlet tmpHref = tmpLinkMatch[2].trim();\n\n\t\t\t\t\t// External links (http/https) go to the right side\n\t\t\t\t\tif (tmpHref.match(/^https?:\\/\\//))\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpTopBar.ExternalLinks.push({ Text: tmpText, Href: tmpHref });\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t// Internal link  convert to hash route\n\t\t\t\t\t\tlet tmpRoute = this.convertSidebarLink(tmpHref);\n\t\t\t\t\t\ttmpTopBar.NavLinks.push({ Text: tmpText, Href: tmpRoute });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\treturn tmpTopBar;\n\t}\n\n\t/**\n\t * Fetch and parse errorpage.md into HTML for use as a custom error page.\n\t *\n\t * The errorpage.md is a standard markdown file.  If it contains the\n\t * placeholder `{{path}}` anywhere in its source, that token will be\n\t * replaced with the actual requested path at display time (via\n\t * getErrorPageHTML).\n\t *\n\t * @param {Function} fCallback - Callback when done\n\t */\n\tloadErrorPage(fCallback)\n\t{\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : () => {};\n\t\tlet tmpDocsBase = this.pict.AppData.Docuserve.DocsBaseURL || '';\n\n\t\tfetch(tmpDocsBase + 'errorpage.md')\n\t\t\t.then((pResponse) =>\n\t\t\t{\n\t\t\t\tif (!pResponse.ok)\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn pResponse.text();\n\t\t\t})\n\t\t\t.then((pMarkdown) =>\n\t\t\t{\n\t\t\t\tif (!pMarkdown)\n\t\t\t\t{\n\t\t\t\t\tthis.log.info('Docuserve: No errorpage.md found; errors will use default page.');\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t}\n\n\t\t\t\tthis.pict.AppData.Docuserve.ErrorPageHTML = this.parseMarkdown(pMarkdown);\n\t\t\t\tthis.pict.AppData.Docuserve.ErrorPageLoaded = true;\n\t\t\t\treturn tmpCallback();\n\t\t\t})\n\t\t\t.catch((pError) =>\n\t\t\t{\n\t\t\t\tthis.log.warn(`Docuserve: Error loading errorpage.md: ${pError}`);\n\t\t\t\treturn tmpCallback();\n\t\t\t});\n\t}\n\n\t/**\n\t * Get the error page HTML for a given requested path.\n\t *\n\t * If a custom errorpage.md was loaded, its parsed HTML is returned with\n\t * the `{{path}}` placeholder replaced by the actual requested path.\n\t * Otherwise a default not-found HTML block is returned.\n\t *\n\t * @param {string} pRequestedPath - The path that was not found\n\t * @returns {string} HTML to display\n\t */\n\tgetErrorPageHTML(pRequestedPath)\n\t{\n\t\tlet tmpPath = pRequestedPath || 'unknown';\n\n\t\tif (this.pict.AppData.Docuserve.ErrorPageLoaded && this.pict.AppData.Docuserve.ErrorPageHTML)\n\t\t{\n\t\t\t// Replace the {{path}} placeholder with the actual requested path\n\t\t\treturn this.pict.AppData.Docuserve.ErrorPageHTML.replace(/\\{\\{path\\}\\}/g, this.escapeHTML(tmpPath));\n\t\t}\n\n\t\t// Default fallback\n\t\treturn '<div class=\"docuserve-not-found\">'\n\t\t\t+ '<h2>Page Not Found</h2>'\n\t\t\t+ '<p>The document <code>' + this.escapeHTML(tmpPath) + '</code> could not be loaded.</p>'\n\t\t\t+ '<p><a href=\"#/Home\">Return to the home page</a></p>'\n\t\t\t+ '</div>';\n\t}\n\n\t/**\n\t * Parse _sidebar.md into the SidebarGroups format the sidebar view consumes.\n\t *\n\t * Returns an array of group objects:\n\t *   [{ Name, Key, Route, Modules: [{ Name, HasDocs, Group, Route }] }]\n\t *\n\t * Top-level items (no indent) become groups.  Indented child items become\n\t * modules within the preceding group.  The special \"Home\" entry is stored\n\t * as a group with no modules.\n\t *\n\t * @param {string} pMarkdown - Raw _sidebar.md content\n\t * @returns {Array} Parsed sidebar groups\n\t */\n\tparseSidebarMarkdown(pMarkdown)\n\t{\n\t\tlet tmpGroups = [];\n\t\tlet tmpCurrentGroup = null;\n\t\tlet tmpLines = pMarkdown.split('\\n');\n\n\t\tfor (let i = 0; i < tmpLines.length; i++)\n\t\t{\n\t\t\tlet tmpLine = tmpLines[i];\n\n\t\t\tif (!tmpLine.trim())\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Detect indent level: child items have 2+ leading spaces\n\t\t\tlet tmpIndentMatch = tmpLine.match(/^(\\s*)/);\n\t\t\tlet tmpIndent = tmpIndentMatch ? tmpIndentMatch[1].length : 0;\n\t\t\tlet tmpContent = tmpLine.trim();\n\n\t\t\t// Must start with a list marker\n\t\t\tlet tmpListMatch = tmpContent.match(/^[-*+]\\s+(.*)/);\n\t\t\tif (!tmpListMatch)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet tmpItemContent = tmpListMatch[1].trim();\n\n\t\t\t// Parse link if present: [Text](href)\n\t\t\tlet tmpLinkMatch = tmpItemContent.match(/^\\[([^\\]]+)\\]\\(([^)]+)\\)/);\n\n\t\t\tif (tmpIndent < 2)\n\t\t\t{\n\t\t\t\t// Top-level item  this is a group header or standalone link\n\t\t\t\tif (tmpLinkMatch)\n\t\t\t\t{\n\t\t\t\t\tlet tmpName = tmpLinkMatch[1].trim();\n\t\t\t\t\tlet tmpHref = tmpLinkMatch[2].trim();\n\n\t\t\t\t\t// Derive a group key from the href or name\n\t\t\t\t\tlet tmpKey = this.deriveGroupKey(tmpName, tmpHref);\n\t\t\t\t\tlet tmpRoute = this.convertSidebarLink(tmpHref);\n\n\t\t\t\t\ttmpCurrentGroup = {\n\t\t\t\t\t\tName: tmpName,\n\t\t\t\t\t\tKey: tmpKey,\n\t\t\t\t\t\tRoute: tmpRoute,\n\t\t\t\t\t\tModules: []\n\t\t\t\t\t};\n\t\t\t\t\ttmpGroups.push(tmpCurrentGroup);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// Plain text group header (no link)\n\t\t\t\t\tlet tmpName = tmpItemContent;\n\t\t\t\t\tlet tmpKey = tmpName.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g, '');\n\n\t\t\t\t\ttmpCurrentGroup = {\n\t\t\t\t\t\tName: tmpName,\n\t\t\t\t\t\tKey: tmpKey,\n\t\t\t\t\t\tRoute: '',\n\t\t\t\t\t\tModules: []\n\t\t\t\t\t};\n\t\t\t\t\ttmpGroups.push(tmpCurrentGroup);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (tmpCurrentGroup)\n\t\t\t{\n\t\t\t\t// Indented item  this is a module within the current group\n\t\t\t\tif (tmpLinkMatch)\n\t\t\t\t{\n\t\t\t\t\tlet tmpModuleName = tmpLinkMatch[1].trim();\n\t\t\t\t\tlet tmpModuleHref = tmpLinkMatch[2].trim();\n\t\t\t\t\tlet tmpModuleRoute = this.convertSidebarLink(tmpModuleHref);\n\n\t\t\t\t\ttmpCurrentGroup.Modules.push({\n\t\t\t\t\t\tName: tmpModuleName,\n\t\t\t\t\t\tHasDocs: true,\n\t\t\t\t\t\tGroup: tmpCurrentGroup.Key,\n\t\t\t\t\t\tRoute: tmpModuleRoute\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// Plain text child entry (no docs link)\n\t\t\t\t\ttmpCurrentGroup.Modules.push({\n\t\t\t\t\t\tName: tmpItemContent,\n\t\t\t\t\t\tHasDocs: false,\n\t\t\t\t\t\tGroup: tmpCurrentGroup.Key,\n\t\t\t\t\t\tRoute: ''\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn tmpGroups;\n\t}\n\n\t/**\n\t * Convert a docsify-style sidebar link href into a docuserve hash route.\n\t *\n\t * Handles these forms:\n\t *   /                        -> #/Home\n\t *   /group/module/           -> #/doc/group/module\n\t *   /group/module/path.md    -> #/doc/group/module/path.md\n\t *   something.md             -> #/page/something\n\t *\n\t * @param {string} pHref - The original sidebar link href\n\t * @returns {string} The converted hash route\n\t */\n\tconvertSidebarLink(pHref)\n\t{\n\t\tif (!pHref)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\n\t\t// Root home link\n\t\tif (pHref === '/')\n\t\t{\n\t\t\treturn '#/Home';\n\t\t}\n\n\t\t// Strip leading/trailing slashes for parsing\n\t\tlet tmpPath = pHref.replace(/^\\//, '').replace(/\\/$/, '');\n\n\t\tif (!tmpPath)\n\t\t{\n\t\t\treturn '#/Home';\n\t\t}\n\n\t\tlet tmpParts = tmpPath.split('/');\n\n\t\t// Check if it's a module path (group/module)\n\t\tif (tmpParts.length >= 2)\n\t\t{\n\t\t\tlet tmpGroupKeys = ['fable', 'meadow', 'orator', 'pict', 'utility'];\n\t\t\tif (tmpGroupKeys.indexOf(tmpParts[0]) >= 0)\n\t\t\t{\n\t\t\t\treturn '#/doc/' + tmpPath;\n\t\t\t}\n\t\t}\n\n\t\t// Local page reference\n\t\tif (tmpPath.match(/\\.md$/))\n\t\t{\n\t\t\treturn '#/page/' + tmpPath.replace(/\\.md$/, '');\n\t\t}\n\n\t\treturn '#/page/' + tmpPath;\n\t}\n\n\t/**\n\t * Derive a short group key from a sidebar group name or href.\n\t *\n\t * @param {string} pName - The display name (e.g. \"Fable  Core Ecosystem\")\n\t * @param {string} pHref - The link href (e.g. \"fable.md\")\n\t * @returns {string} A short key (e.g. \"fable\")\n\t */\n\tderiveGroupKey(pName, pHref)\n\t{\n\t\t// Try href first  \"fable.md\" -> \"fable\"\n\t\tif (pHref && pHref !== '/')\n\t\t{\n\t\t\tlet tmpFromHref = pHref.replace(/^\\//, '').replace(/\\.md$/, '').replace(/\\/$/, '');\n\t\t\tif (tmpFromHref && !tmpFromHref.includes('/'))\n\t\t\t{\n\t\t\t\treturn tmpFromHref.toLowerCase();\n\t\t\t}\n\t\t}\n\n\t\t// Fall back to first word of name lowercased\n\t\tlet tmpFirstWord = pName.split(/[\\s\\-:]+/)[0];\n\t\treturn tmpFirstWord.toLowerCase().replace(/[^a-z0-9]/g, '');\n\t}\n\n\t/**\n\t * Build structured sidebar data from the catalog for the sidebar view.\n\t *\n\t * @param {Object} pCatalog - The parsed retold-catalog.json\n\t */\n\tbuildSidebarData(pCatalog)\n\t{\n\t\tlet tmpSidebarGroups = [];\n\n\t\tfor (let i = 0; i < pCatalog.Groups.length; i++)\n\t\t{\n\t\t\tlet tmpGroup = pCatalog.Groups[i];\n\t\t\tlet tmpGroupEntry = {\n\t\t\t\tName: tmpGroup.Name,\n\t\t\t\tKey: tmpGroup.Key,\n\t\t\t\tDescription: tmpGroup.Description,\n\t\t\t\tModules: []\n\t\t\t};\n\n\t\t\tfor (let j = 0; j < tmpGroup.Modules.length; j++)\n\t\t\t{\n\t\t\t\tlet tmpModule = tmpGroup.Modules[j];\n\t\t\t\ttmpGroupEntry.Modules.push({\n\t\t\t\t\tName: tmpModule.Name,\n\t\t\t\t\tHasDocs: tmpModule.HasDocs,\n\t\t\t\t\tGroup: tmpGroup.Key,\n\t\t\t\t\tRoute: '#/doc/' + tmpGroup.Key + '/' + tmpModule.Name\n\t\t\t\t});\n\t\t\t}\n\n\t\t\ttmpSidebarGroups.push(tmpGroupEntry);\n\t\t}\n\n\t\tthis.pict.AppData.Docuserve.SidebarGroups = tmpSidebarGroups;\n\t}\n\n\t/**\n\t * Resolve a document URL from group/module/path to a fetchable URL.\n\t *\n\t * @param {string} pGroup - The group key (e.g. 'fable')\n\t * @param {string} pModule - The module name (e.g. 'fable')\n\t * @param {string} pPath - The document path within the module docs (e.g. 'README.md')\n\t * @returns {string} The resolved URL\n\t */\n\tresolveDocumentURL(pGroup, pModule, pPath)\n\t{\n\t\tif (!this._Catalog)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tlet tmpOrg = this._Catalog.GitHubOrg || 'stevenvelozo';\n\t\tlet tmpDefaultBranch = this._Catalog.DefaultBranch || 'master';\n\n\t\t// Find the module in the catalog\n\t\tfor (let i = 0; i < this._Catalog.Groups.length; i++)\n\t\t{\n\t\t\tlet tmpGroup = this._Catalog.Groups[i];\n\t\t\tif (tmpGroup.Key !== pGroup)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (let j = 0; j < tmpGroup.Modules.length; j++)\n\t\t\t{\n\t\t\t\tlet tmpModule = tmpGroup.Modules[j];\n\t\t\t\tif (tmpModule.Name !== pModule)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlet tmpBranch = tmpModule.Branch || tmpDefaultBranch;\n\t\t\t\tlet tmpDocPath = pPath || 'README.md';\n\t\t\t\treturn 'https://raw.githubusercontent.com/' + tmpOrg + '/' + tmpModule.Repo + '/' + tmpBranch + '/docs/' + tmpDocPath;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Get the module-specific sidebar entries for a given group/module.\n\t *\n\t * @param {string} pGroup - The group key\n\t * @param {string} pModule - The module name\n\t * @returns {Array|null} The sidebar entries or null\n\t */\n\tgetModuleSidebar(pGroup, pModule)\n\t{\n\t\tif (!this._Catalog)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tfor (let i = 0; i < this._Catalog.Groups.length; i++)\n\t\t{\n\t\t\tlet tmpGroup = this._Catalog.Groups[i];\n\t\t\tif (tmpGroup.Key !== pGroup)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (let j = 0; j < tmpGroup.Modules.length; j++)\n\t\t\t{\n\t\t\t\tlet tmpModule = tmpGroup.Modules[j];\n\t\t\t\tif (tmpModule.Name !== pModule)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\treturn tmpModule.Sidebar || null;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Fetch a markdown document and convert it to HTML.\n\t *\n\t * @param {string} pURL - The URL to fetch\n\t * @param {Function} fCallback - Callback receiving (error, htmlContent)\n\t */\n\tfetchDocument(pURL, fCallback)\n\t{\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : () => {};\n\n\t\tif (!pURL)\n\t\t{\n\t\t\treturn tmpCallback('No URL provided', '');\n\t\t}\n\n\t\t// Check cache\n\t\tif (this._ContentCache[pURL])\n\t\t{\n\t\t\treturn tmpCallback(null, this._ContentCache[pURL]);\n\t\t}\n\n\t\tfetch(pURL)\n\t\t\t.then((pResponse) =>\n\t\t\t{\n\t\t\t\tif (!pResponse.ok)\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn pResponse.text();\n\t\t\t})\n\t\t\t.then((pMarkdown) =>\n\t\t\t{\n\t\t\t\tif (!pMarkdown)\n\t\t\t\t{\n\t\t\t\t\treturn tmpCallback('Document not found', this.getErrorPageHTML(pURL));\n\t\t\t\t}\n\n\t\t\t\tlet tmpHTML = this.parseMarkdown(pMarkdown);\n\t\t\t\tthis._ContentCache[pURL] = tmpHTML;\n\t\t\t\treturn tmpCallback(null, tmpHTML);\n\t\t\t})\n\t\t\t.catch((pError) =>\n\t\t\t{\n\t\t\t\tthis.log.warn(`Docuserve: Error fetching document [${pURL}]: ${pError}`);\n\t\t\t\treturn tmpCallback(pError, this.getErrorPageHTML(pURL));\n\t\t\t});\n\t}\n\n\t/**\n\t * Fetch a local document relative to the docs folder.\n\t *\n\t * @param {string} pPath - The relative path (e.g. 'architecture.md')\n\t * @param {Function} fCallback - Callback receiving (error, htmlContent)\n\t */\n\tfetchLocalDocument(pPath, fCallback)\n\t{\n\t\tlet tmpDocsBase = this.pict.AppData.Docuserve.DocsBaseURL || '';\n\t\tlet tmpURL = tmpDocsBase + pPath;\n\t\tthis.fetchDocument(tmpURL, fCallback);\n\t}\n\n\t/**\n\t * Parse a markdown string into HTML.\n\t *\n\t * This is a basic markdown parser that handles the most common constructs:\n\t * headings, paragraphs, code blocks, inline code, links, bold, italic,\n\t * lists, blockquotes, and horizontal rules.\n\t *\n\t * @param {string} pMarkdown - The raw markdown text\n\t * @returns {string} The parsed HTML\n\t */\n\tparseMarkdown(pMarkdown)\n\t{\n\t\tif (!pMarkdown)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\n\t\tlet tmpLines = pMarkdown.split('\\n');\n\t\tlet tmpHTML = [];\n\t\tlet tmpInCodeBlock = false;\n\t\tlet tmpCodeLang = '';\n\t\tlet tmpCodeLines = [];\n\t\tlet tmpInList = false;\n\t\tlet tmpListType = '';\n\t\tlet tmpInBlockquote = false;\n\t\tlet tmpBlockquoteLines = [];\n\n\t\tfor (let i = 0; i < tmpLines.length; i++)\n\t\t{\n\t\t\tlet tmpLine = tmpLines[i];\n\n\t\t\t// Code blocks (fenced)\n\t\t\tif (tmpLine.match(/^```/))\n\t\t\t{\n\t\t\t\tif (tmpInCodeBlock)\n\t\t\t\t{\n\t\t\t\t\t// End code block\n\t\t\t\t\ttmpHTML.push('<pre><code class=\"language-' + this.escapeHTML(tmpCodeLang) + '\">' + this.escapeHTML(tmpCodeLines.join('\\n')) + '</code></pre>');\n\t\t\t\t\ttmpInCodeBlock = false;\n\t\t\t\t\ttmpCodeLang = '';\n\t\t\t\t\ttmpCodeLines = [];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// Close any open list or blockquote\n\t\t\t\t\tif (tmpInList)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\t\ttmpInList = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (tmpInBlockquote)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpHTML.push('<blockquote>' + this.parseMarkdown(tmpBlockquoteLines.join('\\n')) + '</blockquote>');\n\t\t\t\t\t\ttmpInBlockquote = false;\n\t\t\t\t\t\ttmpBlockquoteLines = [];\n\t\t\t\t\t}\n\t\t\t\t\t// Start code block\n\t\t\t\t\ttmpCodeLang = tmpLine.replace(/^```/, '').trim();\n\t\t\t\t\ttmpInCodeBlock = true;\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (tmpInCodeBlock)\n\t\t\t{\n\t\t\t\ttmpCodeLines.push(tmpLine);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Blockquotes\n\t\t\tif (tmpLine.match(/^>\\s?/))\n\t\t\t{\n\t\t\t\tif (!tmpInBlockquote)\n\t\t\t\t{\n\t\t\t\t\t// Close any open list\n\t\t\t\t\tif (tmpInList)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\t\ttmpInList = false;\n\t\t\t\t\t}\n\t\t\t\t\ttmpInBlockquote = true;\n\t\t\t\t\ttmpBlockquoteLines = [];\n\t\t\t\t}\n\t\t\t\ttmpBlockquoteLines.push(tmpLine.replace(/^>\\s?/, ''));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if (tmpInBlockquote)\n\t\t\t{\n\t\t\t\ttmpHTML.push('<blockquote>' + this.parseMarkdown(tmpBlockquoteLines.join('\\n')) + '</blockquote>');\n\t\t\t\ttmpInBlockquote = false;\n\t\t\t\ttmpBlockquoteLines = [];\n\t\t\t}\n\n\t\t\t// Horizontal rule\n\t\t\tif (tmpLine.match(/^(-{3,}|\\*{3,}|_{3,})\\s*$/))\n\t\t\t{\n\t\t\t\tif (tmpInList)\n\t\t\t\t{\n\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\ttmpInList = false;\n\t\t\t\t}\n\t\t\t\ttmpHTML.push('<hr>');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Headings\n\t\t\tlet tmpHeadingMatch = tmpLine.match(/^(#{1,6})\\s+(.+)/);\n\t\t\tif (tmpHeadingMatch)\n\t\t\t{\n\t\t\t\tif (tmpInList)\n\t\t\t\t{\n\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\ttmpInList = false;\n\t\t\t\t}\n\t\t\t\tlet tmpLevel = tmpHeadingMatch[1].length;\n\t\t\t\tlet tmpText = this.parseInline(tmpHeadingMatch[2]);\n\t\t\t\tlet tmpID = tmpHeadingMatch[2].toLowerCase().replace(/[^\\w\\s-]/g, '').replace(/\\s+/g, '-');\n\t\t\t\ttmpHTML.push('<h' + tmpLevel + ' id=\"' + tmpID + '\">' + tmpText + '</h' + tmpLevel + '>');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Unordered list items\n\t\t\tlet tmpULMatch = tmpLine.match(/^(\\s*)[-*+]\\s+(.*)/);\n\t\t\tif (tmpULMatch)\n\t\t\t{\n\t\t\t\tif (!tmpInList || tmpListType !== 'ul')\n\t\t\t\t{\n\t\t\t\t\tif (tmpInList)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\t}\n\t\t\t\t\ttmpHTML.push('<ul>');\n\t\t\t\t\ttmpInList = true;\n\t\t\t\t\ttmpListType = 'ul';\n\t\t\t\t}\n\t\t\t\ttmpHTML.push('<li>' + this.parseInline(tmpULMatch[2]) + '</li>');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Ordered list items\n\t\t\tlet tmpOLMatch = tmpLine.match(/^(\\s*)\\d+\\.\\s+(.*)/);\n\t\t\tif (tmpOLMatch)\n\t\t\t{\n\t\t\t\tif (!tmpInList || tmpListType !== 'ol')\n\t\t\t\t{\n\t\t\t\t\tif (tmpInList)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\t}\n\t\t\t\t\ttmpHTML.push('<ol>');\n\t\t\t\t\ttmpInList = true;\n\t\t\t\t\ttmpListType = 'ol';\n\t\t\t\t}\n\t\t\t\ttmpHTML.push('<li>' + this.parseInline(tmpOLMatch[2]) + '</li>');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Close list if we've left list items\n\t\t\tif (tmpInList && tmpLine.trim() !== '')\n\t\t\t{\n\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\ttmpInList = false;\n\t\t\t}\n\n\t\t\t// Empty line\n\t\t\tif (tmpLine.trim() === '')\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Table detection\n\t\t\tif (tmpLine.match(/^\\|/) && i + 1 < tmpLines.length && tmpLines[i + 1].match(/^\\|[\\s-:|]+\\|/))\n\t\t\t{\n\t\t\t\t// Close any open list\n\t\t\t\tif (tmpInList)\n\t\t\t\t{\n\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\ttmpInList = false;\n\t\t\t\t}\n\n\t\t\t\tlet tmpTableHTML = '<table>';\n\n\t\t\t\t// Header row\n\t\t\t\tlet tmpHeaders = tmpLine.split('|').filter((pCell) => { return pCell.trim() !== ''; });\n\t\t\t\ttmpTableHTML += '<thead><tr>';\n\t\t\t\tfor (let h = 0; h < tmpHeaders.length; h++)\n\t\t\t\t{\n\t\t\t\t\ttmpTableHTML += '<th>' + this.parseInline(tmpHeaders[h].trim()) + '</th>';\n\t\t\t\t}\n\t\t\t\ttmpTableHTML += '</tr></thead>';\n\n\t\t\t\t// Skip separator row\n\t\t\t\ti++;\n\n\t\t\t\t// Body rows\n\t\t\t\ttmpTableHTML += '<tbody>';\n\t\t\t\twhile (i + 1 < tmpLines.length && tmpLines[i + 1].match(/^\\|/))\n\t\t\t\t{\n\t\t\t\t\ti++;\n\t\t\t\t\tlet tmpCells = tmpLines[i].split('|').filter((pCell) => { return pCell.trim() !== ''; });\n\t\t\t\t\ttmpTableHTML += '<tr>';\n\t\t\t\t\tfor (let c = 0; c < tmpCells.length; c++)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpTableHTML += '<td>' + this.parseInline(tmpCells[c].trim()) + '</td>';\n\t\t\t\t\t}\n\t\t\t\t\ttmpTableHTML += '</tr>';\n\t\t\t\t}\n\t\t\t\ttmpTableHTML += '</tbody></table>';\n\t\t\t\ttmpHTML.push(tmpTableHTML);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Regular paragraph\n\t\t\ttmpHTML.push('<p>' + this.parseInline(tmpLine) + '</p>');\n\t\t}\n\n\t\t// Close any trailing open elements\n\t\tif (tmpInList)\n\t\t{\n\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t}\n\t\tif (tmpInBlockquote)\n\t\t{\n\t\t\ttmpHTML.push('<blockquote>' + this.parseMarkdown(tmpBlockquoteLines.join('\\n')) + '</blockquote>');\n\t\t}\n\t\tif (tmpInCodeBlock)\n\t\t{\n\t\t\ttmpHTML.push('<pre><code>' + this.escapeHTML(tmpCodeLines.join('\\n')) + '</code></pre>');\n\t\t}\n\n\t\treturn tmpHTML.join('\\n');\n\t}\n\n\t/**\n\t * Parse inline markdown elements (bold, italic, code, links, images).\n\t *\n\t * @param {string} pText - The text to parse\n\t * @returns {string} HTML with inline elements\n\t */\n\tparseInline(pText)\n\t{\n\t\tif (!pText)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\n\t\tlet tmpResult = pText;\n\n\t\t// Inline code (backticks) - handle first to avoid interfering with other patterns\n\t\ttmpResult = tmpResult.replace(/`([^`]+)`/g, '<code>$1</code>');\n\n\t\t// Images\n\t\ttmpResult = tmpResult.replace(/!\\[([^\\]]*)\\]\\(([^)]+)\\)/g, '<img src=\"$2\" alt=\"$1\">');\n\n\t\t// Links\n\t\ttmpResult = tmpResult.replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, (pMatch, pLinkText, pHref) =>\n\t\t{\n\t\t\t// Convert internal doc links to hash routes\n\t\t\tif (pHref.match(/^\\//) || pHref.match(/^[^:]+\\.md/))\n\t\t\t{\n\t\t\t\tlet tmpRoute = this.convertDocLink(pHref);\n\t\t\t\treturn '<a href=\"' + tmpRoute + '\">' + pLinkText + '</a>';\n\t\t\t}\n\t\t\treturn '<a href=\"' + pHref + '\" target=\"_blank\" rel=\"noopener\">' + pLinkText + '</a>';\n\t\t});\n\n\t\t// Bold\n\t\ttmpResult = tmpResult.replace(/\\*\\*([^*]+)\\*\\*/g, '<strong>$1</strong>');\n\t\ttmpResult = tmpResult.replace(/__([^_]+)__/g, '<strong>$1</strong>');\n\n\t\t// Italic\n\t\ttmpResult = tmpResult.replace(/\\*([^*]+)\\*/g, '<em>$1</em>');\n\t\ttmpResult = tmpResult.replace(/_([^_]+)_/g, '<em>$1</em>');\n\n\t\treturn tmpResult;\n\t}\n\n\t/**\n\t * Convert a docsify-style internal link to a hash route for docuserve.\n\t *\n\t * @param {string} pHref - The original link href\n\t * @returns {string} The converted hash route\n\t */\n\tconvertDocLink(pHref)\n\t{\n\t\t// Remove leading slash\n\t\tlet tmpPath = pHref.replace(/^\\//, '');\n\n\t\t// If it looks like a module path (group/module/), convert to our route format\n\t\tlet tmpParts = tmpPath.split('/');\n\t\tif (tmpParts.length >= 2)\n\t\t{\n\t\t\t// Check if first segment matches a known group key\n\t\t\tlet tmpGroupKeys = ['fable', 'meadow', 'orator', 'pict', 'utility'];\n\t\t\tif (tmpGroupKeys.indexOf(tmpParts[0]) >= 0)\n\t\t\t{\n\t\t\t\treturn '#/doc/' + tmpPath;\n\t\t\t}\n\t\t}\n\n\t\t// Local doc page\n\t\tif (tmpPath.match(/\\.md$/))\n\t\t{\n\t\t\tlet tmpPageKey = tmpPath.replace(/\\.md$/, '');\n\t\t\treturn '#/page/' + tmpPageKey;\n\t\t}\n\n\t\treturn '#/page/' + tmpPath;\n\t}\n\n\t/**\n\t * Escape HTML special characters.\n\t *\n\t * @param {string} pText - The text to escape\n\t * @returns {string} The escaped text\n\t */\n\tescapeHTML(pText)\n\t{\n\t\tif (!pText)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\t\treturn pText\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;')\n\t\t\t.replace(/'/g, '&#39;');\n\t}\n}\n\nmodule.exports = DocuserveDocumentationProvider;\n\nmodule.exports.default_configuration =\n{\n\tProviderIdentifier: \"Docuserve-Documentation\",\n\n\tAutoInitialize: true,\n\tAutoInitializeOrdinal: 0\n};\n\n},{\"pict-provider\":6}],12:[function(require,module,exports){\nconst libPictView = require('pict-view');\n\nconst _ViewConfiguration =\n{\n\tViewIdentifier: \"Docuserve-Content\",\n\n\tDefaultRenderable: \"Docuserve-Content-Display\",\n\tDefaultDestinationAddress: \"#Docuserve-Content-Container\",\n\n\tAutoRender: false,\n\n\tCSS: /*css*/`\n\t\t.docuserve-content {\n\t\t\tpadding: 2em 3em;\n\t\t\tmax-width: 900px;\n\t\t\tmargin: 0 auto;\n\t\t}\n\t\t.docuserve-content-loading {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tmin-height: 200px;\n\t\t\tcolor: #999;\n\t\t\tfont-size: 1em;\n\t\t}\n\t\t.docuserve-content h1 {\n\t\t\tfont-size: 2em;\n\t\t\tcolor: #2c3e50;\n\t\t\tborder-bottom: 1px solid #eee;\n\t\t\tpadding-bottom: 0.3em;\n\t\t\tmargin-top: 0;\n\t\t}\n\t\t.docuserve-content h2 {\n\t\t\tfont-size: 1.5em;\n\t\t\tcolor: #2c3e50;\n\t\t\tborder-bottom: 1px solid #f0f0f0;\n\t\t\tpadding-bottom: 0.25em;\n\t\t\tmargin-top: 1.5em;\n\t\t}\n\t\t.docuserve-content h3 {\n\t\t\tfont-size: 1.25em;\n\t\t\tcolor: #333;\n\t\t\tmargin-top: 1.25em;\n\t\t}\n\t\t.docuserve-content h4, .docuserve-content h5, .docuserve-content h6 {\n\t\t\tcolor: #555;\n\t\t\tmargin-top: 1em;\n\t\t}\n\t\t.docuserve-content p {\n\t\t\tline-height: 1.7;\n\t\t\tcolor: #444;\n\t\t\tmargin: 0.75em 0;\n\t\t}\n\t\t.docuserve-content a {\n\t\t\tcolor: #42b983;\n\t\t\ttext-decoration: none;\n\t\t}\n\t\t.docuserve-content a:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t\t.docuserve-content pre {\n\t\t\tbackground: #2c3e50;\n\t\t\tcolor: #ecf0f1;\n\t\t\tpadding: 1.25em;\n\t\t\tborder-radius: 6px;\n\t\t\toverflow-x: auto;\n\t\t\tline-height: 1.5;\n\t\t\tfont-size: 0.9em;\n\t\t}\n\t\t.docuserve-content code {\n\t\t\tbackground: #f4f4f5;\n\t\t\tpadding: 0.15em 0.4em;\n\t\t\tborder-radius: 3px;\n\t\t\tfont-size: 0.9em;\n\t\t\tcolor: #e74c3c;\n\t\t}\n\t\t.docuserve-content pre code {\n\t\t\tbackground: none;\n\t\t\tpadding: 0;\n\t\t\tcolor: inherit;\n\t\t\tfont-size: inherit;\n\t\t}\n\t\t.docuserve-content blockquote {\n\t\t\tborder-left: 4px solid #42b983;\n\t\t\tmargin: 1em 0;\n\t\t\tpadding: 0.5em 1em;\n\t\t\tbackground: #f9f9f9;\n\t\t\tcolor: #666;\n\t\t}\n\t\t.docuserve-content blockquote p {\n\t\t\tmargin: 0.25em 0;\n\t\t}\n\t\t.docuserve-content ul, .docuserve-content ol {\n\t\t\tpadding-left: 2em;\n\t\t\tline-height: 1.8;\n\t\t}\n\t\t.docuserve-content li {\n\t\t\tmargin: 0.25em 0;\n\t\t\tcolor: #444;\n\t\t}\n\t\t.docuserve-content hr {\n\t\t\tborder: none;\n\t\t\tborder-top: 1px solid #eee;\n\t\t\tmargin: 2em 0;\n\t\t}\n\t\t.docuserve-content table {\n\t\t\twidth: 100%;\n\t\t\tborder-collapse: collapse;\n\t\t\tmargin: 1em 0;\n\t\t}\n\t\t.docuserve-content table th {\n\t\t\tbackground: #f5f7fa;\n\t\t\tborder: 1px solid #e0e0e0;\n\t\t\tpadding: 0.6em 0.8em;\n\t\t\ttext-align: left;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: #2c3e50;\n\t\t}\n\t\t.docuserve-content table td {\n\t\t\tborder: 1px solid #e0e0e0;\n\t\t\tpadding: 0.5em 0.8em;\n\t\t\tcolor: #444;\n\t\t}\n\t\t.docuserve-content table tr:nth-child(even) {\n\t\t\tbackground: #fafafa;\n\t\t}\n\t\t.docuserve-content img {\n\t\t\tmax-width: 100%;\n\t\t\theight: auto;\n\t\t}\n\t\t.docuserve-not-found {\n\t\t\ttext-align: center;\n\t\t\tpadding: 3em 1em;\n\t\t\tcolor: #666;\n\t\t}\n\t\t.docuserve-not-found h2 {\n\t\t\tcolor: #999;\n\t\t\tfont-size: 1.5em;\n\t\t\tborder-bottom: none;\n\t\t}\n\t\t.docuserve-not-found code {\n\t\t\tbackground: #f4f4f5;\n\t\t\tpadding: 0.15em 0.4em;\n\t\t\tborder-radius: 3px;\n\t\t\tfont-size: 0.9em;\n\t\t\tcolor: #e74c3c;\n\t\t}\n\t`,\n\n\tTemplates:\n\t[\n\t\t{\n\t\t\tHash: \"Docuserve-Content-Template\",\n\t\t\tTemplate: /*html*/`\n<div class=\"docuserve-content\" id=\"Docuserve-Content-Body\">\n\t<div class=\"docuserve-content-loading\">Loading documentation...</div>\n</div>\n`\n\t\t}\n\t],\n\n\tRenderables:\n\t[\n\t\t{\n\t\t\tRenderableHash: \"Docuserve-Content-Display\",\n\t\t\tTemplateHash: \"Docuserve-Content-Template\",\n\t\t\tDestinationAddress: \"#Docuserve-Content-Container\",\n\t\t\tRenderMethod: \"replace\"\n\t\t}\n\t]\n};\n\nclass DocuserveContentView extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\t/**\n\t * Display parsed HTML content in the content area.\n\t *\n\t * @param {string} pHTMLContent - The HTML to display\n\t */\n\tdisplayContent(pHTMLContent)\n\t{\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Content-Body', pHTMLContent);\n\n\t\t// Scroll to top of content area\n\t\tlet tmpContentContainer = document.getElementById('Docuserve-Content-Container');\n\t\tif (tmpContentContainer)\n\t\t{\n\t\t\ttmpContentContainer.scrollTop = 0;\n\t\t}\n\t}\n\n\t/**\n\t * Show a loading indicator.\n\t */\n\tshowLoading()\n\t{\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Content-Body', '<div class=\"docuserve-content-loading\">Loading documentation...</div>');\n\t}\n}\n\nmodule.exports = DocuserveContentView;\n\nmodule.exports.default_configuration = _ViewConfiguration;\n\n},{\"pict-view\":8}],13:[function(require,module,exports){\nconst libPictView = require('pict-view');\n\nconst _ViewConfiguration =\n{\n\tViewIdentifier: \"Docuserve-Layout\",\n\n\tDefaultRenderable: \"Docuserve-Layout-Shell\",\n\tDefaultDestinationAddress: \"#Docuserve-Application-Container\",\n\n\tAutoRender: false,\n\n\tCSS: /*css*/`\n\t\t#Docuserve-Application-Container {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\theight: 100vh;\n\t\t\toverflow: hidden;\n\t\t}\n\t\t#Docuserve-TopBar-Container {\n\t\t\tflex-shrink: 0;\n\t\t}\n\t\t.docuserve-body {\n\t\t\tdisplay: flex;\n\t\t\tflex: 1;\n\t\t\tmin-height: 0;\n\t\t}\n\t\t#Docuserve-Sidebar-Container {\n\t\t\tflex-shrink: 0;\n\t\t\twidth: 280px;\n\t\t\toverflow-y: auto;\n\t\t}\n\t\t#Docuserve-Content-Container {\n\t\t\tflex: 1;\n\t\t\tmin-width: 0;\n\t\t\toverflow-y: auto;\n\t\t}\n\t`,\n\n\tTemplates:\n\t[\n\t\t{\n\t\t\tHash: \"Docuserve-Layout-Shell-Template\",\n\t\t\tTemplate: /*html*/`\n<div id=\"Docuserve-TopBar-Container\"></div>\n<div class=\"docuserve-body\">\n\t<div id=\"Docuserve-Sidebar-Container\"></div>\n\t<div id=\"Docuserve-Content-Container\"></div>\n</div>\n`\n\t\t}\n\t],\n\n\tRenderables:\n\t[\n\t\t{\n\t\t\tRenderableHash: \"Docuserve-Layout-Shell\",\n\t\t\tTemplateHash: \"Docuserve-Layout-Shell-Template\",\n\t\t\tDestinationAddress: \"#Docuserve-Application-Container\",\n\t\t\tRenderMethod: \"replace\"\n\t\t}\n\t]\n};\n\nclass DocuserveLayoutView extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent)\n\t{\n\t\t// After the layout shell is rendered, render the child views into their containers\n\t\tthis.pict.views['Docuserve-TopBar'].render();\n\t\tthis.pict.views['Docuserve-Sidebar'].render();\n\n\t\t// Show the splash screen initially\n\t\tthis.pict.views['Docuserve-Splash'].render();\n\n\t\t// Inject all view CSS into the PICT-CSS style element\n\t\tthis.pict.CSSMap.injectCSS();\n\n\t\t// Resolve the current hash on initial load\n\t\tthis.pict.PictApplication.resolveHash();\n\n\t\t// Listen for hash changes so that plain <a href=\"#/...\"> links trigger\n\t\t// navigation.  This covers sidebar links, splash action buttons,\n\t\t// in-content links, and browser back/forward navigation.\n\t\tif (!this._HashChangeListenerBound)\n\t\t{\n\t\t\tthis._HashChangeListenerBound = true;\n\t\t\tlet tmpSelf = this;\n\t\t\twindow.addEventListener('hashchange', () =>\n\t\t\t{\n\t\t\t\ttmpSelf.pict.PictApplication.resolveHash();\n\t\t\t});\n\t\t}\n\n\t\treturn super.onAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent);\n\t}\n}\n\nmodule.exports = DocuserveLayoutView;\n\nmodule.exports.default_configuration = _ViewConfiguration;\n\n},{\"pict-view\":8}],14:[function(require,module,exports){\nconst libPictView = require('pict-view');\n\nconst _ViewConfiguration =\n{\n\tViewIdentifier: \"Docuserve-Sidebar\",\n\n\tDefaultRenderable: \"Docuserve-Sidebar-Content\",\n\tDefaultDestinationAddress: \"#Docuserve-Sidebar-Container\",\n\n\tAutoRender: false,\n\n\tCSS: /*css*/`\n\t\t.docuserve-sidebar {\n\t\t\tbackground-color: #f8f9fa;\n\t\t\tborder-right: 1px solid #e0e0e0;\n\t\t\tpadding: 1em 0;\n\t\t\theight: 100%;\n\t\t\tposition: relative;\n\t\t}\n\t\t.docuserve-sidebar-close {\n\t\t\tposition: absolute;\n\t\t\ttop: 0.5em;\n\t\t\tright: 0.5em;\n\t\t\tbackground: none;\n\t\t\tborder: none;\n\t\t\tcolor: #999;\n\t\t\tfont-size: 1.2em;\n\t\t\tcursor: pointer;\n\t\t\tpadding: 0.2em 0.4em;\n\t\t\tline-height: 1;\n\t\t}\n\t\t.docuserve-sidebar-close:hover {\n\t\t\tcolor: #42b983;\n\t\t}\n\t\t.docuserve-sidebar-search {\n\t\t\tpadding: 0 1em 1em 1em;\n\t\t\tborder-bottom: 1px solid #e9ecef;\n\t\t\tmargin-bottom: 0.5em;\n\t\t}\n\t\t.docuserve-sidebar-search input {\n\t\t\twidth: 100%;\n\t\t\tpadding: 0.5em 0.75em;\n\t\t\tborder: 1px solid #ddd;\n\t\t\tborder-radius: 4px;\n\t\t\tfont-size: 0.85em;\n\t\t\toutline: none;\n\t\t\tbox-sizing: border-box;\n\t\t}\n\t\t.docuserve-sidebar-search input:focus {\n\t\t\tborder-color: #42b983;\n\t\t}\n\t\t.docuserve-sidebar-home {\n\t\t\tpadding: 0.5em 1.25em;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 0.85em;\n\t\t\ttext-transform: uppercase;\n\t\t\tletter-spacing: 0.03em;\n\t\t}\n\t\t.docuserve-sidebar-home a {\n\t\t\tcolor: #666;\n\t\t\ttext-decoration: none;\n\t\t\tcursor: pointer;\n\t\t\tuser-select: none;\n\t\t}\n\t\t.docuserve-sidebar-home a:hover {\n\t\t\tcolor: #42b983;\n\t\t}\n\t\t.docuserve-sidebar-group {\n\t\t\tmargin-top: 0.25em;\n\t\t}\n\t\t.docuserve-sidebar-group-title {\n\t\t\tdisplay: block;\n\t\t\tpadding: 0.5em 1.25em;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 0.85em;\n\t\t\tcolor: #666;\n\t\t\ttext-decoration: none;\n\t\t\ttext-transform: uppercase;\n\t\t\tletter-spacing: 0.03em;\n\t\t\tcursor: pointer;\n\t\t\tuser-select: none;\n\t\t}\n\t\t.docuserve-sidebar-group-title:hover {\n\t\t\tcolor: #42b983;\n\t\t}\n\t\t.docuserve-sidebar-modules {\n\t\t\tlist-style: none;\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t}\n\t\t.docuserve-sidebar-modules li {\n\t\t\tpadding: 0;\n\t\t}\n\t\t.docuserve-sidebar-modules a {\n\t\t\tdisplay: block;\n\t\t\tpadding: 0.3em 1.25em 0.3em 2em;\n\t\t\tcolor: #555;\n\t\t\ttext-decoration: none;\n\t\t\tfont-size: 0.85em;\n\t\t\ttransition: background-color 0.1s, color 0.1s;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t.docuserve-sidebar-modules a:hover {\n\t\t\tbackground-color: #e9ecef;\n\t\t\tcolor: #42b983;\n\t\t}\n\t\t.docuserve-sidebar-modules a.active {\n\t\t\tcolor: #42b983;\n\t\t\tfont-weight: 600;\n\t\t\tbackground-color: #e8f5e9;\n\t\t}\n\t\t.docuserve-sidebar-modules .no-docs {\n\t\t\tdisplay: block;\n\t\t\tpadding: 0.3em 1.25em 0.3em 2em;\n\t\t\tcolor: #bbb;\n\t\t\tfont-size: 0.85em;\n\t\t}\n\t\t.docuserve-sidebar-module-nav {\n\t\t\tborder-top: 1px solid #e9ecef;\n\t\t\tmargin-top: 0.5em;\n\t\t\tpadding-top: 0.5em;\n\t\t}\n\t\t.docuserve-sidebar-module-nav-section {\n\t\t\tpadding: 0.4em 1.25em;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 0.8em;\n\t\t\tcolor: #888;\n\t\t\ttext-transform: uppercase;\n\t\t\tletter-spacing: 0.02em;\n\t\t}\n\t\t.docuserve-sidebar-module-nav a {\n\t\t\tdisplay: block;\n\t\t\tpadding: 0.25em 1.25em 0.25em 2.25em;\n\t\t\tcolor: #555;\n\t\t\ttext-decoration: none;\n\t\t\tfont-size: 0.82em;\n\t\t\ttransition: background-color 0.1s, color 0.1s;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t.docuserve-sidebar-module-nav a:hover {\n\t\t\tbackground-color: #e9ecef;\n\t\t\tcolor: #42b983;\n\t\t}\n\t`,\n\n\tTemplates:\n\t[\n\t\t{\n\t\t\tHash: \"Docuserve-Sidebar-Template\",\n\t\t\tTemplate: /*html*/`\n<div class=\"docuserve-sidebar\">\n\t<button class=\"docuserve-sidebar-close\" onclick=\"{~P~}.views['Docuserve-Sidebar'].toggleSidebar()\">&times;</button>\n\t<div class=\"docuserve-sidebar-home\">\n\t\t<a onclick=\"{~P~}.PictApplication.navigateTo('/Home')\">Home</a>\n\t</div>\n\t<div id=\"Docuserve-Sidebar-Groups\"></div>\n\t<div id=\"Docuserve-Sidebar-ModuleNav\"></div>\n</div>\n`\n\t\t}\n\t],\n\n\tRenderables:\n\t[\n\t\t{\n\t\t\tRenderableHash: \"Docuserve-Sidebar-Content\",\n\t\t\tTemplateHash: \"Docuserve-Sidebar-Template\",\n\t\t\tDestinationAddress: \"#Docuserve-Sidebar-Container\",\n\t\t\tRenderMethod: \"replace\"\n\t\t}\n\t]\n};\n\nclass DocusserveSidebarView extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent)\n\t{\n\t\tthis.renderSidebarGroups();\n\n\t\treturn super.onAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent);\n\t}\n\n\t/**\n\t * Render the sidebar group navigation from catalog data.\n\t */\n\trenderSidebarGroups()\n\t{\n\t\tlet tmpGroups = this.pict.AppData.Docuserve.SidebarGroups;\n\n\t\tif (!tmpGroups || tmpGroups.length < 1)\n\t\t{\n\t\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Sidebar-Groups', '<p style=\"padding: 1em; color: #999; font-size: 0.85em;\">Loading catalog...</p>');\n\t\t\treturn;\n\t\t}\n\n\t\tlet tmpHTML = '';\n\n\t\tfor (let i = 0; i < tmpGroups.length; i++)\n\t\t{\n\t\t\tlet tmpGroup = tmpGroups[i];\n\t\t\ttmpHTML += '<div class=\"docuserve-sidebar-group\">';\n\n\t\t\t// Determine the route for the group title: use the group's own route,\n\t\t\t// or fall back to the first module with docs.\n\t\t\tlet tmpGroupRoute = tmpGroup.Route || '';\n\t\t\tif (!tmpGroupRoute)\n\t\t\t{\n\t\t\t\tfor (let k = 0; k < tmpGroup.Modules.length; k++)\n\t\t\t\t{\n\t\t\t\t\tif (tmpGroup.Modules[k].HasDocs && tmpGroup.Modules[k].Route)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpGroupRoute = tmpGroup.Modules[k].Route;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tmpGroupRoute)\n\t\t\t{\n\t\t\t\ttmpHTML += '<a class=\"docuserve-sidebar-group-title\" href=\"' + tmpGroupRoute + '\">' + this.escapeHTML(tmpGroup.Name) + '</a>';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttmpHTML += '<div class=\"docuserve-sidebar-group-title\">' + this.escapeHTML(tmpGroup.Name) + '</div>';\n\t\t\t}\n\t\t\ttmpHTML += '<ul class=\"docuserve-sidebar-modules\">';\n\n\t\t\tfor (let j = 0; j < tmpGroup.Modules.length; j++)\n\t\t\t{\n\t\t\t\tlet tmpModule = tmpGroup.Modules[j];\n\t\t\t\tif (tmpModule.HasDocs)\n\t\t\t\t{\n\t\t\t\t\tlet tmpActiveClass = '';\n\t\t\t\t\tif (this.pict.AppData.Docuserve.CurrentGroup === tmpModule.Group && this.pict.AppData.Docuserve.CurrentModule === tmpModule.Name)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpActiveClass = ' class=\"active\"';\n\t\t\t\t\t}\n\t\t\t\t\ttmpHTML += '<li><a' + tmpActiveClass + ' href=\"' + tmpModule.Route + '\">' + this.escapeHTML(tmpModule.Name) + '</a></li>';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmpHTML += '<li><span class=\"no-docs\">' + this.escapeHTML(tmpModule.Name) + '</span></li>';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttmpHTML += '</ul>';\n\t\t\ttmpHTML += '</div>';\n\t\t}\n\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Sidebar-Groups', tmpHTML);\n\t}\n\n\t/**\n\t * Render module-specific sub-navigation when viewing a module.\n\t *\n\t * @param {string} pGroup - The group key\n\t * @param {string} pModule - The module name\n\t */\n\trenderModuleNav(pGroup, pModule)\n\t{\n\t\tlet tmpDocProvider = this.pict.providers['Docuserve-Documentation'];\n\t\tif (!tmpDocProvider)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tlet tmpSidebar = tmpDocProvider.getModuleSidebar(pGroup, pModule);\n\t\tif (!tmpSidebar)\n\t\t{\n\t\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Sidebar-ModuleNav', '');\n\t\t\treturn;\n\t\t}\n\n\t\tlet tmpRoutePrefix = '#/doc/' + pGroup + '/' + pModule + '/';\n\t\tlet tmpHTML = '<div class=\"docuserve-sidebar-module-nav\">';\n\n\t\tfor (let i = 0; i < tmpSidebar.length; i++)\n\t\t{\n\t\t\tlet tmpEntry = tmpSidebar[i];\n\n\t\t\tif (tmpEntry.Children)\n\t\t\t{\n\t\t\t\ttmpHTML += '<div class=\"docuserve-sidebar-module-nav-section\">' + this.escapeHTML(tmpEntry.Title) + '</div>';\n\n\t\t\t\tfor (let j = 0; j < tmpEntry.Children.length; j++)\n\t\t\t\t{\n\t\t\t\t\tlet tmpChild = tmpEntry.Children[j];\n\t\t\t\t\tif (tmpChild.Path)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpHTML += '<a href=\"' + tmpRoutePrefix + tmpChild.Path + '\">' + this.escapeHTML(tmpChild.Title) + '</a>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (tmpEntry.Path)\n\t\t\t{\n\t\t\t\ttmpHTML += '<a href=\"' + tmpRoutePrefix + tmpEntry.Path + '\">' + this.escapeHTML(tmpEntry.Title) + '</a>';\n\t\t\t}\n\t\t}\n\n\t\ttmpHTML += '</div>';\n\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Sidebar-ModuleNav', tmpHTML);\n\t}\n\n\t/**\n\t * Toggle the sidebar visibility and update the top bar hamburger button.\n\t */\n\ttoggleSidebar()\n\t{\n\t\tthis.pict.AppData.Docuserve.SidebarVisible = !this.pict.AppData.Docuserve.SidebarVisible;\n\n\t\tlet tmpContainer = document.getElementById('Docuserve-Sidebar-Container');\n\t\tlet tmpToggle = document.getElementById('Docuserve-TopBar-Toggle');\n\n\t\tif (this.pict.AppData.Docuserve.SidebarVisible)\n\t\t{\n\t\t\tif (tmpContainer) tmpContainer.style.display = '';\n\t\t\tif (tmpToggle) tmpToggle.style.display = 'none';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (tmpContainer) tmpContainer.style.display = 'none';\n\t\t\tif (tmpToggle) tmpToggle.style.display = 'inline-block';\n\t\t}\n\t}\n\n\t/**\n\t * Clear the module-specific sub-navigation.\n\t */\n\tclearModuleNav()\n\t{\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Sidebar-ModuleNav', '');\n\t}\n\n\t/**\n\t * Escape HTML special characters.\n\t *\n\t * @param {string} pText - The text to escape\n\t * @returns {string} The escaped text\n\t */\n\tescapeHTML(pText)\n\t{\n\t\tif (!pText)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\t\treturn pText\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;');\n\t}\n}\n\nmodule.exports = DocusserveSidebarView;\n\nmodule.exports.default_configuration = _ViewConfiguration;\n\n},{\"pict-view\":8}],15:[function(require,module,exports){\nconst libPictView = require('pict-view');\n\nconst _ViewConfiguration =\n{\n\tViewIdentifier: \"Docuserve-Splash\",\n\n\tDefaultRenderable: \"Docuserve-Splash-Content\",\n\tDefaultDestinationAddress: \"#Docuserve-Content-Container\",\n\n\tAutoRender: false,\n\n\tCSS: /*css*/`\n\t\t.docuserve-splash {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tmin-height: calc(100vh - 56px);\n\t\t\tpadding: 3em 2em;\n\t\t\ttext-align: center;\n\t\t\tbackground: linear-gradient(135deg, #f5f7fa 0%, #e8f5e9 100%);\n\t\t}\n\t\t.docuserve-splash h1 {\n\t\t\tfont-size: 3em;\n\t\t\tfont-weight: 700;\n\t\t\tcolor: #2c3e50;\n\t\t\tmargin: 0 0 0.25em 0;\n\t\t}\n\t\t.docuserve-splash-tagline {\n\t\t\tfont-size: 1.25em;\n\t\t\tcolor: #666;\n\t\t\tmargin-bottom: 1.5em;\n\t\t\tfont-style: italic;\n\t\t}\n\t\t.docuserve-splash-description {\n\t\t\tfont-size: 1em;\n\t\t\tcolor: #555;\n\t\t\tmax-width: 600px;\n\t\t\tline-height: 1.7;\n\t\t\tmargin-bottom: 2em;\n\t\t}\n\t\t.docuserve-splash-highlights {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n\t\t\tgap: 1.25em;\n\t\t\tmax-width: 900px;\n\t\t\twidth: 100%;\n\t\t\tmargin-bottom: 2.5em;\n\t\t}\n\t\t.docuserve-splash-highlight-card {\n\t\t\tbackground: #fff;\n\t\t\tborder: 1px solid #e0e0e0;\n\t\t\tborder-radius: 8px;\n\t\t\tpadding: 1.25em;\n\t\t\ttext-align: left;\n\t\t\ttransition: box-shadow 0.2s, border-color 0.2s;\n\t\t}\n\t\t.docuserve-splash-highlight-card:hover {\n\t\t\tbox-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n\t\t\tborder-color: #42b983;\n\t\t}\n\t\t.docuserve-splash-highlight-card h3 {\n\t\t\tmargin: 0 0 0.5em 0;\n\t\t\tcolor: #2c3e50;\n\t\t\tfont-size: 1em;\n\t\t}\n\t\t.docuserve-splash-highlight-card p {\n\t\t\tmargin: 0;\n\t\t\tcolor: #777;\n\t\t\tfont-size: 0.85em;\n\t\t\tline-height: 1.5;\n\t\t}\n\t\t.docuserve-splash-actions {\n\t\t\tdisplay: flex;\n\t\t\tgap: 1em;\n\t\t\tflex-wrap: wrap;\n\t\t\tjustify-content: center;\n\t\t}\n\t\t.docuserve-splash-actions a {\n\t\t\tdisplay: inline-block;\n\t\t\tpadding: 0.7em 1.5em;\n\t\t\tborder-radius: 6px;\n\t\t\tfont-size: 0.95em;\n\t\t\tfont-weight: 600;\n\t\t\ttext-decoration: none;\n\t\t\ttransition: background-color 0.15s, color 0.15s;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t.docuserve-splash-actions .primary {\n\t\t\tbackground-color: #42b983;\n\t\t\tcolor: #fff;\n\t\t}\n\t\t.docuserve-splash-actions .primary:hover {\n\t\t\tbackground-color: #38a373;\n\t\t}\n\t\t.docuserve-splash-actions .secondary {\n\t\t\tbackground-color: #fff;\n\t\t\tcolor: #2c3e50;\n\t\t\tborder: 1px solid #ddd;\n\t\t}\n\t\t.docuserve-splash-actions .secondary:hover {\n\t\t\tborder-color: #42b983;\n\t\t\tcolor: #42b983;\n\t\t}\n\t`,\n\n\tTemplates:\n\t[\n\t\t{\n\t\t\tHash: \"Docuserve-Splash-Template\",\n\t\t\tTemplate: /*html*/`\n<div class=\"docuserve-splash\">\n\t<h1 id=\"Docuserve-Splash-Title\"></h1>\n\t<div class=\"docuserve-splash-tagline\" id=\"Docuserve-Splash-Tagline\"></div>\n\t<div class=\"docuserve-splash-description\" id=\"Docuserve-Splash-Description\"></div>\n\t<div class=\"docuserve-splash-highlights\" id=\"Docuserve-Splash-Highlights\"></div>\n\t<div class=\"docuserve-splash-actions\" id=\"Docuserve-Splash-Actions\"></div>\n</div>\n`\n\t\t}\n\t],\n\n\tRenderables:\n\t[\n\t\t{\n\t\t\tRenderableHash: \"Docuserve-Splash-Content\",\n\t\t\tTemplateHash: \"Docuserve-Splash-Template\",\n\t\t\tDestinationAddress: \"#Docuserve-Content-Container\",\n\t\t\tRenderMethod: \"replace\"\n\t\t}\n\t]\n};\n\nclass DocusserveSplashView extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent)\n\t{\n\t\tlet tmpDocuserve = this.pict.AppData.Docuserve;\n\n\t\tif (tmpDocuserve.CoverLoaded && tmpDocuserve.Cover)\n\t\t{\n\t\t\tthis.renderFromCover(tmpDocuserve.Cover);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.renderFromCatalog(tmpDocuserve);\n\t\t}\n\n\t\treturn super.onAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent);\n\t}\n\n\t/**\n\t * Render the splash screen from parsed cover.md data.\n\t *\n\t * @param {Object} pCover - The parsed cover data { Title, Tagline, Description, Highlights, Actions }\n\t */\n\trenderFromCover(pCover)\n\t{\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Title', this.escapeHTML(pCover.Title));\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Tagline', this.escapeHTML(pCover.Tagline));\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Description', this.escapeHTML(pCover.Description));\n\n\t\t// Render highlight cards\n\t\tlet tmpHighlightsHTML = '';\n\t\tfor (let i = 0; i < pCover.Highlights.length; i++)\n\t\t{\n\t\t\tlet tmpHighlight = pCover.Highlights[i];\n\t\t\ttmpHighlightsHTML += '<div class=\"docuserve-splash-highlight-card\">';\n\t\t\tif (tmpHighlight.Label)\n\t\t\t{\n\t\t\t\ttmpHighlightsHTML += '<h3>' + this.escapeHTML(tmpHighlight.Label) + '</h3>';\n\t\t\t}\n\t\t\ttmpHighlightsHTML += '<p>' + this.escapeHTML(tmpHighlight.Text) + '</p>';\n\t\t\ttmpHighlightsHTML += '</div>';\n\t\t}\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Highlights', tmpHighlightsHTML);\n\n\t\t// Render action buttons\n\t\tlet tmpActionsHTML = '';\n\t\tlet tmpDocProvider = this.pict.providers['Docuserve-Documentation'];\n\t\tfor (let i = 0; i < pCover.Actions.length; i++)\n\t\t{\n\t\t\tlet tmpAction = pCover.Actions[i];\n\t\t\tlet tmpClass = (i === 0) ? 'primary' : 'secondary';\n\t\t\tlet tmpHref = tmpAction.Href;\n\n\t\t\t// External links open in new tab\n\t\t\tif (tmpHref.match(/^https?:\\/\\//))\n\t\t\t{\n\t\t\t\ttmpActionsHTML += '<a class=\"' + tmpClass + '\" href=\"' + this.escapeHTML(tmpHref) + '\" target=\"_blank\" rel=\"noopener\">' + this.escapeHTML(tmpAction.Text) + '</a>';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Internal links go through the app router\n\t\t\t\tlet tmpRoute = tmpDocProvider.convertSidebarLink(tmpHref);\n\t\t\t\ttmpActionsHTML += '<a class=\"' + tmpClass + '\" href=\"' + this.escapeHTML(tmpRoute) + '\">' + this.escapeHTML(tmpAction.Text) + '</a>';\n\t\t\t}\n\t\t}\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Actions', tmpActionsHTML);\n\t}\n\n\t/**\n\t * Render the splash screen from catalog data as a fallback when cover.md\n\t * is not available.\n\t *\n\t * @param {Object} pDocuserve - The AppData.Docuserve state\n\t */\n\trenderFromCatalog(pDocuserve)\n\t{\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Title', 'Retold');\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Tagline', 'Documentation');\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Description', '');\n\n\t\t// Build highlight cards from catalog groups\n\t\tlet tmpHighlightsHTML = '';\n\t\tlet tmpGroups = pDocuserve.SidebarGroups || [];\n\t\tfor (let i = 0; i < tmpGroups.length; i++)\n\t\t{\n\t\t\tlet tmpGroup = tmpGroups[i];\n\t\t\t// Skip groups with no modules (like \"Home\" or \"Getting Started\")\n\t\t\tif (!tmpGroup.Modules || tmpGroup.Modules.length < 1)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tlet tmpDescription = tmpGroup.Description || (tmpGroup.Modules.length + ' modules');\n\t\t\ttmpHighlightsHTML += '<div class=\"docuserve-splash-highlight-card\">';\n\t\t\ttmpHighlightsHTML += '<h3>' + this.escapeHTML(tmpGroup.Name) + '</h3>';\n\t\t\ttmpHighlightsHTML += '<p>' + this.escapeHTML(tmpDescription) + '</p>';\n\t\t\ttmpHighlightsHTML += '</div>';\n\t\t}\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Highlights', tmpHighlightsHTML);\n\n\t\t// Default action buttons\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Actions', '');\n\t}\n\n\t/**\n\t * Escape HTML special characters.\n\t *\n\t * @param {string} pText - The text to escape\n\t * @returns {string} The escaped text\n\t */\n\tescapeHTML(pText)\n\t{\n\t\tif (!pText)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\t\treturn pText\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;');\n\t}\n}\n\nmodule.exports = DocusserveSplashView;\n\nmodule.exports.default_configuration = _ViewConfiguration;\n\n},{\"pict-view\":8}],16:[function(require,module,exports){\nconst libPictView = require('pict-view');\n\nconst _ViewConfiguration =\n{\n\tViewIdentifier: \"Docuserve-TopBar\",\n\n\tDefaultRenderable: \"Docuserve-TopBar-Content\",\n\tDefaultDestinationAddress: \"#Docuserve-TopBar-Container\",\n\n\tAutoRender: false,\n\n\tCSS: /*css*/`\n\t\t.docuserve-topbar {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tbackground-color: #2c3e50;\n\t\t\tcolor: #ecf0f1;\n\t\t\tpadding: 0 1.5em;\n\t\t\theight: 56px;\n\t\t\tbox-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);\n\t\t\tposition: sticky;\n\t\t\ttop: 0;\n\t\t\tz-index: 100;\n\t\t}\n\t\t.docuserve-topbar-brand {\n\t\t\tfont-size: 1.25em;\n\t\t\tfont-weight: 600;\n\t\t\tletter-spacing: 0.02em;\n\t\t\tcolor: #ecf0f1;\n\t\t\ttext-decoration: none;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t.docuserve-topbar-brand:hover {\n\t\t\tcolor: #fff;\n\t\t}\n\t\t.docuserve-topbar-nav {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 0.25em;\n\t\t}\n\t\t.docuserve-topbar-nav a {\n\t\t\tcolor: #bdc3c7;\n\t\t\ttext-decoration: none;\n\t\t\tpadding: 0.5em 0.75em;\n\t\t\tborder-radius: 4px;\n\t\t\tfont-size: 0.9em;\n\t\t\ttransition: background-color 0.15s, color 0.15s;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t.docuserve-topbar-nav a:hover {\n\t\t\tbackground-color: #34495e;\n\t\t\tcolor: #fff;\n\t\t}\n\t\t.docuserve-topbar-links {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 0.5em;\n\t\t}\n\t\t.docuserve-topbar-links a {\n\t\t\tcolor: #95a5a6;\n\t\t\ttext-decoration: none;\n\t\t\tfont-size: 0.85em;\n\t\t\tpadding: 0.4em 0.6em;\n\t\t\tborder-radius: 4px;\n\t\t\ttransition: background-color 0.15s, color 0.15s;\n\t\t}\n\t\t.docuserve-topbar-links a:hover {\n\t\t\tbackground-color: #34495e;\n\t\t\tcolor: #ecf0f1;\n\t\t}\n\t\t.docuserve-topbar-toggle {\n\t\t\tdisplay: none;\n\t\t\tbackground: none;\n\t\t\tborder: none;\n\t\t\tcolor: #bdc3c7;\n\t\t\tfont-size: 1.3em;\n\t\t\tcursor: pointer;\n\t\t\tpadding: 0.3em 0.5em;\n\t\t\tmargin-left: 0.5em;\n\t\t\tline-height: 1;\n\t\t}\n\t\t.docuserve-topbar-toggle:hover {\n\t\t\tcolor: #fff;\n\t\t}\n\t\t.docuserve-topbar-right {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\t`,\n\n\tTemplates:\n\t[\n\t\t{\n\t\t\tHash: \"Docuserve-TopBar-Template\",\n\t\t\tTemplate: /*html*/`\n<div class=\"docuserve-topbar\">\n\t<a id=\"Docuserve-TopBar-Brand\" class=\"docuserve-topbar-brand\" href=\"#/Home\"></a>\n\t<div id=\"Docuserve-TopBar-Nav\" class=\"docuserve-topbar-nav\"></div>\n\t<div class=\"docuserve-topbar-right\">\n\t\t<div id=\"Docuserve-TopBar-Links\" class=\"docuserve-topbar-links\"></div>\n\t\t<button id=\"Docuserve-TopBar-Toggle\" class=\"docuserve-topbar-toggle\" onclick=\"{~P~}.views['Docuserve-Sidebar'].toggleSidebar()\">&#9776;</button>\n\t</div>\n</div>\n`\n\t\t}\n\t],\n\n\tRenderables:\n\t[\n\t\t{\n\t\t\tRenderableHash: \"Docuserve-TopBar-Content\",\n\t\t\tTemplateHash: \"Docuserve-TopBar-Template\",\n\t\t\tDestinationAddress: \"#Docuserve-TopBar-Container\",\n\t\t\tRenderMethod: \"replace\"\n\t\t}\n\t]\n};\n\nclass DocuserveTopBarView extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent)\n\t{\n\t\tthis.renderTopBarContent();\n\t\treturn super.onAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent);\n\t}\n\n\t/**\n\t * Populate the top bar from _topbar.md data or fall back to defaults.\n\t */\n\trenderTopBarContent()\n\t{\n\t\tlet tmpDocuserve = this.pict.AppData.Docuserve;\n\t\tlet tmpBrandEl = document.getElementById('Docuserve-TopBar-Brand');\n\t\tlet tmpNavEl = document.getElementById('Docuserve-TopBar-Nav');\n\t\tlet tmpLinksEl = document.getElementById('Docuserve-TopBar-Links');\n\n\t\tif (!tmpBrandEl || !tmpNavEl || !tmpLinksEl)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (tmpDocuserve.TopBarLoaded && tmpDocuserve.TopBar)\n\t\t{\n\t\t\t// Data-driven from _topbar.md\n\t\t\tlet tmpTopBar = tmpDocuserve.TopBar;\n\n\t\t\t// Brand\n\t\t\ttmpBrandEl.textContent = tmpTopBar.Brand || 'Documentation';\n\n\t\t\t// Navigation links (centre)\n\t\t\tlet tmpNavHTML = '<a href=\"#/Home\">Home</a>';\n\t\t\tfor (let i = 0; i < tmpTopBar.NavLinks.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpLink = tmpTopBar.NavLinks[i];\n\t\t\t\ttmpNavHTML += '<a href=\"' + tmpLink.Href + '\">' + this.escapeHTML(tmpLink.Text) + '</a>';\n\t\t\t}\n\t\t\ttmpNavEl.innerHTML = tmpNavHTML;\n\n\t\t\t// External links (right side)\n\t\t\tlet tmpLinksHTML = '';\n\t\t\tfor (let i = 0; i < tmpTopBar.ExternalLinks.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpLink = tmpTopBar.ExternalLinks[i];\n\t\t\t\ttmpLinksHTML += '<a href=\"' + this.escapeHTML(tmpLink.Href) + '\" target=\"_blank\" rel=\"noopener\">' + this.escapeHTML(tmpLink.Text) + '</a>';\n\t\t\t}\n\t\t\ttmpLinksEl.innerHTML = tmpLinksHTML;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Fallback: use brand from cover or a default, and just show Home\n\t\t\tlet tmpBrand = 'Documentation';\n\t\t\tif (tmpDocuserve.CoverLoaded && tmpDocuserve.Cover && tmpDocuserve.Cover.Title)\n\t\t\t{\n\t\t\t\ttmpBrand = tmpDocuserve.Cover.Title;\n\t\t\t}\n\t\t\telse if (tmpDocuserve.CatalogLoaded && tmpDocuserve.Catalog && tmpDocuserve.Catalog.Name)\n\t\t\t{\n\t\t\t\ttmpBrand = tmpDocuserve.Catalog.Name;\n\t\t\t}\n\n\t\t\ttmpBrandEl.textContent = tmpBrand;\n\t\t\ttmpNavEl.innerHTML = '<a href=\"#/Home\">Home</a>';\n\t\t\ttmpLinksEl.innerHTML = '';\n\t\t}\n\t}\n\n\t/**\n\t * Escape HTML special characters.\n\t */\n\tescapeHTML(pText)\n\t{\n\t\tif (!pText)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\t\treturn pText\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;')\n\t\t\t.replace(/'/g, '&#39;');\n\t}\n}\n\nmodule.exports = DocuserveTopBarView;\n\nmodule.exports.default_configuration = _ViewConfiguration;\n\n},{\"pict-view\":8}]},{},[10])(10)\n});\n\n","(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","module.exports={\n    \"name\": \"fable-serviceproviderbase\",\n    \"version\": \"3.0.15\",\n    \"description\": \"Simple base classes for fable services.\",\n    \"main\": \"source/Fable-ServiceProviderBase.js\",\n    \"scripts\": {\n        \"start\": \"node source/Fable-ServiceProviderBase.js\",\n        \"test\": \"npx mocha -u tdd -R spec\",\n        \"tests\": \"npx mocha -u tdd --exit -R spec --grep\",\n        \"coverage\": \"npx nyc --reporter=lcov --reporter=text-lcov npx mocha -- -u tdd -R spec\",\n        \"build\": \"npx quack build\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    },\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"https://github.com/stevenvelozo/fable-serviceproviderbase.git\"\n    },\n    \"keywords\": [\n        \"entity\",\n        \"behavior\"\n    ],\n    \"author\": \"Steven Velozo <steven@velozo.com> (http://velozo.com/)\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/fable-serviceproviderbase/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/fable-serviceproviderbase\",\n    \"devDependencies\": {\n        \"fable\": \"^3.0.143\",\n        \"quackage\": \"^1.0.33\"\n    }\n}","/**\n* Fable Service Base\n* @author <steven@velozo.com>\n*/\n\nconst libPackage = require('../package.json');\n\nclass FableServiceProviderBase\n{\n\t// The constructor can be used in two ways:\n\t// 1) With a fable, options object and service hash (the options object and service hash are optional)\n\t// 2) With an object or nothing as the first parameter, where it will be treated as the options object\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\t// Check if a fable was passed in; connect it if so\n\t\tif ((typeof(pFable) === 'object') && pFable.isFable)\n\t\t{\n\t\t\tthis.connectFable(pFable);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.fable = false;\n\t\t}\n\n\t\t// Initialize the services map if it wasn't passed in\n\t\t/** @type {Object} */\n\t\tthis._PackageFableServiceProvider = libPackage;\n\n\t\t// initialize options and UUID based on whether the fable was passed in or not.\n\t\tif (this.fable)\n\t\t{\n\t\t\tthis.UUID = pFable.getUUID();\n\t\t\tthis.options = (typeof(pOptions) === 'object') ? pOptions\n\t\t\t\t\t\t\t: {};\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// With no fable, check to see if there was an object passed into either of the first two\n\t\t\t// Parameters, and if so, treat it as the options object\n\t\t\tthis.options = ((typeof(pFable) === 'object') && !pFable.isFable) ? pFable\n\t\t\t\t\t\t\t: (typeof(pOptions) === 'object') ? pOptions\n\t\t\t\t\t\t\t: {};\n\t\t\tthis.UUID = `CORE-SVC-${Math.floor((Math.random() * (99999 - 10000)) + 10000)}`\n\t\t}\n\n\t\t// It's expected that the deriving class will set this\n\t\tthis.serviceType = `Unknown-${this.UUID}`;\n\n\t\t// The service hash is used to identify the specific instantiation of the service in the services map\n\t\tthis.Hash = (typeof(pServiceHash) === 'string') ? pServiceHash \n\t\t\t\t\t: (!this.fable && (typeof(pOptions) === 'string')) ? pOptions\n\t\t\t\t\t: `${this.UUID}`;\n\t}\n\n\tconnectFable(pFable)\n\t{\n\t\tif ((typeof(pFable) !== 'object') || (!pFable.isFable))\n\t\t{\n\t\t\tlet tmpErrorMessage = `Fable Service Provider Base: Cannot connect to Fable, invalid Fable object passed in.  The pFable parameter was a [${typeof(pFable)}].}`;\n\t\t\tconsole.log(tmpErrorMessage);\n\t\t\treturn new Error(tmpErrorMessage);\n\t\t}\n\n\t\tif (!this.fable)\n\t\t{\n\t\t\tthis.fable = pFable;\n\t\t}\n\n\t\tif (!this.log)\n\t\t{\n\t\t\tthis.log = this.fable.Logging;\n\t\t}\n\t\tif (!this.services)\n\t\t{\n\t\t\tthis.services = this.fable.services;\n\t\t}\n\n\t\tif (!this.servicesMap)\n\t\t{\n\t\t\tthis.servicesMap = this.fable.servicesMap;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tstatic isFableService = true;\n}\n\nmodule.exports = FableServiceProviderBase;\n\n// This is left here in case we want to go back to having different code/base class for \"core\" services\nmodule.exports.CoreServiceProviderBase = FableServiceProviderBase;","module.exports={\n    \"name\": \"pict-application\",\n    \"version\": \"1.0.30\",\n    \"description\": \"Application base class for a pict view-based application\",\n    \"main\": \"source/Pict-Application.js\",\n    \"scripts\": {\n        \"test\": \"npx mocha -u tdd -R spec\",\n        \"start\": \"node source/Pict-Application.js\",\n        \"coverage\": \"npx nyc --reporter=lcov --reporter=text-lcov npx mocha -- -u tdd -R spec\",\n        \"build\": \"npx quack build\",\n        \"docker-dev-build\": \"docker build ./ -f Dockerfile_LUXURYCode -t pict-application-image:local\",\n        \"docker-dev-run\": \"docker run -it -d --name pict-application-dev -p 30001:8080 -p 38086:8086 -v \\\"$PWD/.config:/home/coder/.config\\\"  -v \\\"$PWD:/home/coder/pict-application\\\" -u \\\"$(id -u):$(id -g)\\\" -e \\\"DOCKER_USER=$USER\\\" pict-application-image:local\",\n        \"docker-dev-shell\": \"docker exec -it pict-application-dev /bin/bash\",\n        \"tests\": \"npx mocha -u tdd --exit -R spec --grep\",\n        \"lint\": \"eslint source/**\",\n        \"types\": \"tsc -p .\"\n    },\n    \"types\": \"types/source/Pict-Application.d.ts\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"git+https://github.com/stevenvelozo/pict-application.git\"\n    },\n    \"author\": \"steven velozo <steven@velozo.com>\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/pict-application/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/pict-application#readme\",\n    \"devDependencies\": {\n        \"@eslint/js\": \"^9.28.0\",\n        \"browser-env\": \"^3.3.0\",\n        \"eslint\": \"^9.28.0\",\n        \"pict\": \"^1.0.343\",\n        \"pict-provider\": \"^1.0.7\",\n        \"pict-view\": \"^1.0.64\",\n        \"quackage\": \"^1.0.45\",\n        \"typescript\": \"^5.9.3\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    },\n    \"dependencies\": {\n        \"fable-serviceproviderbase\": \"^3.0.15\"\n    }\n}\n","const libFableServiceBase = require('fable-serviceproviderbase')\n\nconst libPackage = require('../package.json');\n\nconst defaultPictSettings = (\n\t{\n\t\tName: 'DefaultPictApplication',\n\n\t\t// The main \"viewport\" is the view that is used to host our application\n\t\tMainViewportViewIdentifier: 'Default-View',\n\t\tMainViewportRenderableHash: false,\n\t\tMainViewportDestinationAddress: false,\n\t\tMainViewportDefaultDataAddress: false,\n\n\t\t// Whether or not we should automatically render the main viewport and other autorender views after we initialize the pict application\n\t\tAutoSolveAfterInitialize: true,\n\t\tAutoRenderMainViewportViewAfterInitialize: true,\n\t\tAutoRenderViewsAfterInitialize: false,\n\t\tAutoLoginAfterInitialize: false,\n\t\tAutoLoadDataAfterLogin: false,\n\n\t\tConfigurationOnlyViews: [],\n\n\t\tManifests: {},\n\t\t// The prefix to prepend on all template destination hashes\n\t\tIdentifierAddressPrefix: 'PICT-'\n\t});\n\n/**\n * Base class for pict applications.\n */\nclass PictApplication extends libFableServiceBase\n{\n\t/**\n\t * @param {import('fable')} pFable\n\t * @param {Record<string, any>} [pOptions]\n\t * @param {string} [pServiceHash]\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tlet tmpCarryOverConfiguration = (typeof(pFable.settings.PictApplicationConfiguration) === 'object') ? pFable.settings.PictApplicationConfiguration : {};\n\t\tlet tmpOptions = Object.assign({}, JSON.parse(JSON.stringify(defaultPictSettings)), tmpCarryOverConfiguration, pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\n\t\t/** @type {any} */\n\t\tthis.options;\n\t\t/** @type {any} */\n\t\tthis.log;\n\t\t/** @type {import('pict') & import('fable')} */\n\t\tthis.fable;\n\t\t/** @type {string} */\n\t\tthis.UUID;\n\t\t/** @type {string} */\n\t\tthis.Hash;\n\t\t/**\n\t\t * @type {{ [key: string]: any }}\n\t\t */\n\t\tthis.servicesMap;\n\n\t\tthis.serviceType = 'PictApplication';\n\t\t/** @type {Record<string, any>} */\n\t\tthis._Package = libPackage;\n\n\t\t// Convenience and consistency naming\n\t\tthis.pict = this.fable;\n\t\t// Wire in the essential Pict state\n\t\t/** @type {Record<string, any>} */\n\t\tthis.AppData = this.fable.AppData;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.Bundle = this.fable.Bundle;\n\n\t\t/** @type {number} */\n\t\tthis.initializeTimestamp;\n\t\t/** @type {number} */\n\t\tthis.lastSolvedTimestamp;\n\t\t/** @type {number} */\n\t\tthis.lastLoginTimestamp;\n\t\t/** @type {number} */\n\t\tthis.lastMarshalFromViewsTimestamp;\n\t\t/** @type {number} */\n\t\tthis.lastMarshalToViewsTimestamp;\n\t\t/** @type {number} */\n\t\tthis.lastAutoRenderTimestamp;\n\t\t/** @type {number} */\n\t\tthis.lastLoadDataTimestamp;\n\n\t\t// Load all the manifests for the application\n\t\tlet tmpManifestKeys = Object.keys(this.options.Manifests);\n\t\tif (tmpManifestKeys.length > 0)\n\t\t{\n\t\t\tfor (let i = 0; i < tmpManifestKeys.length; i++)\n\t\t\t{\n\t\t\t\t// Load each manifest\n\t\t\t\tlet tmpManifestKey = tmpManifestKeys[i];\n\t\t\t\tthis.fable.instantiateServiceProvider('Manifest', this.options.Manifests[tmpManifestKey], tmpManifestKey);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Solve All Views                          */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * @return {boolean}\n\t */\n\tonPreSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onPreSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonPreSolveAsync(fCallback)\n\t{\n\t\tthis.onPreSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonBeforeSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeSolveAsync(fCallback)\n\t{\n\t\tthis.onBeforeSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonSolveAsync(fCallback)\n\t{\n\t\tthis.onSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tsolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} executing solve() function...`)\n\t\t}\n\n\t\t// Walk through any loaded providers and solve them as well.\n\t\tlet tmpLoadedProviders = Object.keys(this.pict.providers);\n\t\tlet tmpProvidersToSolve = [];\n\t\tfor (let i = 0; i < tmpLoadedProviders.length; i++)\n\t\t{\n\t\t\tlet tmpProvider = this.pict.providers[tmpLoadedProviders[i]];\n\t\t\tif (tmpProvider.options.AutoSolveWithApp)\n\t\t\t{\n\t\t\t\ttmpProvidersToSolve.push(tmpProvider);\n\t\t\t}\n\t\t}\n\t\t// Sort the providers by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\ttmpProvidersToSolve.sort((a, b) => { return a.options.AutoSolveOrdinal - b.options.AutoSolveOrdinal; });\n\t\tfor (let i = 0; i < tmpProvidersToSolve.length; i++)\n\t\t{\n\t\t\ttmpProvidersToSolve[i].solve(tmpProvidersToSolve[i]);\n\t\t}\n\n\t\tthis.onBeforeSolve();\n\t\t// Now walk through any loaded views and initialize them as well.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\tlet tmpViewsToSolve = [];\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\tif (tmpView.options.AutoInitialize)\n\t\t\t{\n\t\t\t\ttmpViewsToSolve.push(tmpView);\n\t\t\t}\n\t\t}\n\t\t// Sort the views by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\ttmpViewsToSolve.sort((a, b) => { return a.options.AutoInitializeOrdinal - b.options.AutoInitializeOrdinal; });\n\t\tfor (let i = 0; i < tmpViewsToSolve.length; i++)\n\t\t{\n\t\t\ttmpViewsToSolve[i].solve();\n\t\t}\n\t\tthis.onSolve();\n\t\tthis.onAfterSolve();\n\t\tthis.lastSolvedTimestamp = this.fable.log.getTimeStamp();\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tsolveAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\ttmpAnticipate.anticipate(this.onBeforeSolveAsync.bind(this));\n\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : false;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync Auto Callback Error: ${pError}`, pError)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\t\t// Walk through any loaded providers and solve them as well.\n\t\tlet tmpLoadedProviders = Object.keys(this.pict.providers);\n\t\tlet tmpProvidersToSolve = [];\n\t\tfor (let i = 0; i < tmpLoadedProviders.length; i++)\n\t\t{\n\t\t\tlet tmpProvider = this.pict.providers[tmpLoadedProviders[i]];\n\t\t\tif (tmpProvider.options.AutoSolveWithApp)\n\t\t\t{\n\t\t\t\ttmpProvidersToSolve.push(tmpProvider);\n\t\t\t}\n\t\t}\n\t\t// Sort the providers by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\ttmpProvidersToSolve.sort((a, b) => { return a.options.AutoSolveOrdinal - b.options.AutoSolveOrdinal; });\n\t\tfor (let i = 0; i < tmpProvidersToSolve.length; i++)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvidersToSolve[i].solveAsync.bind(tmpProvidersToSolve[i]));\n\t\t}\n\n\t\t// Walk through any loaded views and solve them as well.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\tlet tmpViewsToSolve = [];\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\tif (tmpView.options.AutoSolveWithApp)\n\t\t\t{\n\t\t\t\ttmpViewsToSolve.push(tmpView);\n\t\t\t}\n\t\t}\n\t\t// Sort the views by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\ttmpViewsToSolve.sort((a, b) => { return a.options.AutoSolveOrdinal - b.options.AutoSolveOrdinal; });\n\t\tfor (let i = 0; i < tmpViewsToSolve.length; i++)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpViewsToSolve[i].solveAsync.bind(tmpViewsToSolve[i]));\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onSolveAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterSolveAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastSolvedTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonAfterSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterSolveAsync(fCallback)\n\t{\n\t\tthis.onAfterSolve();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Application Login                        */\n\t/* -------------------------------------------------------------------------- */\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeLoginAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeLoginAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonLoginAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onLoginAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tloginAsync(fCallback)\n\t{\n\t\tconst tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\tlet tmpCallback = fCallback;\n\n\t\tif (typeof(tmpCallback) !== 'function')\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} loginAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} loginAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeLoginAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onLoginAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterLoginAsync.bind(this));\n\n\t\t// check and see if we should automatically trigger a data load\n\t\tif (this.options.AutoLoadDataAfterLogin)\n\t\t{\n\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t{\n\t\t\t\tif (!this.isLoggedIn())\n\t\t\t\t{\n\t\t\t\t\treturn fNext();\n\t\t\t\t}\n\t\t\t\tif (this.pict.LogNoisiness > 1)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} auto loading data after login...`);\n\t\t\t\t}\n\t\t\t\t//TODO: should data load errors funnel here? this creates a weird coupling between login and data load callbacks\n\t\t\t\tthis.loadDataAsync((pError) =>\n\t\t\t\t{\n\t\t\t\t\tfNext(pError);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} loginAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastLoginTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Check if the application state is logged in. Defaults to true. Override this method in your application based on login requirements.\n\t *\n\t * @return {boolean}\n\t */\n\tisLoggedIn()\n\t{\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterLoginAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterLoginAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Application LoadData                     */\n\t/* -------------------------------------------------------------------------- */\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeLoadDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeLoadDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonLoadDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onLoadDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tloadDataAsync(fCallback)\n\t{\n\t\tconst tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\tlet tmpCallback = fCallback;\n\n\t\tif (typeof(tmpCallback) !== 'function')\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} loadDataAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} loadDataAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeLoadDataAsync.bind(this));\n\n\t\t// Walk through any loaded providers and load their data as well.\n\t\tlet tmpLoadedProviders = Object.keys(this.pict.providers);\n\t\tlet tmpProvidersToLoadData = [];\n\t\tfor (let i = 0; i < tmpLoadedProviders.length; i++)\n\t\t{\n\t\t\tlet tmpProvider = this.pict.providers[tmpLoadedProviders[i]];\n\t\t\tif (tmpProvider.options.AutoLoadDataWithApp)\n\t\t\t{\n\t\t\t\ttmpProvidersToLoadData.push(tmpProvider);\n\t\t\t}\n\t\t}\n\t\t// Sort the providers by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\ttmpProvidersToLoadData.sort((a, b) => { return a.options.AutoLoadDataOrdinal - b.options.AutoLoadDataOrdinal; });\n\n\t\tfor (const tmpProvider of tmpProvidersToLoadData)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvider.onBeforeLoadDataAsync.bind(tmpProvider));\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onLoadDataAsync.bind(this));\n\n\t\t//TODO: think about ways to parallelize these\n\t\tfor (const tmpProvider of tmpProvidersToLoadData)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvider.onLoadDataAsync.bind(tmpProvider));\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onAfterLoadDataAsync.bind(this));\n\n\t\tfor (const tmpProvider of tmpProvidersToLoadData)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvider.onAfterLoadDataAsync.bind(tmpProvider));\n\t\t}\n\n\t\ttmpAnticipate.wait(\n\t\t\t/** @param {Error} [pError] */\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} loadDataAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastLoadDataTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterLoadDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterLoadDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Application SaveData                     */\n\t/* -------------------------------------------------------------------------- */\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeSaveDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeSaveDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonSaveDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onSaveDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tsaveDataAsync(fCallback)\n\t{\n\t\tconst tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\tlet tmpCallback = fCallback;\n\n\t\tif (typeof(tmpCallback) !== 'function')\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} saveDataAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} saveDataAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeSaveDataAsync.bind(this));\n\n\t\t// Walk through any loaded providers and load their data as well.\n\t\tlet tmpLoadedProviders = Object.keys(this.pict.providers);\n\t\tlet tmpProvidersToSaveData = [];\n\t\tfor (let i = 0; i < tmpLoadedProviders.length; i++)\n\t\t{\n\t\t\tlet tmpProvider = this.pict.providers[tmpLoadedProviders[i]];\n\t\t\tif (tmpProvider.options.AutoSaveDataWithApp)\n\t\t\t{\n\t\t\t\ttmpProvidersToSaveData.push(tmpProvider);\n\t\t\t}\n\t\t}\n\t\t// Sort the providers by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\ttmpProvidersToSaveData.sort((a, b) => { return a.options.AutoSaveDataOrdinal - b.options.AutoSaveDataOrdinal; });\n\n\t\tfor (const tmpProvider of tmpProvidersToSaveData)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvider.onBeforeSaveDataAsync.bind(tmpProvider));\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onSaveDataAsync.bind(this));\n\n\t\t//TODO: think about ways to parallelize these\n\t\tfor (const tmpProvider of tmpProvidersToSaveData)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvider.onSaveDataAsync.bind(tmpProvider));\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onAfterSaveDataAsync.bind(this));\n\n\t\tfor (const tmpProvider of tmpProvidersToSaveData)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpProvider.onAfterSaveDataAsync.bind(tmpProvider));\n\t\t}\n\n\t\ttmpAnticipate.wait(\n\t\t\t/** @param {Error} [pError] */\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} saveDataAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastSaveDataTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterSaveDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterSaveDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Initialize Application                   */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * @return {boolean}\n\t */\n\tonBeforeInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeInitializeAsync(fCallback)\n\t{\n\t\tthis.onBeforeInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonInitializeAsync(fCallback)\n\t{\n\t\tthis.onInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tinitialize()\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow APPLICATION [${this.UUID}]::[${this.Hash}] ${this.options.Name} initialize:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tthis.onBeforeInitialize();\n\n\t\t\tif ('ConfigurationOnlyViews' in this.options)\n\t\t\t{\n\t\t\t\t// Load all the configuration only views\n\t\t\t\tfor (let i = 0; i < this.options.ConfigurationOnlyViews.length; i++)\n\t\t\t\t{\n\t\t\t\t\tlet tmpViewIdentifier = (typeof(this.options.ConfigurationOnlyViews[i].ViewIdentifier) === 'undefined') ? `AutoView-${this.fable.getUUID()}`\n\t\t\t\t\t\t\t\t\t\t\t: this.options.ConfigurationOnlyViews[i].ViewIdentifier;\n\t\t\t\t\tthis.log.info(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} adding configuration only view: ${tmpViewIdentifier}`);\n\t\t\t\t\tthis.pict.addView(tmpViewIdentifier, this.options.ConfigurationOnlyViews[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.onInitialize();\n\n\t\t\t// Walk through any loaded providers and initialize them as well.\n\t\t\tlet tmpLoadedProviders = Object.keys(this.pict.providers);\n\t\t\tlet tmpProvidersToInitialize = [];\n\t\t\tfor (let i = 0; i < tmpLoadedProviders.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpProvider = this.pict.providers[tmpLoadedProviders[i]];\n\t\t\t\tif (tmpProvider.options.AutoInitialize)\n\t\t\t\t{\n\t\t\t\t\ttmpProvidersToInitialize.push(tmpProvider);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Sort the providers by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\t\ttmpProvidersToInitialize.sort((a, b) => { return a.options.AutoInitializeOrdinal - b.options.AutoInitializeOrdinal; });\n\t\t\tfor (let i = 0; i < tmpProvidersToInitialize.length; i++)\n\t\t\t{\n\t\t\t\ttmpProvidersToInitialize[i].initialize();\n\t\t\t}\n\n\t\t\t// Now walk through any loaded views and initialize them as well.\n\t\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\t\tlet tmpViewsToInitialize = [];\n\t\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\t\tif (tmpView.options.AutoInitialize)\n\t\t\t\t{\n\t\t\t\t\ttmpViewsToInitialize.push(tmpView);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Sort the views by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\t\ttmpViewsToInitialize.sort((a, b) => { return a.options.AutoInitializeOrdinal - b.options.AutoInitializeOrdinal; });\n\t\t\tfor (let i = 0; i < tmpViewsToInitialize.length; i++)\n\t\t\t{\n\t\t\t\ttmpViewsToInitialize[i].initialize();\n\t\t\t}\n\n\t\t\tthis.onAfterInitialize();\n\t\t\tif (this.options.AutoSolveAfterInitialize)\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 1)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} auto solving after initialization...`);\n\t\t\t\t}\n\t\t\t\t// Solve the template synchronously\n\t\t\t\tthis.solve();\n\t\t\t}\n\t\t\t// Now check and see if we should automatically render as well\n\t\t\tif (this.options.AutoRenderMainViewportViewAfterInitialize)\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 1)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} auto rendering after initialization...`);\n\t\t\t\t}\n\t\t\t\t// Render the template synchronously\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t\tthis.initializeTimestamp = this.fable.log.getTimeStamp();\n\t\t\tthis.onCompletionOfInitialize();\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} initialize called but initialization is already completed.  Aborting.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tinitializeAsync(fCallback)\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow APPLICATION [${this.UUID}]::[${this.Hash}] ${this.options.Name} initializeAsync:`);\n\t\t}\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : false;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} initializeAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} initializeAsync Auto Callback Error: ${pError}`, pError)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tlet tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t\tif (this.pict.LogNoisiness > 3)\n\t\t\t{\n\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} beginning initialization...`);\n\t\t\t}\n\n\t\t\tif ('ConfigurationOnlyViews' in this.options)\n\t\t\t{\n\t\t\t\t// Load all the configuration only views\n\t\t\t\tfor (let i = 0; i < this.options.ConfigurationOnlyViews.length; i++)\n\t\t\t\t{\n\t\t\t\t\tlet tmpViewIdentifier = (typeof(this.options.ConfigurationOnlyViews[i].ViewIdentifier) === 'undefined') ? `AutoView-${this.fable.getUUID()}`\n\t\t\t\t\t\t\t\t\t\t\t: this.options.ConfigurationOnlyViews[i].ViewIdentifier;\n\t\t\t\t\tthis.log.info(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} adding configuration only view: ${tmpViewIdentifier}`);\n\t\t\t\t\tthis.pict.addView(tmpViewIdentifier, this.options.ConfigurationOnlyViews[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttmpAnticipate.anticipate(this.onBeforeInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onInitializeAsync.bind(this));\n\n\t\t\t// Walk through any loaded providers and solve them as well.\n\t\t\tlet tmpLoadedProviders = Object.keys(this.pict.providers);\n\t\t\tlet tmpProvidersToInitialize = [];\n\t\t\tfor (let i = 0; i < tmpLoadedProviders.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpProvider = this.pict.providers[tmpLoadedProviders[i]];\n\t\t\t\tif (tmpProvider.options.AutoInitialize)\n\t\t\t\t{\n\t\t\t\t\ttmpProvidersToInitialize.push(tmpProvider);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Sort the providers by their priority (if they are all priority 0, it will end up being add order due to JSON Object Property Key order stuff)\n\t\t\ttmpProvidersToInitialize.sort((a, b) => { return a.options.AutoInitializeOrdinal - b.options.AutoInitializeOrdinal; });\n\t\t\tfor (let i = 0; i < tmpProvidersToInitialize.length; i++)\n\t\t\t{\n\t\t\t\ttmpAnticipate.anticipate(tmpProvidersToInitialize[i].initializeAsync.bind(tmpProvidersToInitialize[i]));\n\t\t\t}\n\n\t\t\t// Now walk through any loaded views and initialize them as well.\n\t\t\t// TODO: Some optimization cleverness could be gained by grouping them into a parallelized async operation, by ordinal.\n\t\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\t\tlet tmpViewsToInitialize = [];\n\t\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\t\tif (tmpView.options.AutoInitialize)\n\t\t\t\t{\n\t\t\t\t\ttmpViewsToInitialize.push(tmpView);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Sort the views by their priority\n\t\t\t// If they are all the default priority 0, it will end up being add order due to JSON Object Property Key order stuff\n\t\t\ttmpViewsToInitialize.sort((a, b) => { return a.options.AutoInitializeOrdinal - b.options.AutoInitializeOrdinal; });\n\t\t\tfor (let i = 0; i < tmpViewsToInitialize.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpView = tmpViewsToInitialize[i];\n\t\t\t\ttmpAnticipate.anticipate(tmpView.initializeAsync.bind(tmpView));\n\t\t\t}\n\n\t\t\ttmpAnticipate.anticipate(this.onAfterInitializeAsync.bind(this));\n\n\t\t\tif (this.options.AutoLoginAfterInitialize)\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 1)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} auto login (asynchronously) after initialization...`);\n\t\t\t\t}\n\t\t\t\ttmpAnticipate.anticipate(this.loginAsync.bind(this));\n\t\t\t}\n\n\t\t\tif (this.options.AutoSolveAfterInitialize)\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 1)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} auto solving (asynchronously) after initialization...`);\n\t\t\t\t}\n\t\t\t\ttmpAnticipate.anticipate(this.solveAsync.bind(this));\n\t\t\t}\n\n\t\t\tif (this.options.AutoRenderMainViewportViewAfterInitialize)\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 1)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} auto rendering (asynchronously) after initialization...`);\n\t\t\t\t}\n\t\t\t\ttmpAnticipate.anticipate(this.renderMainViewportAsync.bind(this));\n\t\t\t}\n\n\t\t\ttmpAnticipate.wait(\n\t\t\t\t(pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} initializeAsync Error: ${pError.message || pError}`, { stack: pError.stack });\n\t\t\t\t\t}\n\t\t\t\t\tthis.initializeTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} initialization complete.`);\n\t\t\t\t\t}\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} async initialize called but initialization is already completed.  Aborting.`);\n\t\t\t// TODO: Should this be an error?\n\t\t\treturn this.onCompletionOfInitializeAsync(tmpCallback);\n\t\t}\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonAfterInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterInitializeAsync(fCallback)\n\t{\n\t\tthis.onAfterInitialize();\n\t\treturn fCallback();\n\t}\n\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonCompletionOfInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onCompletionOfInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonCompletionOfInitializeAsync(fCallback)\n\t{\n\t\tthis.onCompletionOfInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Marshal Data From All Views              */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * @return {boolean}\n\t */\n\tonBeforeMarshalFromViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeMarshalFromViews:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeMarshalFromViewsAsync(fCallback)\n\t{\n\t\tthis.onBeforeMarshalFromViews();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonMarshalFromViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onMarshalFromViews:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonMarshalFromViewsAsync(fCallback)\n\t{\n\t\tthis.onMarshalFromViews();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tmarshalFromViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} executing marshalFromViews() function...`)\n\t\t}\n\t\tthis.onBeforeMarshalFromViews();\n\t\t// Now walk through any loaded views and initialize them as well.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\tlet tmpViewsToMarshalFromViews = [];\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\ttmpViewsToMarshalFromViews.push(tmpView);\n\t\t}\n\t\tfor (let i = 0; i < tmpViewsToMarshalFromViews.length; i++)\n\t\t{\n\t\t\ttmpViewsToMarshalFromViews[i].marshalFromView();\n\t\t}\n\t\tthis.onMarshalFromViews();\n\t\tthis.onAfterMarshalFromViews();\n\t\tthis.lastMarshalFromViewsTimestamp = this.fable.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tmarshalFromViewsAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : false;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewsAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewsAsync Auto Callback Error: ${pError}`, pError)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeMarshalFromViewsAsync.bind(this));\n\t\t// Walk through any loaded views and marshalFromViews them as well.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\tlet tmpViewsToMarshalFromViews = [];\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\ttmpViewsToMarshalFromViews.push(tmpView);\n\t\t}\n\t\tfor (let i = 0; i < tmpViewsToMarshalFromViews.length; i++)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpViewsToMarshalFromViews[i].marshalFromViewAsync.bind(tmpViewsToMarshalFromViews[i]));\n\t\t}\n\t\ttmpAnticipate.anticipate(this.onMarshalFromViewsAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterMarshalFromViewsAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewsAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastMarshalFromViewsTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonAfterMarshalFromViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterMarshalFromViews:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterMarshalFromViewsAsync(fCallback)\n\t{\n\t\tthis.onAfterMarshalFromViews();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Marshal Data To All Views                */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * @return {boolean}\n\t */\n\tonBeforeMarshalToViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeMarshalToViews:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeMarshalToViewsAsync(fCallback)\n\t{\n\t\tthis.onBeforeMarshalToViews();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonMarshalToViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onMarshalToViews:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonMarshalToViewsAsync(fCallback)\n\t{\n\t\tthis.onMarshalToViews();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tmarshalToViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} executing marshalToViews() function...`)\n\t\t}\n\t\tthis.onBeforeMarshalToViews();\n\t\t// Now walk through any loaded views and initialize them as well.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\tlet tmpViewsToMarshalToViews = [];\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\ttmpViewsToMarshalToViews.push(tmpView);\n\t\t}\n\t\tfor (let i = 0; i < tmpViewsToMarshalToViews.length; i++)\n\t\t{\n\t\t\ttmpViewsToMarshalToViews[i].marshalToView();\n\t\t}\n\t\tthis.onMarshalToViews();\n\t\tthis.onAfterMarshalToViews();\n\t\tthis.lastMarshalToViewsTimestamp = this.fable.log.getTimeStamp();\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tmarshalToViewsAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : false;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewsAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewsAsync Auto Callback Error: ${pError}`, pError)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeMarshalToViewsAsync.bind(this));\n\t\t// Walk through any loaded views and marshalToViews them as well.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\tlet tmpViewsToMarshalToViews = [];\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\ttmpViewsToMarshalToViews.push(tmpView);\n\t\t}\n\t\tfor (let i = 0; i < tmpViewsToMarshalToViews.length; i++)\n\t\t{\n\t\t\ttmpAnticipate.anticipate(tmpViewsToMarshalToViews[i].marshalToViewAsync.bind(tmpViewsToMarshalToViews[i]));\n\t\t}\n\t\ttmpAnticipate.anticipate(this.onMarshalToViewsAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterMarshalToViewsAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewsAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastMarshalToViewsTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonAfterMarshalToViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterMarshalToViews:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterMarshalToViewsAsync(fCallback)\n\t{\n\t\tthis.onAfterMarshalToViews();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Render View                              */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * @return {boolean}\n\t */\n\tonBeforeRender()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onBeforeRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonBeforeRenderAsync(fCallback)\n\t{\n\t\tthis.onBeforeRender();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {string} [pViewIdentifier] - The hash of the view to render. By default, the main viewport view is rendered.\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string} [pTemplateDataAddress] - The address where the data for the template is stored.\n\t *\n\t * TODO: Should we support objects for pTemplateDataAddress for parity with pict-view?\n\t */\n\trender(pViewIdentifier, pRenderableHash, pRenderDestinationAddress, pTemplateDataAddress)\n\t{\n\t\tlet tmpViewIdentifier = (typeof(pViewIdentifier) !== 'string') ? this.options.MainViewportViewIdentifier : pViewIdentifier;\n\t\tlet tmpRenderableHash = (typeof(pRenderableHash) !== 'string') ? this.options.MainViewportRenderableHash : pRenderableHash;\n\t\tlet tmpRenderDestinationAddress = (typeof(pRenderDestinationAddress) !== 'string') ? this.options.MainViewportDestinationAddress : pRenderDestinationAddress;\n\t\tlet tmpTemplateDataAddress = (typeof(pTemplateDataAddress) !== 'string') ? this.options.MainViewportDefaultDataAddress : pTemplateDataAddress;\n\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow APPLICATION [${this.UUID}]::[${this.Hash}] ${this.options.Name} VIEW Renderable[${tmpRenderableHash}] Destination[${tmpRenderDestinationAddress}] TemplateDataAddress[${tmpTemplateDataAddress}] render:`);\n\t\t}\n\n\t\tthis.onBeforeRender();\n\n\t\t// Now get the view (by hash) from the loaded views\n\t\tlet tmpView = (typeof (tmpViewIdentifier) === 'string') ? this.servicesMap.PictView[tmpViewIdentifier] : false;\n\t\tif (!tmpView)\n\t\t{\n\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} could not render from View ${tmpViewIdentifier} because it is not a valid view.`);\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.onRender();\n\n\t\ttmpView.render(tmpRenderableHash, tmpRenderDestinationAddress, tmpTemplateDataAddress);\n\n\t\tthis.onAfterRender();\n\n\t\treturn true;\n\t}\n\t/**\n\t * @return {boolean}\n\t */\n\tonRender()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonRenderAsync(fCallback)\n\t{\n\t\tthis.onRender();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {string|((error?: Error) => void)} pViewIdentifier - The hash of the view to render. By default, the main viewport view is rendered. (or the callback)\n\t * @param {string|((error?: Error) => void)} [pRenderableHash] - The hash of the renderable to render. (or the callback)\n\t * @param {string|((error?: Error) => void)} [pRenderDestinationAddress] - The address where the renderable will be rendered. (or the callback)\n\t * @param {string|((error?: Error) => void)} [pTemplateDataAddress] - The address where the data for the template is stored. (or the callback)\n\t * @param {(error?: Error) => void} [fCallback] - The callback, if all other parameters are provided.\n\t *\n\t * TODO: Should we support objects for pTemplateDataAddress for parity with pict-view?\n\t */\n\trenderAsync(pViewIdentifier, pRenderableHash, pRenderDestinationAddress, pTemplateDataAddress, fCallback)\n\t{\n\t\tlet tmpViewIdentifier = (typeof(pViewIdentifier) !== 'string') ? this.options.MainViewportViewIdentifier : pViewIdentifier;\n\t\tlet tmpRenderableHash = (typeof(pRenderableHash) !== 'string') ? this.options.MainViewportRenderableHash : pRenderableHash;\n\t\tlet tmpRenderDestinationAddress = (typeof(pRenderDestinationAddress) !== 'string') ? this.options.MainViewportDestinationAddress : pRenderDestinationAddress;\n\t\tlet tmpTemplateDataAddress = (typeof(pTemplateDataAddress) !== 'string') ? this.options.MainViewportDefaultDataAddress : pTemplateDataAddress;\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback :\n\t\t\t\t\t\t\t(typeof(pTemplateDataAddress) === 'function') ? pTemplateDataAddress :\n\t\t\t\t\t\t\t(typeof(pRenderDestinationAddress) === 'function') ? pRenderDestinationAddress :\n\t\t\t\t\t\t\t(typeof(pRenderableHash) === 'function') ? pRenderableHash :\n\t\t\t\t\t\t\t(typeof(pViewIdentifier) === 'function') ? pViewIdentifier :\n\t\t\t\t\t\t\tfalse;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAsync Auto Callback Error: ${pError}`, pError)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow APPLICATION [${this.UUID}]::[${this.Hash}] ${this.options.Name} VIEW Renderable[${tmpRenderableHash}] Destination[${tmpRenderDestinationAddress}] TemplateDataAddress[${tmpTemplateDataAddress}] renderAsync:`);\n\t\t}\n\n\t\tlet tmpRenderAnticipate = this.fable.newAnticipate();\n\n\t\ttmpRenderAnticipate.anticipate(this.onBeforeRenderAsync.bind(this));\n\n\t\tlet tmpView = (typeof (tmpViewIdentifier) === 'string') ? this.servicesMap.PictView[tmpViewIdentifier] : false;\n\t\tif (!tmpView)\n\t\t{\n\t\t\tlet tmpErrorMessage = `PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} could not asynchronously render from View ${tmpViewIdentifier} because it is not a valid view.`;\n\t\t\tif (this.pict.LogNoisiness > 3)\n\t\t\t{\n\t\t\t\tthis.log.error(tmpErrorMessage);\n\t\t\t}\n\t\t\treturn tmpCallback(new Error(tmpErrorMessage));\n\t\t}\n\n\t\ttmpRenderAnticipate.anticipate(this.onRenderAsync.bind(this));\n\n\t\ttmpRenderAnticipate.anticipate(\n\t\t\t(fNext) =>\n\t\t\t{\n\t\t\t\ttmpView.renderAsync.call(tmpView, tmpRenderableHash, tmpRenderDestinationAddress, tmpTemplateDataAddress, fNext);\n\t\t\t});\n\n\t\ttmpRenderAnticipate.anticipate(this.onAfterRenderAsync.bind(this));\n\n\t\treturn tmpRenderAnticipate.wait(tmpCallback);\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tonAfterRender()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} onAfterRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\tonAfterRenderAsync(fCallback)\n\t{\n\t\tthis.onAfterRender();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\trenderMainViewport()\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow APPLICATION [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderMainViewport:`);\n\t\t}\n\n\t\treturn this.render();\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\trenderMainViewportAsync(fCallback)\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow APPLICATION [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderMainViewportAsync:`);\n\t\t}\n\n\t\treturn this.renderAsync(fCallback);\n\t}\n\t/**\n\t * @return {void}\n\t */\n\trenderAutoViews()\n\t{\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} beginning renderAutoViews...`);\n\t\t}\n\t\t// Now walk through any loaded views and sort them by the AutoRender ordinal\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\t// Sort the views by their priority\n\t\t// If they are all the default priority 0, it will end up being add order due to JSON Object Property Key order stuff\n\t\ttmpLoadedViews.sort((a, b) =>\n\t\t{\n\t\t\treturn this.pict.views[a].options.AutoRenderOrdinal - this.pict.views[b].options.AutoRenderOrdinal;\n\t\t});\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\tif (tmpView.options.AutoRender)\n\t\t\t{\n\t\t\t\ttmpView.render();\n\t\t\t}\n\t\t}\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAutoViewsAsync complete.`);\n\t\t}\n\t}\n\t/**\n\t * @param {(error?: Error) => void} fCallback\n\t */\n\trenderAutoViewsAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.fable.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback :\n\t\t\t\t\t\t\tfalse;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAutoViewsAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAutoViewsAsync Auto Callback Error: ${pError}`, pError)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} beginning renderAutoViewsAsync...`);\n\t\t}\n\n\t\t// Now walk through any loaded views and sort them by the AutoRender ordinal\n\t\t// TODO: Some optimization cleverness could be gained by grouping them into a parallelized async operation, by ordinal.\n\t\tlet tmpLoadedViews = Object.keys(this.pict.views);\n\t\t// Sort the views by their priority\n\t\t// If they are all the default priority 0, it will end up being add order due to JSON Object Property Key order stuff\n\t\ttmpLoadedViews.sort((a, b) =>\n\t\t{\n\t\t\treturn this.pict.views[a].options.AutoRenderOrdinal - this.pict.views[b].options.AutoRenderOrdinal;\n\t\t});\n\t\tfor (let i = 0; i < tmpLoadedViews.length; i++)\n\t\t{\n\t\t\tlet tmpView = this.pict.views[tmpLoadedViews[i]];\n\t\t\tif (tmpView.options.AutoRender)\n\t\t\t{\n\t\t\t\ttmpAnticipate.anticipate(tmpView.renderAsync.bind(tmpView));\n\t\t\t}\n\t\t}\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tthis.lastAutoRenderTimestamp = this.fable.log.getTimeStamp();\n\t\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictApp [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAutoViewsAsync complete.`);\n\t\t\t\t}\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tget isPictApplication()\n\t{\n\t\treturn true;\n\t}\n}\n\nmodule.exports = PictApplication;\n","module.exports={\n    \"name\": \"pict-provider\",\n    \"version\": \"1.0.7\",\n    \"description\": \"Pict Provider Base Class\",\n    \"main\": \"source/Pict-Provider.js\",\n    \"scripts\": {\n        \"start\": \"node source/Pict-Provider.js\",\n        \"test\": \"npx mocha -u tdd -R spec\",\n        \"tests\": \"npx mocha -u tdd --exit -R spec --grep\",\n        \"coverage\": \"npx nyc --reporter=lcov --reporter=text-lcov npx mocha -- -u tdd -R spec\",\n        \"build\": \"npx quack build\",\n        \"docker-dev-build\": \"docker build ./ -f Dockerfile_LUXURYCode -t pict-provider-image:local\",\n        \"docker-dev-run\": \"docker run -it -d --name pict-provider-dev -p 24125:8080 -p 30027:8086 -v \\\"$PWD/.config:/home/coder/.config\\\"  -v \\\"$PWD:/home/coder/pict-provider\\\" -u \\\"$(id -u):$(id -g)\\\" -e \\\"DOCKER_USER=$USER\\\" pict-provider-image:local\",\n        \"docker-dev-shell\": \"docker exec -it pict-provider-dev /bin/bash\",\n        \"lint\": \"eslint source/**\",\n        \"types\": \"tsc -p .\"\n    },\n    \"types\": \"types/source/Pict-Provider.d.ts\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"git+https://github.com/stevenvelozo/pict-provider.git\"\n    },\n    \"author\": \"steven velozo <steven@velozo.com>\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/pict-provider/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/pict-provider#readme\",\n    \"devDependencies\": {\n        \"@eslint/js\": \"^9.39.1\",\n        \"eslint\": \"^9.39.1\",\n        \"pict\": \"^1.0.342\",\n        \"quackage\": \"^1.0.45\",\n        \"typescript\": \"^5.9.3\"\n    },\n    \"dependencies\": {\n        \"fable-serviceproviderbase\": \"^3.0.15\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    }\n}\n","const libFableServiceBase = require('fable-serviceproviderbase');\n\nconst libPackage = require('../package.json');\n\nconst defaultPictProviderSettings = (\n\t{\n\t\tProviderIdentifier: false,\n\n\t\t// If this is set to true, when the App initializes this will.\n\t\t// After the App initializes, initialize will be called as soon as it's added.\n\t\tAutoInitialize: true,\n\t\tAutoInitializeOrdinal: 0,\n\n\t\tAutoLoadDataWithApp: true,\n\n\t\tAutoSolveWithApp: true,\n\t\tAutoSolveOrdinal: 0,\n\n\t\tManifests: {},\n\n\t\tTemplates: []\n\t});\n\nclass PictProvider extends libFableServiceBase\n{\n\t/**\n\t * @param {import('fable')} pFable - The Fable instance.\n\t * @param {Record<string, any>} [pOptions] - The options for the provider.\n\t * @param {string} [pServiceHash] - The service hash for the provider.\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\t// Intersect default options, parent constructor, service information\n\t\tlet tmpOptions = Object.assign({}, JSON.parse(JSON.stringify(defaultPictProviderSettings)), pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\n\t\t/** @type {import('fable') & import('pict') & { instantiateServiceProviderWithoutRegistration(pServiceType: string, pOptions?: Record<string, any>, pCustomServiceHash?: string): any }} */\n\t\tthis.fable;\n\t\t/** @type {import('fable') & import('pict') & { instantiateServiceProviderWithoutRegistration(pServiceType: string, pOptions?: Record<string, any>, pCustomServiceHash?: string): any }} */\n\t\tthis.pict;\n\t\t/** @type {any} */\n\t\tthis.log;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.options;\n\t\t/** @type {string} */\n\t\tthis.UUID;\n\t\t/** @type {string} */\n\t\tthis.Hash;\n\n\t\tif (!this.options.ProviderIdentifier)\n\t\t{\n\t\t\tthis.options.ProviderIdentifier = `AutoProviderID-${this.fable.getUUID()}`;\n\t\t}\n\n\t\tthis.serviceType = 'PictProvider';\n\t\t/** @type {Record<string, any>} */\n\t\tthis._Package = libPackage;\n\n\t\t// Convenience and consistency naming\n\t\tthis.pict = this.fable;\n\n\t\t// Wire in the essential Pict application state\n\t\t/** @type {Record<string, any>} */\n\t\tthis.AppData = this.pict.AppData;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.Bundle = this.pict.Bundle;\n\n\t\tthis.initializeTimestamp = false;\n\t\tthis.lastSolvedTimestamp = false;\n\n\t\tfor (let i = 0; i < this.options.Templates.length; i++)\n\t\t{\n\t\t\tlet tmpDefaultTemplate = this.options.Templates[i];\n\n\t\t\tif (!tmpDefaultTemplate.hasOwnProperty('Postfix') || !tmpDefaultTemplate.hasOwnProperty('Template'))\n\t\t\t{\n\t\t\t\tthis.log.error(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} could not load Default Template ${i} in the options array.`, tmpDefaultTemplate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!tmpDefaultTemplate.Source)\n\t\t\t\t{\n\t\t\t\t\ttmpDefaultTemplate.Source = `PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} options object.`;\n\t\t\t\t}\n\t\t\t\tthis.pict.TemplateProvider.addDefaultTemplate(tmpDefaultTemplate.Prefix, tmpDefaultTemplate.Postfix, tmpDefaultTemplate.Template, tmpDefaultTemplate.Source);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                        Code Section: Initialization                        */\n\t/* -------------------------------------------------------------------------- */\n\tonBeforeInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onBeforeInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after pre-pinitialization.\n\t *\n\t * @return {void}\n\t */\n\tonBeforeInitializeAsync(fCallback)\n\t{\n\t\tthis.onBeforeInitialize();\n\t\treturn fCallback();\n\t}\n\n\tonInitialize()\n\t{\n\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after initialization.\n\t *\n\t * @return {void}\n\t */\n\tonInitializeAsync(fCallback)\n\t{\n\t\tthis.onInitialize();\n\t\treturn fCallback();\n\t}\n\n\tinitialize()\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow PROVIDER [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialize:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tthis.onBeforeInitialize();\n\t\t\tthis.onInitialize();\n\t\t\tthis.onAfterInitialize();\n\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialize called but initialization is already completed.  Aborting.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after initialization.\n\t *\n\t * @return {void}\n\t */\n\tinitializeAsync(fCallback)\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow PROVIDER [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initializeAsync:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t{\n\t\t\t\tthis.log.info(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} beginning initialization...`);\n\t\t\t}\n\n\t\t\ttmpAnticipate.anticipate(this.onBeforeInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onAfterInitializeAsync.bind(this));\n\n\t\t\ttmpAnticipate.wait(\n\t\t\t\t(pError) =>\n\t\t\t\t{\n\t\t\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialization failed: ${pError.message || pError}`, { Stack: pError.stack });\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.pict.LogNoisiness > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.info(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialization complete.`);\n\t\t\t\t\t}\n\t\t\t\t\treturn fCallback();\n\t\t\t\t})\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} async initialize called but initialization is already completed.  Aborting.`);\n\t\t\t// TODO: Should this be an error?\n\t\t\treturn fCallback();\n\t\t}\n\t}\n\n\tonAfterInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onAfterInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after initialization.\n\t *\n\t * @return {void}\n\t */\n\tonAfterInitializeAsync(fCallback)\n\t{\n\t\tthis.onAfterInitialize();\n\t\treturn fCallback();\n\t}\n\n\tonPreRender()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onPreRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after pre-render.\n\t *\n\t * @return {void}\n\t */\n\tonPreRenderAsync(fCallback)\n\t{\n\t\tthis.onPreRender();\n\t\treturn fCallback();\n\t}\n\n\trender()\n\t{\n\t\treturn this.onPreRender();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after render.\n\t *\n\t * @return {void}\n\t */\n\trenderAsync(fCallback)\n\t{\n\t\tthis.onPreRender();\n\t\treturn fCallback();\n\t}\n\n\tonPreSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onPreSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after pre-solve.\n\t *\n\t * @return {void}\n\t */\n\tonPreSolveAsync(fCallback)\n\t{\n\t\tthis.onPreSolve();\n\t\treturn fCallback();\n\t}\n\n\tsolve()\n\t{\n\t\treturn this.onPreSolve();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after solve.\n\t *\n\t * @return {void}\n\t */\n\tsolveAsync(fCallback)\n\t{\n\t\tthis.onPreSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data pre-load.\n\t */\n\tonBeforeLoadDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Hook to allow the provider to load data during application data load.\n\t *\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data load.\n\t */\n\tonLoadDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onLoadDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data post-load.\n\t */\n\tonAfterLoadDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data pre-load.\n\t *\n\t * @return {void}\n\t */\n\tonBeforeSaveDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Hook to allow the provider to load data during application data load.\n\t *\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data load.\n\t *\n\t * @return {void}\n\t */\n\tonSaveDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onSaveDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data post-load.\n\t *\n\t * @return {void}\n\t */\n\tonAfterSaveDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n}\n\nmodule.exports = PictProvider;\n","module.exports={\n    \"name\": \"pict-view\",\n    \"version\": \"1.0.64\",\n    \"description\": \"Pict View Base Class\",\n    \"main\": \"source/Pict-View.js\",\n    \"scripts\": {\n        \"test\": \"mocha -u tdd -R spec\",\n        \"tests\": \"mocha -u tdd -R spec -g\",\n        \"start\": \"node source/Pict-View.js\",\n        \"coverage\": \"nyc --reporter=lcov --reporter=text-lcov npm test\",\n        \"build\": \"npx quack build\",\n        \"docker-dev-build\": \"docker build ./ -f Dockerfile_LUXURYCode -t pict-view-image:local\",\n        \"docker-dev-run\": \"docker run -it -d --name pict-view-dev -p 30001:8080 -p 38086:8086 -v \\\"$PWD/.config:/home/coder/.config\\\"  -v \\\"$PWD:/home/coder/pict-view\\\" -u \\\"$(id -u):$(id -g)\\\" -e \\\"DOCKER_USER=$USER\\\" pict-view-image:local\",\n        \"docker-dev-shell\": \"docker exec -it pict-view-dev /bin/bash\",\n        \"types\": \"tsc -p .\",\n        \"lint\": \"eslint source/**\"\n    },\n    \"types\": \"types/source/Pict-View.d.ts\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"git+https://github.com/stevenvelozo/pict-view.git\"\n    },\n    \"author\": \"steven velozo <steven@velozo.com>\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/pict-view/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/pict-view#readme\",\n    \"devDependencies\": {\n        \"@eslint/js\": \"^9.39.1\",\n        \"browser-env\": \"^3.3.0\",\n        \"eslint\": \"^9.39.1\",\n        \"pict\": \"^1.0.337\",\n        \"quackage\": \"^1.0.45\",\n        \"typescript\": \"^5.9.3\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    },\n    \"dependencies\": {\n        \"fable\": \"^3.1.46\",\n        \"fable-serviceproviderbase\": \"^3.0.15\"\n    }\n}\n","\nconst libFableServiceBase = require('fable-serviceproviderbase');\n\nconst libPackage = require('../package.json');\n\nconst defaultPictViewSettings = (\n\t{\n\t\tDefaultRenderable: false,\n\t\tDefaultDestinationAddress: false,\n\t\tDefaultTemplateRecordAddress: false,\n\n\t\tViewIdentifier: false,\n\n\t\t// If this is set to true, when the App initializes this will.\n\t\t// After the App initializes, initialize will be called as soon as it's added.\n\t\tAutoInitialize: true,\n\t\tAutoInitializeOrdinal: 0,\n\n\t\t// If this is set to true, when the App autorenders (on load) this will.\n\t\t// After the App initializes, render will be called as soon as it's added.\n\t\tAutoRender: true,\n\t\tAutoRenderOrdinal: 0,\n\n\t\tAutoSolveWithApp: true,\n\t\tAutoSolveOrdinal: 0,\n\n\t\tCSSHash: false,\n\t\tCSS: false,\n\t\tCSSProvider: false,\n\t\tCSSPriority: 500,\n\n\t\tTemplates: [],\n\n\t\tDefaultTemplates: [],\n\n\t\tRenderables: [],\n\n\t\tManifests: {}\n\t});\n\n/** @typedef {(error?: Error) => void} ErrorCallback */\n/** @typedef {number | boolean} PictTimestamp */\n\n/**\n * @typedef {'replace' | 'append' | 'prepend' | 'append_once' | 'virtual-assignment'} RenderMethod\n */\n/**\n * @typedef {Object} Renderable\n *\n * @property {string} RenderableHash - A unique hash for the renderable.\n * @property {string} TemplateHash - The hash of the template to use for rendering this renderable.\n * @property {string} [DefaultTemplateRecordAddress] - The default address for resolving the data record for this renderable.\n * @property {string} [ContentDestinationAddress] - The default address (DOM CSS selector) for rendering the content of this renderable.\n * @property {RenderMethod} [RenderMethod=replace] - The method to use when projecting the renderable to the DOM ('replace', 'append', 'prepend', 'append_once', 'virtual-assignment').\n * @property {string} [TestAddress] - The address to use for testing the renderable.\n * @property {string} [TransactionHash] - The transaction hash for the root renderable.\n * @property {string} [RootRenderableViewHash] - The hash of the root renderable.\n * @property {string} [Content] - The rendered content for this renderable, if applicable.\n */\n\n/**\n * Represents a view in the Pict ecosystem.\n */\nclass PictView extends libFableServiceBase\n{\n\t/**\n\t * @param {any} pFable - The Fable object that this service is attached to.\n\t * @param {any} [pOptions] - (optional) The options for this service.\n\t * @param {string} [pServiceHash] - (optional) The hash of the service.\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\t// Intersect default options, parent constructor, service information\n\t\tlet tmpOptions = Object.assign({}, JSON.parse(JSON.stringify(defaultPictViewSettings)), pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\t\t//FIXME: add types to fable and ancillaries\n\t\t/** @type {any} */\n\t\tthis.fable;\n\t\t/** @type {any} */\n\t\tthis.options;\n\t\t/** @type {String} */\n\t\tthis.UUID;\n\t\t/** @type {String} */\n\t\tthis.Hash;\n\t\t/** @type {any} */\n\t\tthis.log;\n\n\t\tconst tmpHashIsUUID = this.Hash === this.UUID;\n\t\t//NOTE: since many places are using the view UUID as the HTML element ID, we prefix it to avoid starting with a number\n\t\tthis.UUID = `V-${this.UUID}`;\n\t\tif (tmpHashIsUUID)\n\t\t{\n\t\t\tthis.Hash = this.UUID;\n\t\t}\n\n\t\tif (!this.options.ViewIdentifier)\n\t\t{\n\t\t\tthis.options.ViewIdentifier = `AutoViewID-${this.fable.getUUID()}`;\n\t\t}\n\t\tthis.serviceType = 'PictView';\n\t\t/** @type {Record<string, any>} */\n\t\tthis._Package = libPackage;\n\t\t// Convenience and consistency naming\n\t\t/** @type {import('pict') & { log: any, instantiateServiceProviderWithoutRegistration: (hash: String) => any, instantiateServiceProviderIfNotExists: (hash: string) => any, TransactionTracking: import('pict/types/source/services/Fable-Service-TransactionTracking') }} */\n\t\tthis.pict = this.fable;\n\t\t// Wire in the essential Pict application state\n\t\tthis.AppData = this.pict.AppData;\n\t\tthis.Bundle = this.pict.Bundle;\n\n\t\t/** @type {PictTimestamp} */\n\t\tthis.initializeTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastSolvedTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastRenderedTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastMarshalFromViewTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastMarshalToViewTimestamp = false;\n\n\t\tthis.pict.instantiateServiceProviderIfNotExists('TransactionTracking');\n\n\t\t// Load all templates from the array in the options\n\t\t// Templates are in the form of {Hash:'Some-Template-Hash',Template:'Template content',Source:'TemplateSource'}\n\t\tfor (let i = 0; i < this.options.Templates.length; i++)\n\t\t{\n\t\t\tlet tmpTemplate = this.options.Templates[i];\n\n\t\t\tif (!('Hash' in tmpTemplate) || !('Template' in tmpTemplate))\n\t\t\t{\n\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not load Template ${i} in the options array.`, tmpTemplate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!tmpTemplate.Source)\n\t\t\t\t{\n\t\t\t\t\ttmpTemplate.Source = `PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} options object.`;\n\t\t\t\t}\n\t\t\t\tthis.pict.TemplateProvider.addTemplate(tmpTemplate.Hash, tmpTemplate.Template, tmpTemplate.Source);\n\t\t\t}\n\t\t}\n\n\t\t// Load all default templates from the array in the options\n\t\t// Templates are in the form of {Prefix:'',Postfix:'-List-Row',Template:'Template content',Source:'TemplateSourceString'}\n\t\tfor (let i = 0; i < this.options.DefaultTemplates.length; i++)\n\t\t{\n\t\t\tlet tmpDefaultTemplate = this.options.DefaultTemplates[i];\n\n\t\t\tif (!('Postfix' in tmpDefaultTemplate) || !('Template' in tmpDefaultTemplate))\n\t\t\t{\n\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not load Default Template ${i} in the options array.`, tmpDefaultTemplate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!tmpDefaultTemplate.Source)\n\t\t\t\t{\n\t\t\t\t\ttmpDefaultTemplate.Source = `PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} options object.`;\n\t\t\t\t}\n\t\t\t\tthis.pict.TemplateProvider.addDefaultTemplate(tmpDefaultTemplate.Prefix, tmpDefaultTemplate.Postfix, tmpDefaultTemplate.Template, tmpDefaultTemplate.Source);\n\t\t\t}\n\t\t}\n\n\t\t// Load the CSS if it's available\n\t\tif (this.options.CSS)\n\t\t{\n\t\t\tlet tmpCSSHash = this.options.CSSHash ? this.options.CSSHash : `View-${this.options.ViewIdentifier}`;\n\t\t\tlet tmpCSSProvider = this.options.CSSProvider ? this.options.CSSProvider : tmpCSSHash;\n\t\t\tthis.pict.CSSMap.addCSS(tmpCSSHash, this.options.CSS, tmpCSSProvider, this.options.CSSPriority);\n\t\t}\n\n\t\t// Load all renderables\n\t\t// Renderables are launchable renderable instructions with templates\n\t\t// They look as such: {Identifier:'ContentEntry', TemplateHash:'Content-Entry-Section-Main', ContentDestinationAddress:'#ContentSection', RecordAddress:'AppData.Content.DefaultText', ManifestTransformation:'ManyfestHash', ManifestDestinationAddress:'AppData.Content.DataToTransformContent'}\n\t\t// The only parts that are necessary are Identifier and Template\n\t\t// A developer can then do render('ContentEntry') and it just kinda works.  Or they can override the ContentDestinationAddress\n\t\t/** @type {Record<String, Renderable>} */\n\t\tthis.renderables = {};\n\t\tfor (let i = 0; i < this.options.Renderables.length; i++)\n\t\t{\n\t\t\t/** @type {Renderable} */\n\t\t\tlet tmpRenderable = this.options.Renderables[i];\n\t\t\tthis.addRenderable(tmpRenderable);\n\t\t}\n\t}\n\n\t/**\n\t * Adds a renderable to the view.\n\t *\n\t * @param {string | Renderable} pRenderableHash - The hash of the renderable, or a renderable object.\n\t * @param {string} [pTemplateHash] - (optional) The hash of the template for the renderable.\n\t * @param {string} [pDefaultTemplateRecordAddress] - (optional) The default data address for the template.\n\t * @param {string} [pDefaultDestinationAddress] - (optional) The default destination address for the renderable.\n\t * @param {RenderMethod} [pRenderMethod=replace] - (optional) The method to use when rendering the renderable (ex. 'replace').\n\t */\n\taddRenderable(pRenderableHash, pTemplateHash, pDefaultTemplateRecordAddress, pDefaultDestinationAddress, pRenderMethod)\n\t{\n\t\t/** @type {Renderable} */\n\t\tlet tmpRenderable;\n\n\t\tif (typeof(pRenderableHash) == 'object')\n\t\t{\n\t\t\t// The developer passed in the renderable as an object.\n\t\t\t// Use theirs instead!\n\t\t\ttmpRenderable = pRenderableHash;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t/** @type {RenderMethod} */\n\t\t\tlet tmpRenderMethod = (typeof(pRenderMethod) !== 'string') ? pRenderMethod : 'replace';\n\t\t\ttmpRenderable = (\n\t\t\t\t{\n\t\t\t\t\tRenderableHash: pRenderableHash,\n\t\t\t\t\tTemplateHash: pTemplateHash,\n\t\t\t\t\tDefaultTemplateRecordAddress: pDefaultTemplateRecordAddress,\n\t\t\t\t\tContentDestinationAddress: pDefaultDestinationAddress,\n\t\t\t\t\tRenderMethod: tmpRenderMethod\n\t\t\t\t});\n\t\t}\n\n\t\tif ((typeof(tmpRenderable.RenderableHash) != 'string') || (typeof(tmpRenderable.TemplateHash) != 'string'))\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not load Renderable; RenderableHash or TemplateHash are invalid.`, tmpRenderable);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t{\n\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} adding renderable [${tmpRenderable.RenderableHash}] pointed to template ${tmpRenderable.TemplateHash}.`);\n\t\t\t}\n\n\t\t\tthis.renderables[tmpRenderable.RenderableHash] = tmpRenderable;\n\t\t}\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                        Code Section: Initialization                        */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before the view is initialized.\n\t */\n\tonBeforeInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is initialized (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeInitializeAsync(fCallback)\n\t{\n\t\tthis.onBeforeInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is initialized.\n\t */\n\tonInitialize()\n\t{\n\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is initialized (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonInitializeAsync(fCallback)\n\t{\n\t\tthis.onInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Performs view initialization.\n\t */\n\tinitialize()\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialize:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tthis.onBeforeInitialize();\n\t\t\tthis.onInitialize();\n\t\t\tthis.onAfterInitialize();\n\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialize called but initialization is already completed.  Aborting.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Performs view initialization (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tinitializeAsync(fCallback)\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initializeAsync:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t{\n\t\t\t\tthis.log.info(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} beginning initialization...`);\n\t\t\t}\n\n\t\t\ttmpAnticipate.anticipate(this.onBeforeInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onAfterInitializeAsync.bind(this));\n\n\t\t\ttmpAnticipate.wait(\n\t\t\t\t/** @param {Error} pError */\n\t\t\t\t(pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialization failed: ${pError.message || pError}`, { stack: pError.stack });\n\t\t\t\t\t}\n\t\t\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.info(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialization complete.`);\n\t\t\t\t\t}\n\t\t\t\t\treturn fCallback();\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} async initialize called but initialization is already completed.  Aborting.`);\n\t\t\t// TODO: Should this be an error?\n\t\t\treturn fCallback();\n\t\t}\n\t}\n\n\tonAfterInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is initialized (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterInitializeAsync(fCallback)\n\t{\n\t\tthis.onAfterInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                            Code Section: Render                            */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before the view is rendered.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that will be rendered.\n\t */\n\tonBeforeRender(pRenderable)\n\t{\n\t\t// Overload this to mess with stuff before the content gets generated from the template\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is rendered (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that will be rendered.\n\t */\n\tonBeforeRenderAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onBeforeRender(pRenderable);\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is projected into the DOM.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that will be projected.\n\t */\n\tonBeforeProject(pRenderable)\n\t{\n\t\t// Overload this to mess with stuff before the content gets generated from the template\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeProject:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is projected into the DOM (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that will be projected.\n\t */\n\tonBeforeProjectAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onBeforeProject(pRenderable);\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Builds the render options for a renderable.\n\t *\n\t * For DRY purposes on the three flavors of render.\n\t *\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object|ErrorCallback} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t */\n\tbuildRenderOptions(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress)\n\t{\n\t\tlet tmpRenderOptions = {Valid: true};\n\t\ttmpRenderOptions.RenderableHash = (typeof (pRenderableHash) === 'string') ? pRenderableHash :\n\t\t\t\t\t\t\t\t(typeof (this.options.DefaultRenderable) == 'string') ?\n\t\t\t\t\t\t\t\tthis.options.DefaultRenderable : false;\n\t\tif (!tmpRenderOptions.RenderableHash)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not find a suitable RenderableHash ${tmpRenderOptions.RenderableHash} (param ${pRenderableHash}because it is not a valid renderable.`);\n\t\t\ttmpRenderOptions.Valid = false;\n\t\t}\n\n\t\ttmpRenderOptions.Renderable = this.renderables[tmpRenderOptions.RenderableHash];\n\t\tif (!tmpRenderOptions.Renderable)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderOptions.RenderableHash} (param ${pRenderableHash}) because it does not exist.`);\n\t\t\ttmpRenderOptions.Valid = false;\n\t\t}\n\n\t\ttmpRenderOptions.DestinationAddress = (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t(typeof (tmpRenderOptions.Renderable.ContentDestinationAddress) === 'string') ? tmpRenderOptions.Renderable.ContentDestinationAddress :\n\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : false;\n\t\tif (!tmpRenderOptions.DestinationAddress)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderOptions.RenderableHash} (param ${pRenderableHash}) because it does not have a valid destination address (param ${pRenderDestinationAddress}).`);\n\t\t\ttmpRenderOptions.Valid = false;\n\t\t}\n\n\t\tif (typeof(pTemplateRecordAddress) === 'object')\n\t\t{\n\t\t\ttmpRenderOptions.RecordAddress = 'Passed in as object';\n\t\t\ttmpRenderOptions.Record = pTemplateRecordAddress;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRenderOptions.RecordAddress = (typeof (pTemplateRecordAddress) === 'string') ? pTemplateRecordAddress :\n\t\t\t\t(typeof (tmpRenderOptions.Renderable.DefaultTemplateRecordAddress) === 'string') ? tmpRenderOptions.Renderable.DefaultTemplateRecordAddress :\n\t\t\t\t(typeof (this.options.DefaultTemplateRecordAddress) === 'string') ? this.options.DefaultTemplateRecordAddress : false;\n\t\t\ttmpRenderOptions.Record = (typeof (tmpRenderOptions.RecordAddress) === 'string') ? this.pict.DataProvider.getDataByAddress(tmpRenderOptions.RecordAddress) : undefined;\n\t\t}\n\n\t\treturn tmpRenderOptions;\n\t}\n\n\t/**\n\t * Assigns the content to the destination address.\n\t *\n\t * For DRY purposes on the three flavors of render.\n\t *\n\t * @param {Renderable} pRenderable - The renderable to render.\n\t * @param {string} pRenderDestinationAddress - The address where the renderable will be rendered.\n\t * @param {string} pContent - The content to render.\n\t * @returns {boolean} - Returns true if the content was assigned successfully.\n\t * @memberof PictView\n\t */\n\tassignRenderContent(pRenderable, pRenderDestinationAddress, pContent)\n\t{\n\t\treturn this.pict.ContentAssignment.projectContent(pRenderable.RenderMethod, pRenderDestinationAddress, pContent, pRenderable.TestAddress);\n\t}\n\n\t/**\n\t * Render a renderable from this view.\n\t *\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @return {boolean}\n\t */\n\trender(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable)\n\t{\n\t\treturn this.renderWithScope(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable);\n\t}\n\n\t/**\n\t * Render a renderable from this view, providing a specifici scope for the template.\n\t *\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @return {boolean}\n\t */\n\trenderWithScope(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable)\n\t{\n\t\tlet tmpRenderableHash = (typeof (pRenderableHash) === 'string') ? pRenderableHash :\n\t\t\t(typeof (this.options.DefaultRenderable) == 'string') ? this.options.DefaultRenderable : false;\n\t\tif (!tmpRenderableHash)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it is not a valid renderable.`);\n\t\t\treturn false;\n\t\t}\n\n\t\t/** @type {Renderable} */\n\t\tlet tmpRenderable;\n\t\tif (tmpRenderableHash == '__Virtual')\n\t\t{\n\t\t\ttmpRenderable = {\n\t\t\t\tRenderableHash: '__Virtual',\n\t\t\t\tTemplateHash: this.renderables[this.options.DefaultRenderable].TemplateHash,\n\t\t\t\tContentDestinationAddress: (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t\t\t(typeof (tmpRenderable.ContentDestinationAddress) === 'string') ? tmpRenderable.ContentDestinationAddress :\n\t\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null,\n\t\t\t\tRenderMethod: 'virtual-assignment',\n\t\t\t\tTransactionHash: pRootRenderable && pRootRenderable.TransactionHash,\n\t\t\t\tRootRenderableViewHash: pRootRenderable && pRootRenderable.RootRenderableViewHash,\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRenderable = Object.assign({}, this.renderables[tmpRenderableHash]);\n\t\t\ttmpRenderable.ContentDestinationAddress = (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t\t(typeof (tmpRenderable.ContentDestinationAddress) === 'string') ? tmpRenderable.ContentDestinationAddress :\n\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null;\n\t\t}\n\n\t\tif (!tmpRenderable.TransactionHash)\n\t\t{\n\t\t\ttmpRenderable.TransactionHash = `ViewRender-V-${this.options.ViewIdentifier}-R-${tmpRenderableHash}-U-${this.pict.getUUID()}`;\n\t\t\ttmpRenderable.RootRenderableViewHash = this.Hash;\n\t\t\tthis.pict.TransactionTracking.registerTransaction(tmpRenderable.TransactionHash);\n\t\t}\n\n\t\tif (!tmpRenderable)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not exist.`);\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!tmpRenderable.ContentDestinationAddress)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not have a valid destination address.`);\n\t\t\treturn false;\n\t\t}\n\n\t\tlet tmpRecordAddress;\n\t\tlet tmpRecord;\n\n\t\tif (typeof(pTemplateRecordAddress) === 'object')\n\t\t{\n\t\t\ttmpRecord = pTemplateRecordAddress;\n\t\t\ttmpRecordAddress = 'Passed in as object';\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRecordAddress = (typeof (pTemplateRecordAddress) === 'string') ? pTemplateRecordAddress :\n\t\t\t\t(typeof (tmpRenderable.DefaultTemplateRecordAddress) === 'string') ? tmpRenderable.DefaultTemplateRecordAddress :\n\t\t\t\t\t(typeof (this.options.DefaultTemplateRecordAddress) === 'string') ? this.options.DefaultTemplateRecordAddress : false;\n\n\t\t\ttmpRecord = (typeof (tmpRecordAddress) === 'string') ? this.pict.DataProvider.getDataByAddress(tmpRecordAddress) : undefined;\n\t\t}\n\n\t\t// Execute the developer-overridable pre-render behavior\n\t\tthis.onBeforeRender(tmpRenderable);\n\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] Renderable[${tmpRenderableHash}] Destination[${tmpRenderable.ContentDestinationAddress}] TemplateRecordAddress[${tmpRecordAddress}] render:`);\n\t\t}\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Beginning Render of Renderable[${tmpRenderableHash}] to Destination [${tmpRenderable.ContentDestinationAddress}]...`);\n\t\t}\n\t\t// Generate the content output from the template and data\n\t\ttmpRenderable.Content = this.pict.parseTemplateByHash(tmpRenderable.TemplateHash, tmpRecord, null, [this], pScope, { RootRenderable: typeof pRootRenderable === 'object' ? pRootRenderable : tmpRenderable });\n\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Assigning Renderable[${tmpRenderableHash}] content length ${tmpRenderable.Content.length} to Destination [${tmpRenderable.ContentDestinationAddress}] using render method [${tmpRenderable.RenderMethod}].`);\n\t\t}\n\n\t\tthis.onBeforeProject(tmpRenderable);\n\t\tthis.onProject(tmpRenderable);\n\n\t\tif (tmpRenderable.RenderMethod !== 'virtual-assignment')\n\t\t{\n\t\t\tthis.onAfterProject(tmpRenderable);\n\n\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\tthis.onAfterRender(tmpRenderable);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Render a renderable from this view.\n\t *\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object|ErrorCallback} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable|ErrorCallback} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t *\n\t * @return {void}\n\t */\n\trenderAsync(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable, fCallback)\n\t{\n\t\treturn this.renderWithScopeAsync(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable, fCallback);\n\t}\n\n\t/**\n\t * Render a renderable from this view.\n\t *\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object|ErrorCallback} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable|ErrorCallback} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t *\n\t * @return {void}\n\t */\n\trenderWithScopeAsync(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable, fCallback)\n\t{\n\t\tlet tmpRenderableHash = (typeof (pRenderableHash) === 'string') ? pRenderableHash :\n\t\t\t(typeof (this.options.DefaultRenderable) == 'string') ? this.options.DefaultRenderable : false;\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback :\n\t\t\t\t\t\t\t(typeof(pTemplateRecordAddress) === 'function') ? pTemplateRecordAddress :\n\t\t\t\t\t\t\t(typeof(pRenderDestinationAddress) === 'function') ? pRenderDestinationAddress :\n\t\t\t\t\t\t\t(typeof(pRenderableHash) === 'function') ? pRenderableHash :\n\t\t\t\t\t\t\t(typeof(pRootRenderable) === 'function') ? pRootRenderable :\n\t\t\t\t\t\t\tnull;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tif (!tmpRenderableHash)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not asynchronously render ${tmpRenderableHash} (param ${pRenderableHash}because it is not a valid renderable.`);\n\t\t\treturn tmpCallback(new Error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not asynchronously render ${tmpRenderableHash} (param ${pRenderableHash}because it is not a valid renderable.`));\n\t\t}\n\n\t\t/** @type {Renderable} */\n\t\tlet tmpRenderable;\n\t\tif (tmpRenderableHash == '__Virtual')\n\t\t{\n\t\t\ttmpRenderable = {\n\t\t\t\tRenderableHash: '__Virtual',\n\t\t\t\tTemplateHash: this.renderables[this.options.DefaultRenderable].TemplateHash,\n\t\t\t\tContentDestinationAddress: (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress : (typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null,\n\t\t\t\tRenderMethod: 'virtual-assignment',\n\t\t\t\tTransactionHash: pRootRenderable && typeof pRootRenderable !== 'function' && pRootRenderable.TransactionHash,\n\t\t\t\tRootRenderableViewHash: pRootRenderable && typeof pRootRenderable !== 'function' && pRootRenderable.RootRenderableViewHash,\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRenderable = Object.assign({}, this.renderables[tmpRenderableHash]);\n\t\t\ttmpRenderable.ContentDestinationAddress = (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t\t(typeof (tmpRenderable.ContentDestinationAddress) === 'string') ? tmpRenderable.ContentDestinationAddress :\n\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null;\n\t\t}\n\n\t\tif (!tmpRenderable.TransactionHash)\n\t\t{\n\t\t\ttmpRenderable.TransactionHash = `ViewRender-V-${this.options.ViewIdentifier}-R-${tmpRenderableHash}-U-${this.pict.getUUID()}`;\n\t\t\ttmpRenderable.RootRenderableViewHash = this.Hash;\n\t\t\tthis.pict.TransactionTracking.registerTransaction(tmpRenderable.TransactionHash);\n\t\t}\n\n\t\tif (!tmpRenderable)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not exist.`);\n\t\t\treturn tmpCallback(new Error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not exist.`));\n\t\t}\n\n\t\tif (!tmpRenderable.ContentDestinationAddress)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not have a valid destination address.`);\n\t\t\treturn tmpCallback(new Error(`Could not render ${tmpRenderableHash}`));\n\t\t}\n\n\t\tlet tmpRecordAddress;\n\t\tlet tmpRecord;\n\n\t\tif (typeof(pTemplateRecordAddress) === 'object')\n\t\t{\n\t\t\ttmpRecord = pTemplateRecordAddress;\n\t\t\ttmpRecordAddress = 'Passed in as object';\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRecordAddress = (typeof (pTemplateRecordAddress) === 'string') ? pTemplateRecordAddress :\n\t\t\t\t(typeof (tmpRenderable.DefaultTemplateRecordAddress) === 'string') ? tmpRenderable.DefaultTemplateRecordAddress :\n\t\t\t\t\t(typeof (this.options.DefaultTemplateRecordAddress) === 'string') ? this.options.DefaultTemplateRecordAddress : false;\n\n\t\t\ttmpRecord = (typeof (tmpRecordAddress) === 'string') ? this.pict.DataProvider.getDataByAddress(tmpRecordAddress) : undefined;\n\t\t}\n\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] Renderable[${tmpRenderableHash}] Destination[${tmpRenderable.ContentDestinationAddress}] TemplateRecordAddress[${tmpRecordAddress}] renderAsync:`);\n\t\t}\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Beginning Asynchronous Render (callback-style)...`);\n\t\t}\n\n\t\tlet tmpAnticipate = this.fable.newAnticipate();\n\n\t\ttmpAnticipate.anticipate(\n\t\t\t(fOnBeforeRenderCallback) =>\n\t\t\t{\n\t\t\t\tthis.onBeforeRenderAsync(fOnBeforeRenderCallback, tmpRenderable);\n\t\t\t});\n\n\t\ttmpAnticipate.anticipate(\n\t\t\t(fAsyncTemplateCallback) =>\n\t\t\t{\n\t\t\t\t// Render the template (asynchronously)\n\t\t\t\tthis.pict.parseTemplateByHash(tmpRenderable.TemplateHash, tmpRecord,\n\t\t\t\t\t(pError, pContent) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif (pError)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render (asynchronously) ${tmpRenderableHash} (param ${pRenderableHash}) because it did not parse the template.`, pError);\n\t\t\t\t\t\t\treturn fAsyncTemplateCallback(pError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttmpRenderable.Content = pContent;\n\n\t\t\t\t\t\treturn fAsyncTemplateCallback();\n\t\t\t\t\t}, [this], pScope, { RootRenderable: typeof pRootRenderable === 'object' ? pRootRenderable : tmpRenderable });\n\t\t\t});\n\n\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t{\n\t\t\tthis.onBeforeProjectAsync(fNext, tmpRenderable);\n\t\t});\n\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t{\n\t\t\tthis.onProjectAsync(fNext, tmpRenderable);\n\t\t});\n\n\t\tif (tmpRenderable.RenderMethod !== 'virtual-assignment')\n\t\t{\n\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t{\n\t\t\t\tthis.onAfterProjectAsync(fNext, tmpRenderable);\n\t\t\t});\n\n\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t{\n\t\t\t\tthis.onAfterRenderAsync(fNext, tmpRenderable);\n\t\t\t});\n\t\t}\n\n\t\ttmpAnticipate.wait(tmpCallback);\n\t}\n\n\t/**\n\t * Renders the default renderable.\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\trenderDefaultAsync(fCallback)\n\t{\n\t\t// Render the default renderable\n\t\tthis.renderAsync(fCallback);\n\t}\n\n\t/**\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t */\n\tbasicRender(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress)\n\t{\n\t\treturn this.basicRenderWithScope(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress);\n\t}\n\n\t/**\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t */\n\tbasicRenderWithScope(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress)\n\t{\n\t\tlet tmpRenderOptions = this.buildRenderOptions(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress);\n\t\tif (tmpRenderOptions.Valid)\n\t\t{\n\t\t\tthis.assignRenderContent(tmpRenderOptions.Renderable, tmpRenderOptions.DestinationAddress, this.pict.parseTemplateByHash(tmpRenderOptions.Renderable.TemplateHash, tmpRenderOptions.Record, null, [this], pScope, { RootRenderable: tmpRenderOptions.Renderable }));\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not perform a basic render of ${tmpRenderOptions.RenderableHash} because it is not valid.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|Object|ErrorCallback} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t */\n\tbasicRenderAsync(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, fCallback)\n\t{\n\t\treturn this.basicRenderWithScopeAsync(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, fCallback);\n\t}\n\n\t/**\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|Object|ErrorCallback} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t */\n\tbasicRenderWithScopeAsync(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, fCallback)\n\t{\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback :\n\t\t\t\t\t\t\t(typeof(pTemplateRecordAddress) === 'function') ? pTemplateRecordAddress :\n\t\t\t\t\t\t\t(typeof(pRenderDestinationAddress) === 'function') ? pRenderDestinationAddress :\n\t\t\t\t\t\t\t(typeof(pRenderableHash) === 'function') ? pRenderableHash :\n\t\t\t\t\t\t\tnull;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} basicRenderAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} basicRenderAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tconst tmpRenderOptions = this.buildRenderOptions(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress);\n\t\tif (tmpRenderOptions.Valid)\n\t\t{\n\t\t\tthis.pict.parseTemplateByHash(tmpRenderOptions.Renderable.TemplateHash, tmpRenderOptions.Record,\n\t\t\t\t/**\n\t\t\t\t * @param {Error} [pError] - The error that occurred during template parsing.\n\t\t\t\t * @param {string} [pContent] - The content that was rendered from the template.\n\t\t\t\t */\n\t\t\t\t(pError, pContent) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render (asynchronously) ${tmpRenderOptions.RenderableHash} because it did not parse the template.`, pError);\n\t\t\t\t\t\treturn tmpCallback(pError);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.assignRenderContent(tmpRenderOptions.Renderable, tmpRenderOptions.DestinationAddress, pContent);\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t}, [this], pScope, { RootRenderable: tmpRenderOptions.Renderable });\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet tmpErrorMessage = `PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not perform a basic render of ${tmpRenderOptions.RenderableHash} because it is not valid.`;\n\t\t\tthis.log.error(tmpErrorMessage);\n\t\t\treturn tmpCallback(new Error(tmpErrorMessage));\n\t\t}\n\t}\n\n\t/**\n\t * @param {Renderable} pRenderable - The renderable that was rendered.\n\t */\n\tonProject(pRenderable)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onProject:`);\n\t\t}\n\t\tif (pRenderable.RenderMethod === 'virtual-assignment')\n\t\t{\n\t\t\tthis.pict.TransactionTracking.pushToTransactionQueue(pRenderable.TransactionHash, { ViewHash: this.Hash, Renderable: pRenderable }, 'Deferred-Post-Content-Assignment');\n\t\t}\n\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Assigning Renderable[${pRenderable.RenderableHash}] content length ${pRenderable.Content.length} to Destination [${pRenderable.ContentDestinationAddress}] using Async render method ${pRenderable.RenderMethod}.`);\n\t\t}\n\n\t\t// Assign the content to the destination address\n\t\tthis.pict.ContentAssignment.projectContent(pRenderable.RenderMethod, pRenderable.ContentDestinationAddress, pRenderable.Content, pRenderable.TestAddress);\n\n\t\tthis.lastRenderedTimestamp = this.pict.log.getTimeStamp();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is projected into the DOM (async flow).\n\t *\n\t * @param {(error?: Error, content?: string) => void} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that is being projected.\n\t */\n\tonProjectAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onProject(pRenderable);\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is rendered.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that was rendered.\n\t */\n\tonAfterRender(pRenderable)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterRender:`);\n\t\t}\n\t\tif (pRenderable && pRenderable.RootRenderableViewHash === this.Hash)\n\t\t{\n\t\t\tconst tmpTransactionQueue = this.pict.TransactionTracking.clearTransactionQueue(pRenderable.TransactionHash) || [];\n\t\t\tfor (const tmpEvent of tmpTransactionQueue)\n\t\t\t{\n\t\t\t\tconst tmpView = this.pict.views[tmpEvent.Data.ViewHash];\n\t\t\t\tif (!tmpView)\n\t\t\t\t{\n\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterRender: Could not find view for transaction hash ${pRenderable.TransactionHash} and ViewHash ${tmpEvent.Data.ViewHash}.`);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttmpView.onAfterProject();\n\n\t\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\t\ttmpView.onAfterRender(tmpEvent.Data.Renderable);\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is rendered (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that was rendered.\n\t */\n\tonAfterRenderAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onAfterRender(pRenderable);\n\t\tconst tmpAnticipate = this.fable.newAnticipate();\n\t\tif (pRenderable && pRenderable.RootRenderableViewHash === this.Hash)\n\t\t{\n\t\t\tconst queue = this.pict.TransactionTracking.clearTransactionQueue(pRenderable.TransactionHash) || [];\n\t\t\tfor (const event of queue)\n\t\t\t{\n\t\t\t\t/** @type {PictView} */\n\t\t\t\tconst tmpView = this.pict.views[event.Data.ViewHash];\n\t\t\t\tif (!tmpView)\n\t\t\t\t{\n\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterRenderAsync: Could not find view for transaction hash ${pRenderable.TransactionHash} and ViewHash ${event.Data.ViewHash}.`);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttmpAnticipate.anticipate(tmpView.onAfterProjectAsync.bind(tmpView));\n\t\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t\t{\n\t\t\t\t\ttmpView.onAfterRenderAsync(fNext, event.Data.Renderable);\n\t\t\t\t});\n\n\t\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\t}\n\t\t}\n\t\treturn tmpAnticipate.wait(fCallback);\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is projected into the DOM.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that was projected.\n\t */\n\tonAfterProject(pRenderable)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterProject:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is projected into the DOM (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that was projected.\n\t */\n\tonAfterProjectAsync(fCallback, pRenderable)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                            Code Section: Solver                            */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before the view is solved.\n\t */\n\tonBeforeSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is solved (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeSolveAsync(fCallback)\n\t{\n\t\tthis.onBeforeSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is solved.\n\t */\n\tonSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is solved (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonSolveAsync(fCallback)\n\t{\n\t\tthis.onSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Performs view solving and triggers lifecycle hooks.\n\t *\n\t * @return {boolean} - True if the view was solved successfully, false otherwise.\n\t */\n\tsolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} executing solve() function...`);\n\t\t}\n\t\tthis.onBeforeSolve();\n\t\tthis.onSolve();\n\t\tthis.onAfterSolve();\n\t\tthis.lastSolvedTimestamp = this.pict.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Performs view solving and triggers lifecycle hooks (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tsolveAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : null;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeSolveAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onSolveAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterSolveAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} solveAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastSolvedTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is solved.\n\t */\n\tonAfterSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is solved (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterSolveAsync(fCallback)\n\t{\n\t\tthis.onAfterSolve();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Marshal From View                        */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled from the view.\n\t *\n\t * @return {boolean} - True if the operation was successful, false otherwise.\n\t */\n\tonBeforeMarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeMarshalFromView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeMarshalFromViewAsync(fCallback)\n\t{\n\t\tthis.onBeforeMarshalFromView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled from the view.\n\t */\n\tonMarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onMarshalFromView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonMarshalFromViewAsync(fCallback)\n\t{\n\n\t\tthis.onMarshalFromView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Marshals data from the view.\n\t *\n\t * @return {boolean} - True if the operation was successful, false otherwise.\n\t */\n\tmarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} executing solve() function...`);\n\t\t}\n\t\tthis.onBeforeMarshalFromView();\n\t\tthis.onMarshalFromView();\n\t\tthis.onAfterMarshalFromView();\n\t\tthis.lastMarshalFromViewTimestamp = this.pict.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Marshals data from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tmarshalFromViewAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : null;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeMarshalFromViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onMarshalFromViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterMarshalFromViewAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} marshalFromViewAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastMarshalFromViewTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled from the view.\n\t */\n\tonAfterMarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterMarshalFromView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterMarshalFromViewAsync(fCallback)\n\t{\n\t\tthis.onAfterMarshalFromView();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Marshal To View                          */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled into the view.\n\t */\n\tonBeforeMarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeMarshalToView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeMarshalToViewAsync(fCallback)\n\t{\n\t\tthis.onBeforeMarshalToView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled into the view.\n\t */\n\tonMarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onMarshalToView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonMarshalToViewAsync(fCallback)\n\t{\n\t\tthis.onMarshalToView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Marshals data into the view.\n\t *\n\t * @return {boolean} - True if the operation was successful, false otherwise.\n\t */\n\tmarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} executing solve() function...`);\n\t\t}\n\t\tthis.onBeforeMarshalToView();\n\t\tthis.onMarshalToView();\n\t\tthis.onAfterMarshalToView();\n\t\tthis.lastMarshalToViewTimestamp = this.pict.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Marshals data into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tmarshalToViewAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : null;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\t\ttmpAnticipate.anticipate(this.onBeforeMarshalToViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onMarshalToViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterMarshalToViewAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} marshalToViewAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastMarshalToViewTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled into the view.\n\t */\n\tonAfterMarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterMarshalToView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterMarshalToViewAsync(fCallback)\n\t{\n\t\tthis.onAfterMarshalToView();\n\t\treturn fCallback();\n\t}\n\n\t/** @return {boolean} - True if the object is a PictView. */\n\tget isPictView()\n\t{\n\t\treturn true;\n\t}\n}\n\nmodule.exports = PictView;\n","module.exports={\n\t\"Name\": \"Pict Docuserve\",\n\t\"Hash\": \"Docuserve\",\n\n\t\"MainViewportViewIdentifier\": \"Docuserve-Layout\",\n\n\t\"AutoSolveAfterInitialize\": true,\n\t\"AutoRenderMainViewportViewAfterInitialize\": false,\n\t\"AutoRenderViewsAfterInitialize\": false,\n\n\t\"pict_configuration\":\n\t\t{\n\t\t\t\"Product\": \"Docuserve-Pict-Application\"\n\t\t}\n}\n","const libPictApplication = require('pict-application');\n\n// Provider\nconst libDocumentationProvider = require('./providers/Pict-Provider-Docuserve-Documentation.js');\n\n// Views\nconst libViewLayout = require('./views/PictView-Docuserve-Layout.js');\nconst libViewTopBar = require('./views/PictView-Docuserve-TopBar.js');\nconst libViewSidebar = require('./views/PictView-Docuserve-Sidebar.js');\nconst libViewSplash = require('./views/PictView-Docuserve-Splash.js');\nconst libViewContent = require('./views/PictView-Docuserve-Content.js');\n\nclass DocuserveApplication extends libPictApplication\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\t// Add the documentation provider\n\t\tthis.pict.addProvider('Docuserve-Documentation', libDocumentationProvider.default_configuration, libDocumentationProvider);\n\n\t\t// Add views\n\t\tthis.pict.addView('Docuserve-Layout', libViewLayout.default_configuration, libViewLayout);\n\t\tthis.pict.addView('Docuserve-TopBar', libViewTopBar.default_configuration, libViewTopBar);\n\t\tthis.pict.addView('Docuserve-Sidebar', libViewSidebar.default_configuration, libViewSidebar);\n\t\tthis.pict.addView('Docuserve-Splash', libViewSplash.default_configuration, libViewSplash);\n\t\tthis.pict.addView('Docuserve-Content', libViewContent.default_configuration, libViewContent);\n\t}\n\n\tonAfterInitializeAsync(fCallback)\n\t{\n\t\t// Initialize application state\n\t\tthis.pict.AppData.Docuserve =\n\t\t{\n\t\t\tCatalogLoaded: false,\n\t\t\tCatalog: null,\n\t\t\tCoverLoaded: false,\n\t\t\tCover: null,\n\t\t\tSidebarLoaded: false,\n\t\t\tSidebarGroups: [],\n\t\t\tTopBarLoaded: false,\n\t\t\tTopBar: null,\n\t\t\tErrorPageLoaded: false,\n\t\t\tErrorPageHTML: null,\n\t\t\tCurrentGroup: '',\n\t\t\tCurrentModule: '',\n\t\t\tCurrentPath: '',\n\t\t\t// Whether the sidebar is currently visible\n\t\t\tSidebarVisible: true,\n\t\t\t// Base URL for local docs (relative to where the app is served)\n\t\t\tDocsBaseURL: '',\n\t\t\t// URL for the catalog JSON\n\t\t\tCatalogURL: 'retold-catalog.json'\n\t\t};\n\n\t\t// Load the catalog, then render the layout\n\t\tlet tmpDocProvider = this.pict.providers['Docuserve-Documentation'];\n\t\ttmpDocProvider.loadCatalog(() =>\n\t\t{\n\t\t\t// Render the layout shell, which triggers child view rendering\n\t\t\tthis.pict.views['Docuserve-Layout'].render();\n\n\t\t\treturn super.onAfterInitializeAsync(fCallback);\n\t\t});\n\t}\n\n\t/**\n\t * Read the current window.location.hash and dispatch to the correct handler.\n\t *\n\t * Route patterns:\n\t *   #/Home                         -> showView('Docuserve-Splash')\n\t *   #/page/<docpath>               -> navigateToPage(docpath)\n\t *   #/doc/<group>/<module>          -> navigateToModule(group, module)\n\t *   #/doc/<group>/<module>/<path>   -> navigateToModulePath(group, module, path)\n\t */\n\tresolveHash()\n\t{\n\t\tlet tmpHash = (window.location.hash || '').replace(/^#\\/?/, '');\n\n\t\tif (!tmpHash || tmpHash === 'Home')\n\t\t{\n\t\t\tthis.showView('Docuserve-Splash');\n\t\t\treturn;\n\t\t}\n\n\t\tlet tmpParts = tmpHash.split('/');\n\n\t\tif (tmpParts[0] === 'page' && tmpParts.length >= 2)\n\t\t{\n\t\t\t// Rejoin everything after 'page/' in case the path has slashes\n\t\t\tlet tmpDocPath = tmpParts.slice(1).join('/');\n\t\t\tthis.navigateToPage(tmpDocPath);\n\t\t\treturn;\n\t\t}\n\n\t\tif (tmpParts[0] === 'doc' && tmpParts.length >= 3)\n\t\t{\n\t\t\tlet tmpGroup = tmpParts[1];\n\t\t\tlet tmpModule = tmpParts[2];\n\t\t\tif (tmpParts.length >= 4)\n\t\t\t{\n\t\t\t\tlet tmpPath = tmpParts.slice(3).join('/');\n\t\t\t\tthis.navigateToModulePath(tmpGroup, tmpModule, tmpPath);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.navigateToModule(tmpGroup, tmpModule);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Unknown route  treat as a page\n\t\tthis.navigateToPage(tmpHash);\n\t}\n\n\t/**\n\t * Navigate to a hash route.\n\t *\n\t * Sets window.location.hash, which triggers the hashchange listener in the\n\t * layout view, which calls resolveHash() automatically.\n\t *\n\t * @param {string} pRoute - The route path (e.g. '/Home', '/page/quick-start')\n\t */\n\tnavigateTo(pRoute)\n\t{\n\t\twindow.location.hash = pRoute;\n\t}\n\n\t/**\n\t * Show a specific view in the content area.\n\t *\n\t * @param {string} pViewIdentifier - The view identifier to render\n\t */\n\tshowView(pViewIdentifier)\n\t{\n\t\tif (pViewIdentifier in this.pict.views)\n\t\t{\n\t\t\tthis.pict.AppData.Docuserve.CurrentGroup = '';\n\t\t\tthis.pict.AppData.Docuserve.CurrentModule = '';\n\t\t\tthis.pict.AppData.Docuserve.CurrentPath = '';\n\n\t\t\tthis.pict.views[pViewIdentifier].render();\n\n\t\t\t// Update sidebar to clear module nav and refresh active states\n\t\t\tthis.pict.views['Docuserve-Sidebar'].clearModuleNav();\n\t\t\tthis.pict.views['Docuserve-Sidebar'].renderSidebarGroups();\n\t\t}\n\t}\n\n\t/**\n\t * Navigate to a module's documentation.\n\t *\n\t * @param {string} pGroup - The group key\n\t * @param {string} pModule - The module name\n\t */\n\tnavigateToModule(pGroup, pModule)\n\t{\n\t\tthis.navigateToModulePath(pGroup, pModule, 'README.md');\n\t}\n\n\t/**\n\t * Navigate to a specific path within a module's documentation.\n\t *\n\t * @param {string} pGroup - The group key\n\t * @param {string} pModule - The module name\n\t * @param {string} pPath - The document path\n\t */\n\tnavigateToModulePath(pGroup, pModule, pPath)\n\t{\n\t\tlet tmpDocProvider = this.pict.providers['Docuserve-Documentation'];\n\t\tlet tmpContentView = this.pict.views['Docuserve-Content'];\n\t\tlet tmpSidebarView = this.pict.views['Docuserve-Sidebar'];\n\n\t\t// Update current navigation state\n\t\tthis.pict.AppData.Docuserve.CurrentGroup = pGroup;\n\t\tthis.pict.AppData.Docuserve.CurrentModule = pModule;\n\t\tthis.pict.AppData.Docuserve.CurrentPath = pPath;\n\n\t\t// Render the content view shell and show loading\n\t\ttmpContentView.render();\n\t\ttmpContentView.showLoading();\n\n\t\t// Update sidebar to show active module and module-specific nav\n\t\ttmpSidebarView.renderSidebarGroups();\n\t\ttmpSidebarView.renderModuleNav(pGroup, pModule);\n\n\t\t// Resolve the document URL and fetch it\n\t\tlet tmpURL = tmpDocProvider.resolveDocumentURL(pGroup, pModule, pPath || 'README.md');\n\n\t\tif (!tmpURL)\n\t\t{\n\t\t\ttmpContentView.displayContent(tmpDocProvider.getErrorPageHTML(pGroup + '/' + pModule));\n\t\t\treturn;\n\t\t}\n\n\t\ttmpDocProvider.fetchDocument(tmpURL, (pError, pHTML) =>\n\t\t{\n\t\t\t// fetchDocument always provides displayable HTML in pHTML,\n\t\t\t// even on error, so we can use it directly.\n\t\t\ttmpContentView.displayContent(pHTML);\n\t\t});\n\t}\n\n\t/**\n\t * Navigate to a local documentation page (e.g. architecture.md).\n\t *\n\t * @param {string} pDocPath - The doc path without extension\n\t */\n\tnavigateToPage(pDocPath)\n\t{\n\t\tlet tmpDocProvider = this.pict.providers['Docuserve-Documentation'];\n\t\tlet tmpContentView = this.pict.views['Docuserve-Content'];\n\t\tlet tmpSidebarView = this.pict.views['Docuserve-Sidebar'];\n\n\t\t// Update state\n\t\tthis.pict.AppData.Docuserve.CurrentGroup = '';\n\t\tthis.pict.AppData.Docuserve.CurrentModule = '';\n\t\tthis.pict.AppData.Docuserve.CurrentPath = pDocPath;\n\n\t\t// Render the content view shell and show loading\n\t\ttmpContentView.render();\n\t\ttmpContentView.showLoading();\n\n\t\t// Clear module-specific sidebar nav\n\t\ttmpSidebarView.clearModuleNav();\n\t\ttmpSidebarView.renderSidebarGroups();\n\n\t\t// Fetch the local document\n\t\tlet tmpPath = pDocPath;\n\t\tif (!tmpPath.match(/\\.md$/))\n\t\t{\n\t\t\ttmpPath = tmpPath + '.md';\n\t\t}\n\n\t\ttmpDocProvider.fetchLocalDocument(tmpPath, (pError, pHTML) =>\n\t\t{\n\t\t\t// fetchDocument always provides displayable HTML in pHTML,\n\t\t\t// even on error, so we can use it directly.\n\t\t\ttmpContentView.displayContent(pHTML);\n\t\t});\n\t}\n}\n\nmodule.exports = DocuserveApplication;\n\nmodule.exports.default_configuration = require('./Pict-Application-Docuserve-Configuration.json');\n","const libPictProvider = require('pict-provider');\n\n/**\n * Documentation Provider for Docuserve\n *\n * Loads the Indoctrinate-generated catalog and keyword index,\n * fetches markdown documents from local paths or raw GitHub URLs,\n * and parses them into HTML for rendering.\n */\nclass DocuserveDocumentationProvider extends libPictProvider\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\tthis._Catalog = null;\n\t\tthis._ContentCache = {};\n\t}\n\n\t/**\n\t * Load all documentation data sources: catalog, cover.md, _sidebar.md.\n\t *\n\t * Loads the catalog first (it provides the fallback data), then attempts\n\t * to load cover.md and _sidebar.md in parallel.  If those markdown files\n\t * exist they drive the splash and sidebar views; otherwise the catalog\n\t * data is used as a fallback.\n\t *\n\t * @param {Function} fCallback - Callback when all loading is complete\n\t */\n\tloadCatalog(fCallback)\n\t{\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : () => {};\n\n\t\tlet tmpCatalogURL = this.pict.AppData.Docuserve.CatalogURL || 'retold-catalog.json';\n\n\t\tfetch(tmpCatalogURL)\n\t\t\t.then((pResponse) =>\n\t\t\t{\n\t\t\t\tif (!pResponse.ok)\n\t\t\t\t{\n\t\t\t\t\tthis.log.warn(`Docuserve: Could not load catalog from [${tmpCatalogURL}].`);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn pResponse.json();\n\t\t\t})\n\t\t\t.then((pCatalog) =>\n\t\t\t{\n\t\t\t\tif (pCatalog)\n\t\t\t\t{\n\t\t\t\t\tthis._Catalog = pCatalog;\n\t\t\t\t\tthis.pict.AppData.Docuserve.Catalog = pCatalog;\n\t\t\t\t\tthis.pict.AppData.Docuserve.CatalogLoaded = true;\n\n\t\t\t\t\t// Build sidebar navigation data from the catalog as default\n\t\t\t\t\tthis.buildSidebarData(pCatalog);\n\t\t\t\t}\n\n\t\t\t\t// Now try to load cover.md, _sidebar.md, _topbar.md, and errorpage.md in parallel\n\t\t\t\tlet tmpPending = 4;\n\t\t\t\tlet tmpFinish = () =>\n\t\t\t\t{\n\t\t\t\t\ttmpPending--;\n\t\t\t\t\tif (tmpPending <= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn tmpCallback();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.loadCover(tmpFinish);\n\t\t\t\tthis.loadSidebar(tmpFinish);\n\t\t\t\tthis.loadTopbar(tmpFinish);\n\t\t\t\tthis.loadErrorPage(tmpFinish);\n\t\t\t})\n\t\t\t.catch((pError) =>\n\t\t\t{\n\t\t\t\tthis.log.warn(`Docuserve: Error loading catalog: ${pError}`);\n\t\t\t\treturn tmpCallback();\n\t\t\t});\n\t}\n\n\t/**\n\t * Fetch and parse cover.md into structured data for the splash view.\n\t *\n\t * The expected cover.md format follows the docsify convention:\n\t *   # Title\n\t *   > Tagline\n\t *   Description paragraph text.\n\t *   - **Group**  description\n\t *   [Link Text](url)\n\t *\n\t * Parsed result stored in this.pict.AppData.Docuserve.Cover:\n\t *   { Title, Tagline, Description, Highlights: [{Label, Text}], Actions: [{Text, Href}] }\n\t *\n\t * @param {Function} fCallback - Callback when done\n\t */\n\tloadCover(fCallback)\n\t{\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : () => {};\n\t\tlet tmpDocsBase = this.pict.AppData.Docuserve.DocsBaseURL || '';\n\n\t\tfetch(tmpDocsBase + 'cover.md')\n\t\t\t.then((pResponse) =>\n\t\t\t{\n\t\t\t\tif (!pResponse.ok)\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn pResponse.text();\n\t\t\t})\n\t\t\t.then((pMarkdown) =>\n\t\t\t{\n\t\t\t\tif (!pMarkdown)\n\t\t\t\t{\n\t\t\t\t\tthis.log.info('Docuserve: No cover.md found; splash will use catalog data.');\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t}\n\n\t\t\t\tthis.pict.AppData.Docuserve.Cover = this.parseCover(pMarkdown);\n\t\t\t\tthis.pict.AppData.Docuserve.CoverLoaded = true;\n\t\t\t\treturn tmpCallback();\n\t\t\t})\n\t\t\t.catch((pError) =>\n\t\t\t{\n\t\t\t\tthis.log.warn(`Docuserve: Error loading cover.md: ${pError}`);\n\t\t\t\treturn tmpCallback();\n\t\t\t});\n\t}\n\n\t/**\n\t * Parse cover.md markdown text into a structured object.\n\t *\n\t * @param {string} pMarkdown - Raw cover.md content\n\t * @returns {Object} Parsed cover data\n\t */\n\tparseCover(pMarkdown)\n\t{\n\t\tlet tmpCover = {\n\t\t\tTitle: '',\n\t\t\tTagline: '',\n\t\t\tDescription: '',\n\t\t\tHighlights: [],\n\t\t\tActions: []\n\t\t};\n\n\t\tlet tmpLines = pMarkdown.split('\\n');\n\n\t\tfor (let i = 0; i < tmpLines.length; i++)\n\t\t{\n\t\t\tlet tmpLine = tmpLines[i].trim();\n\n\t\t\tif (!tmpLine)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Heading  the title\n\t\t\tlet tmpHeadingMatch = tmpLine.match(/^#+\\s+(.+)/);\n\t\t\tif (tmpHeadingMatch)\n\t\t\t{\n\t\t\t\ttmpCover.Title = tmpHeadingMatch[1].trim();\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Blockquote  the tagline\n\t\t\tlet tmpBlockquoteMatch = tmpLine.match(/^>\\s*(.*)/);\n\t\t\tif (tmpBlockquoteMatch)\n\t\t\t{\n\t\t\t\ttmpCover.Tagline = tmpBlockquoteMatch[1].trim();\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Bullet list  highlights (e.g. \"- **Fable**  Core ecosystem, DI, config\")\n\t\t\tlet tmpBulletMatch = tmpLine.match(/^[-*+]\\s+(.*)/);\n\t\t\tif (tmpBulletMatch)\n\t\t\t{\n\t\t\t\tlet tmpBulletContent = tmpBulletMatch[1];\n\t\t\t\t// Try to split on bold label: **Label**  rest\n\t\t\t\tlet tmpLabelMatch = tmpBulletContent.match(/^\\*\\*([^*]+)\\*\\*\\s*[-:]\\s*(.*)/);\n\t\t\t\tif (tmpLabelMatch)\n\t\t\t\t{\n\t\t\t\t\ttmpCover.Highlights.push({ Label: tmpLabelMatch[1].trim(), Text: tmpLabelMatch[2].trim() });\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmpCover.Highlights.push({ Label: '', Text: tmpBulletContent.trim() });\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Bare link  action button (e.g. \"[Get Started](getting-started.md)\")\n\t\t\tlet tmpLinkMatch = tmpLine.match(/^\\[([^\\]]+)\\]\\(([^)]+)\\)\\s*$/);\n\t\t\tif (tmpLinkMatch)\n\t\t\t{\n\t\t\t\ttmpCover.Actions.push({ Text: tmpLinkMatch[1].trim(), Href: tmpLinkMatch[2].trim() });\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise it's description text\n\t\t\tif (!tmpCover.Description)\n\t\t\t{\n\t\t\t\ttmpCover.Description = tmpLine;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttmpCover.Description += ' ' + tmpLine;\n\t\t\t}\n\t\t}\n\n\t\treturn tmpCover;\n\t}\n\n\t/**\n\t * Fetch and parse _sidebar.md into structured navigation data.\n\t *\n\t * The expected _sidebar.md format follows the docsify convention:\n\t *   - [Home](/)\n\t *   - Group Title\n\t *     - [module-name](/group/module/)\n\t *   - [Group Title](group.md)\n\t *     - [module-name](/group/module/)\n\t *\n\t * If _sidebar.md is successfully loaded and parsed, its data replaces\n\t * the catalog-inferred SidebarGroups in AppData.\n\t *\n\t * @param {Function} fCallback - Callback when done\n\t */\n\tloadSidebar(fCallback)\n\t{\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : () => {};\n\t\tlet tmpDocsBase = this.pict.AppData.Docuserve.DocsBaseURL || '';\n\n\t\tfetch(tmpDocsBase + '_sidebar.md')\n\t\t\t.then((pResponse) =>\n\t\t\t{\n\t\t\t\tif (!pResponse.ok)\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn pResponse.text();\n\t\t\t})\n\t\t\t.then((pMarkdown) =>\n\t\t\t{\n\t\t\t\tif (!pMarkdown)\n\t\t\t\t{\n\t\t\t\t\tthis.log.info('Docuserve: No _sidebar.md found; sidebar will use catalog data.');\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t}\n\n\t\t\t\tlet tmpSidebarData = this.parseSidebarMarkdown(pMarkdown);\n\t\t\t\tif (tmpSidebarData && tmpSidebarData.length > 0)\n\t\t\t\t{\n\t\t\t\t\tthis.pict.AppData.Docuserve.SidebarGroups = tmpSidebarData;\n\t\t\t\t\tthis.pict.AppData.Docuserve.SidebarLoaded = true;\n\t\t\t\t}\n\t\t\t\treturn tmpCallback();\n\t\t\t})\n\t\t\t.catch((pError) =>\n\t\t\t{\n\t\t\t\tthis.log.warn(`Docuserve: Error loading _sidebar.md: ${pError}`);\n\t\t\t\treturn tmpCallback();\n\t\t\t});\n\t}\n\n\t/**\n\t * Fetch and parse _topbar.md into structured data for the top bar view.\n\t *\n\t * The expected _topbar.md format:\n\t *   # Brand Name\n\t *   - [Link Text](url)\n\t *   - [Link Text](url)\n\t *\n\t * The heading becomes the brand/title shown on the left.  List items become\n\t * navigation links.  External links (starting with http) render on the\n\t * right side; internal links render in the centre nav area.\n\t *\n\t * Parsed result stored in this.pict.AppData.Docuserve.TopBar:\n\t *   { Brand, NavLinks: [{Text, Href, External}], ExternalLinks: [{Text, Href}] }\n\t *\n\t * @param {Function} fCallback - Callback when done\n\t */\n\tloadTopbar(fCallback)\n\t{\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : () => {};\n\t\tlet tmpDocsBase = this.pict.AppData.Docuserve.DocsBaseURL || '';\n\n\t\tfetch(tmpDocsBase + '_topbar.md')\n\t\t\t.then((pResponse) =>\n\t\t\t{\n\t\t\t\tif (!pResponse.ok)\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn pResponse.text();\n\t\t\t})\n\t\t\t.then((pMarkdown) =>\n\t\t\t{\n\t\t\t\tif (!pMarkdown)\n\t\t\t\t{\n\t\t\t\t\tthis.log.info('Docuserve: No _topbar.md found; top bar will use defaults.');\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t}\n\n\t\t\t\tthis.pict.AppData.Docuserve.TopBar = this.parseTopbar(pMarkdown);\n\t\t\t\tthis.pict.AppData.Docuserve.TopBarLoaded = true;\n\t\t\t\treturn tmpCallback();\n\t\t\t})\n\t\t\t.catch((pError) =>\n\t\t\t{\n\t\t\t\tthis.log.warn(`Docuserve: Error loading _topbar.md: ${pError}`);\n\t\t\t\treturn tmpCallback();\n\t\t\t});\n\t}\n\n\t/**\n\t * Parse _topbar.md markdown text into a structured object.\n\t *\n\t * @param {string} pMarkdown - Raw _topbar.md content\n\t * @returns {Object} Parsed top bar data { Brand, NavLinks, ExternalLinks }\n\t */\n\tparseTopbar(pMarkdown)\n\t{\n\t\tlet tmpTopBar = {\n\t\t\tBrand: '',\n\t\t\tNavLinks: [],\n\t\t\tExternalLinks: []\n\t\t};\n\n\t\tlet tmpLines = pMarkdown.split('\\n');\n\n\t\tfor (let i = 0; i < tmpLines.length; i++)\n\t\t{\n\t\t\tlet tmpLine = tmpLines[i].trim();\n\n\t\t\tif (!tmpLine)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Heading  the brand name\n\t\t\tlet tmpHeadingMatch = tmpLine.match(/^#+\\s+(.+)/);\n\t\t\tif (tmpHeadingMatch)\n\t\t\t{\n\t\t\t\ttmpTopBar.Brand = tmpHeadingMatch[1].trim();\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Bullet list item with link\n\t\t\tlet tmpBulletMatch = tmpLine.match(/^[-*+]\\s+(.*)/);\n\t\t\tif (tmpBulletMatch)\n\t\t\t{\n\t\t\t\tlet tmpContent = tmpBulletMatch[1].trim();\n\t\t\t\tlet tmpLinkMatch = tmpContent.match(/^\\[([^\\]]+)\\]\\(([^)]+)\\)/);\n\n\t\t\t\tif (tmpLinkMatch)\n\t\t\t\t{\n\t\t\t\t\tlet tmpText = tmpLinkMatch[1].trim();\n\t\t\t\t\tlet tmpHref = tmpLinkMatch[2].trim();\n\n\t\t\t\t\t// External links (http/https) go to the right side\n\t\t\t\t\tif (tmpHref.match(/^https?:\\/\\//))\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpTopBar.ExternalLinks.push({ Text: tmpText, Href: tmpHref });\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t// Internal link  convert to hash route\n\t\t\t\t\t\tlet tmpRoute = this.convertSidebarLink(tmpHref);\n\t\t\t\t\t\ttmpTopBar.NavLinks.push({ Text: tmpText, Href: tmpRoute });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\treturn tmpTopBar;\n\t}\n\n\t/**\n\t * Fetch and parse errorpage.md into HTML for use as a custom error page.\n\t *\n\t * The errorpage.md is a standard markdown file.  If it contains the\n\t * placeholder `{{path}}` anywhere in its source, that token will be\n\t * replaced with the actual requested path at display time (via\n\t * getErrorPageHTML).\n\t *\n\t * @param {Function} fCallback - Callback when done\n\t */\n\tloadErrorPage(fCallback)\n\t{\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : () => {};\n\t\tlet tmpDocsBase = this.pict.AppData.Docuserve.DocsBaseURL || '';\n\n\t\tfetch(tmpDocsBase + 'errorpage.md')\n\t\t\t.then((pResponse) =>\n\t\t\t{\n\t\t\t\tif (!pResponse.ok)\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn pResponse.text();\n\t\t\t})\n\t\t\t.then((pMarkdown) =>\n\t\t\t{\n\t\t\t\tif (!pMarkdown)\n\t\t\t\t{\n\t\t\t\t\tthis.log.info('Docuserve: No errorpage.md found; errors will use default page.');\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t}\n\n\t\t\t\tthis.pict.AppData.Docuserve.ErrorPageHTML = this.parseMarkdown(pMarkdown);\n\t\t\t\tthis.pict.AppData.Docuserve.ErrorPageLoaded = true;\n\t\t\t\treturn tmpCallback();\n\t\t\t})\n\t\t\t.catch((pError) =>\n\t\t\t{\n\t\t\t\tthis.log.warn(`Docuserve: Error loading errorpage.md: ${pError}`);\n\t\t\t\treturn tmpCallback();\n\t\t\t});\n\t}\n\n\t/**\n\t * Get the error page HTML for a given requested path.\n\t *\n\t * If a custom errorpage.md was loaded, its parsed HTML is returned with\n\t * the `{{path}}` placeholder replaced by the actual requested path.\n\t * Otherwise a default not-found HTML block is returned.\n\t *\n\t * @param {string} pRequestedPath - The path that was not found\n\t * @returns {string} HTML to display\n\t */\n\tgetErrorPageHTML(pRequestedPath)\n\t{\n\t\tlet tmpPath = pRequestedPath || 'unknown';\n\n\t\tif (this.pict.AppData.Docuserve.ErrorPageLoaded && this.pict.AppData.Docuserve.ErrorPageHTML)\n\t\t{\n\t\t\t// Replace the {{path}} placeholder with the actual requested path\n\t\t\treturn this.pict.AppData.Docuserve.ErrorPageHTML.replace(/\\{\\{path\\}\\}/g, this.escapeHTML(tmpPath));\n\t\t}\n\n\t\t// Default fallback\n\t\treturn '<div class=\"docuserve-not-found\">'\n\t\t\t+ '<h2>Page Not Found</h2>'\n\t\t\t+ '<p>The document <code>' + this.escapeHTML(tmpPath) + '</code> could not be loaded.</p>'\n\t\t\t+ '<p><a href=\"#/Home\">Return to the home page</a></p>'\n\t\t\t+ '</div>';\n\t}\n\n\t/**\n\t * Parse _sidebar.md into the SidebarGroups format the sidebar view consumes.\n\t *\n\t * Returns an array of group objects:\n\t *   [{ Name, Key, Route, Modules: [{ Name, HasDocs, Group, Route }] }]\n\t *\n\t * Top-level items (no indent) become groups.  Indented child items become\n\t * modules within the preceding group.  The special \"Home\" entry is stored\n\t * as a group with no modules.\n\t *\n\t * @param {string} pMarkdown - Raw _sidebar.md content\n\t * @returns {Array} Parsed sidebar groups\n\t */\n\tparseSidebarMarkdown(pMarkdown)\n\t{\n\t\tlet tmpGroups = [];\n\t\tlet tmpCurrentGroup = null;\n\t\tlet tmpLines = pMarkdown.split('\\n');\n\n\t\tfor (let i = 0; i < tmpLines.length; i++)\n\t\t{\n\t\t\tlet tmpLine = tmpLines[i];\n\n\t\t\tif (!tmpLine.trim())\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Detect indent level: child items have 2+ leading spaces\n\t\t\tlet tmpIndentMatch = tmpLine.match(/^(\\s*)/);\n\t\t\tlet tmpIndent = tmpIndentMatch ? tmpIndentMatch[1].length : 0;\n\t\t\tlet tmpContent = tmpLine.trim();\n\n\t\t\t// Must start with a list marker\n\t\t\tlet tmpListMatch = tmpContent.match(/^[-*+]\\s+(.*)/);\n\t\t\tif (!tmpListMatch)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet tmpItemContent = tmpListMatch[1].trim();\n\n\t\t\t// Parse link if present: [Text](href)\n\t\t\tlet tmpLinkMatch = tmpItemContent.match(/^\\[([^\\]]+)\\]\\(([^)]+)\\)/);\n\n\t\t\tif (tmpIndent < 2)\n\t\t\t{\n\t\t\t\t// Top-level item  this is a group header or standalone link\n\t\t\t\tif (tmpLinkMatch)\n\t\t\t\t{\n\t\t\t\t\tlet tmpName = tmpLinkMatch[1].trim();\n\t\t\t\t\tlet tmpHref = tmpLinkMatch[2].trim();\n\n\t\t\t\t\t// Derive a group key from the href or name\n\t\t\t\t\tlet tmpKey = this.deriveGroupKey(tmpName, tmpHref);\n\t\t\t\t\tlet tmpRoute = this.convertSidebarLink(tmpHref);\n\n\t\t\t\t\ttmpCurrentGroup = {\n\t\t\t\t\t\tName: tmpName,\n\t\t\t\t\t\tKey: tmpKey,\n\t\t\t\t\t\tRoute: tmpRoute,\n\t\t\t\t\t\tModules: []\n\t\t\t\t\t};\n\t\t\t\t\ttmpGroups.push(tmpCurrentGroup);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// Plain text group header (no link)\n\t\t\t\t\tlet tmpName = tmpItemContent;\n\t\t\t\t\tlet tmpKey = tmpName.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g, '');\n\n\t\t\t\t\ttmpCurrentGroup = {\n\t\t\t\t\t\tName: tmpName,\n\t\t\t\t\t\tKey: tmpKey,\n\t\t\t\t\t\tRoute: '',\n\t\t\t\t\t\tModules: []\n\t\t\t\t\t};\n\t\t\t\t\ttmpGroups.push(tmpCurrentGroup);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (tmpCurrentGroup)\n\t\t\t{\n\t\t\t\t// Indented item  this is a module within the current group\n\t\t\t\tif (tmpLinkMatch)\n\t\t\t\t{\n\t\t\t\t\tlet tmpModuleName = tmpLinkMatch[1].trim();\n\t\t\t\t\tlet tmpModuleHref = tmpLinkMatch[2].trim();\n\t\t\t\t\tlet tmpModuleRoute = this.convertSidebarLink(tmpModuleHref);\n\n\t\t\t\t\ttmpCurrentGroup.Modules.push({\n\t\t\t\t\t\tName: tmpModuleName,\n\t\t\t\t\t\tHasDocs: true,\n\t\t\t\t\t\tGroup: tmpCurrentGroup.Key,\n\t\t\t\t\t\tRoute: tmpModuleRoute\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// Plain text child entry (no docs link)\n\t\t\t\t\ttmpCurrentGroup.Modules.push({\n\t\t\t\t\t\tName: tmpItemContent,\n\t\t\t\t\t\tHasDocs: false,\n\t\t\t\t\t\tGroup: tmpCurrentGroup.Key,\n\t\t\t\t\t\tRoute: ''\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn tmpGroups;\n\t}\n\n\t/**\n\t * Convert a docsify-style sidebar link href into a docuserve hash route.\n\t *\n\t * Handles these forms:\n\t *   /                        -> #/Home\n\t *   /group/module/           -> #/doc/group/module\n\t *   /group/module/path.md    -> #/doc/group/module/path.md\n\t *   something.md             -> #/page/something\n\t *\n\t * @param {string} pHref - The original sidebar link href\n\t * @returns {string} The converted hash route\n\t */\n\tconvertSidebarLink(pHref)\n\t{\n\t\tif (!pHref)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\n\t\t// Root home link\n\t\tif (pHref === '/')\n\t\t{\n\t\t\treturn '#/Home';\n\t\t}\n\n\t\t// Strip leading/trailing slashes for parsing\n\t\tlet tmpPath = pHref.replace(/^\\//, '').replace(/\\/$/, '');\n\n\t\tif (!tmpPath)\n\t\t{\n\t\t\treturn '#/Home';\n\t\t}\n\n\t\tlet tmpParts = tmpPath.split('/');\n\n\t\t// Check if it's a module path (group/module)\n\t\tif (tmpParts.length >= 2)\n\t\t{\n\t\t\tlet tmpGroupKeys = ['fable', 'meadow', 'orator', 'pict', 'utility'];\n\t\t\tif (tmpGroupKeys.indexOf(tmpParts[0]) >= 0)\n\t\t\t{\n\t\t\t\treturn '#/doc/' + tmpPath;\n\t\t\t}\n\t\t}\n\n\t\t// Local page reference\n\t\tif (tmpPath.match(/\\.md$/))\n\t\t{\n\t\t\treturn '#/page/' + tmpPath.replace(/\\.md$/, '');\n\t\t}\n\n\t\treturn '#/page/' + tmpPath;\n\t}\n\n\t/**\n\t * Derive a short group key from a sidebar group name or href.\n\t *\n\t * @param {string} pName - The display name (e.g. \"Fable  Core Ecosystem\")\n\t * @param {string} pHref - The link href (e.g. \"fable.md\")\n\t * @returns {string} A short key (e.g. \"fable\")\n\t */\n\tderiveGroupKey(pName, pHref)\n\t{\n\t\t// Try href first  \"fable.md\" -> \"fable\"\n\t\tif (pHref && pHref !== '/')\n\t\t{\n\t\t\tlet tmpFromHref = pHref.replace(/^\\//, '').replace(/\\.md$/, '').replace(/\\/$/, '');\n\t\t\tif (tmpFromHref && !tmpFromHref.includes('/'))\n\t\t\t{\n\t\t\t\treturn tmpFromHref.toLowerCase();\n\t\t\t}\n\t\t}\n\n\t\t// Fall back to first word of name lowercased\n\t\tlet tmpFirstWord = pName.split(/[\\s\\-:]+/)[0];\n\t\treturn tmpFirstWord.toLowerCase().replace(/[^a-z0-9]/g, '');\n\t}\n\n\t/**\n\t * Build structured sidebar data from the catalog for the sidebar view.\n\t *\n\t * @param {Object} pCatalog - The parsed retold-catalog.json\n\t */\n\tbuildSidebarData(pCatalog)\n\t{\n\t\tlet tmpSidebarGroups = [];\n\n\t\tfor (let i = 0; i < pCatalog.Groups.length; i++)\n\t\t{\n\t\t\tlet tmpGroup = pCatalog.Groups[i];\n\t\t\tlet tmpGroupEntry = {\n\t\t\t\tName: tmpGroup.Name,\n\t\t\t\tKey: tmpGroup.Key,\n\t\t\t\tDescription: tmpGroup.Description,\n\t\t\t\tModules: []\n\t\t\t};\n\n\t\t\tfor (let j = 0; j < tmpGroup.Modules.length; j++)\n\t\t\t{\n\t\t\t\tlet tmpModule = tmpGroup.Modules[j];\n\t\t\t\ttmpGroupEntry.Modules.push({\n\t\t\t\t\tName: tmpModule.Name,\n\t\t\t\t\tHasDocs: tmpModule.HasDocs,\n\t\t\t\t\tGroup: tmpGroup.Key,\n\t\t\t\t\tRoute: '#/doc/' + tmpGroup.Key + '/' + tmpModule.Name\n\t\t\t\t});\n\t\t\t}\n\n\t\t\ttmpSidebarGroups.push(tmpGroupEntry);\n\t\t}\n\n\t\tthis.pict.AppData.Docuserve.SidebarGroups = tmpSidebarGroups;\n\t}\n\n\t/**\n\t * Resolve a document URL from group/module/path to a fetchable URL.\n\t *\n\t * @param {string} pGroup - The group key (e.g. 'fable')\n\t * @param {string} pModule - The module name (e.g. 'fable')\n\t * @param {string} pPath - The document path within the module docs (e.g. 'README.md')\n\t * @returns {string} The resolved URL\n\t */\n\tresolveDocumentURL(pGroup, pModule, pPath)\n\t{\n\t\tif (!this._Catalog)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tlet tmpOrg = this._Catalog.GitHubOrg || 'stevenvelozo';\n\t\tlet tmpDefaultBranch = this._Catalog.DefaultBranch || 'master';\n\n\t\t// Find the module in the catalog\n\t\tfor (let i = 0; i < this._Catalog.Groups.length; i++)\n\t\t{\n\t\t\tlet tmpGroup = this._Catalog.Groups[i];\n\t\t\tif (tmpGroup.Key !== pGroup)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (let j = 0; j < tmpGroup.Modules.length; j++)\n\t\t\t{\n\t\t\t\tlet tmpModule = tmpGroup.Modules[j];\n\t\t\t\tif (tmpModule.Name !== pModule)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlet tmpBranch = tmpModule.Branch || tmpDefaultBranch;\n\t\t\t\tlet tmpDocPath = pPath || 'README.md';\n\t\t\t\treturn 'https://raw.githubusercontent.com/' + tmpOrg + '/' + tmpModule.Repo + '/' + tmpBranch + '/docs/' + tmpDocPath;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Get the module-specific sidebar entries for a given group/module.\n\t *\n\t * @param {string} pGroup - The group key\n\t * @param {string} pModule - The module name\n\t * @returns {Array|null} The sidebar entries or null\n\t */\n\tgetModuleSidebar(pGroup, pModule)\n\t{\n\t\tif (!this._Catalog)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tfor (let i = 0; i < this._Catalog.Groups.length; i++)\n\t\t{\n\t\t\tlet tmpGroup = this._Catalog.Groups[i];\n\t\t\tif (tmpGroup.Key !== pGroup)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (let j = 0; j < tmpGroup.Modules.length; j++)\n\t\t\t{\n\t\t\t\tlet tmpModule = tmpGroup.Modules[j];\n\t\t\t\tif (tmpModule.Name !== pModule)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\treturn tmpModule.Sidebar || null;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Fetch a markdown document and convert it to HTML.\n\t *\n\t * @param {string} pURL - The URL to fetch\n\t * @param {Function} fCallback - Callback receiving (error, htmlContent)\n\t */\n\tfetchDocument(pURL, fCallback)\n\t{\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : () => {};\n\n\t\tif (!pURL)\n\t\t{\n\t\t\treturn tmpCallback('No URL provided', '');\n\t\t}\n\n\t\t// Check cache\n\t\tif (this._ContentCache[pURL])\n\t\t{\n\t\t\treturn tmpCallback(null, this._ContentCache[pURL]);\n\t\t}\n\n\t\tfetch(pURL)\n\t\t\t.then((pResponse) =>\n\t\t\t{\n\t\t\t\tif (!pResponse.ok)\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn pResponse.text();\n\t\t\t})\n\t\t\t.then((pMarkdown) =>\n\t\t\t{\n\t\t\t\tif (!pMarkdown)\n\t\t\t\t{\n\t\t\t\t\treturn tmpCallback('Document not found', this.getErrorPageHTML(pURL));\n\t\t\t\t}\n\n\t\t\t\tlet tmpHTML = this.parseMarkdown(pMarkdown);\n\t\t\t\tthis._ContentCache[pURL] = tmpHTML;\n\t\t\t\treturn tmpCallback(null, tmpHTML);\n\t\t\t})\n\t\t\t.catch((pError) =>\n\t\t\t{\n\t\t\t\tthis.log.warn(`Docuserve: Error fetching document [${pURL}]: ${pError}`);\n\t\t\t\treturn tmpCallback(pError, this.getErrorPageHTML(pURL));\n\t\t\t});\n\t}\n\n\t/**\n\t * Fetch a local document relative to the docs folder.\n\t *\n\t * @param {string} pPath - The relative path (e.g. 'architecture.md')\n\t * @param {Function} fCallback - Callback receiving (error, htmlContent)\n\t */\n\tfetchLocalDocument(pPath, fCallback)\n\t{\n\t\tlet tmpDocsBase = this.pict.AppData.Docuserve.DocsBaseURL || '';\n\t\tlet tmpURL = tmpDocsBase + pPath;\n\t\tthis.fetchDocument(tmpURL, fCallback);\n\t}\n\n\t/**\n\t * Parse a markdown string into HTML.\n\t *\n\t * This is a basic markdown parser that handles the most common constructs:\n\t * headings, paragraphs, code blocks, inline code, links, bold, italic,\n\t * lists, blockquotes, and horizontal rules.\n\t *\n\t * @param {string} pMarkdown - The raw markdown text\n\t * @returns {string} The parsed HTML\n\t */\n\tparseMarkdown(pMarkdown)\n\t{\n\t\tif (!pMarkdown)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\n\t\tlet tmpLines = pMarkdown.split('\\n');\n\t\tlet tmpHTML = [];\n\t\tlet tmpInCodeBlock = false;\n\t\tlet tmpCodeLang = '';\n\t\tlet tmpCodeLines = [];\n\t\tlet tmpInList = false;\n\t\tlet tmpListType = '';\n\t\tlet tmpInBlockquote = false;\n\t\tlet tmpBlockquoteLines = [];\n\n\t\tfor (let i = 0; i < tmpLines.length; i++)\n\t\t{\n\t\t\tlet tmpLine = tmpLines[i];\n\n\t\t\t// Code blocks (fenced)\n\t\t\tif (tmpLine.match(/^```/))\n\t\t\t{\n\t\t\t\tif (tmpInCodeBlock)\n\t\t\t\t{\n\t\t\t\t\t// End code block\n\t\t\t\t\ttmpHTML.push('<pre><code class=\"language-' + this.escapeHTML(tmpCodeLang) + '\">' + this.escapeHTML(tmpCodeLines.join('\\n')) + '</code></pre>');\n\t\t\t\t\ttmpInCodeBlock = false;\n\t\t\t\t\ttmpCodeLang = '';\n\t\t\t\t\ttmpCodeLines = [];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// Close any open list or blockquote\n\t\t\t\t\tif (tmpInList)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\t\ttmpInList = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (tmpInBlockquote)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpHTML.push('<blockquote>' + this.parseMarkdown(tmpBlockquoteLines.join('\\n')) + '</blockquote>');\n\t\t\t\t\t\ttmpInBlockquote = false;\n\t\t\t\t\t\ttmpBlockquoteLines = [];\n\t\t\t\t\t}\n\t\t\t\t\t// Start code block\n\t\t\t\t\ttmpCodeLang = tmpLine.replace(/^```/, '').trim();\n\t\t\t\t\ttmpInCodeBlock = true;\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (tmpInCodeBlock)\n\t\t\t{\n\t\t\t\ttmpCodeLines.push(tmpLine);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Blockquotes\n\t\t\tif (tmpLine.match(/^>\\s?/))\n\t\t\t{\n\t\t\t\tif (!tmpInBlockquote)\n\t\t\t\t{\n\t\t\t\t\t// Close any open list\n\t\t\t\t\tif (tmpInList)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\t\ttmpInList = false;\n\t\t\t\t\t}\n\t\t\t\t\ttmpInBlockquote = true;\n\t\t\t\t\ttmpBlockquoteLines = [];\n\t\t\t\t}\n\t\t\t\ttmpBlockquoteLines.push(tmpLine.replace(/^>\\s?/, ''));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if (tmpInBlockquote)\n\t\t\t{\n\t\t\t\ttmpHTML.push('<blockquote>' + this.parseMarkdown(tmpBlockquoteLines.join('\\n')) + '</blockquote>');\n\t\t\t\ttmpInBlockquote = false;\n\t\t\t\ttmpBlockquoteLines = [];\n\t\t\t}\n\n\t\t\t// Horizontal rule\n\t\t\tif (tmpLine.match(/^(-{3,}|\\*{3,}|_{3,})\\s*$/))\n\t\t\t{\n\t\t\t\tif (tmpInList)\n\t\t\t\t{\n\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\ttmpInList = false;\n\t\t\t\t}\n\t\t\t\ttmpHTML.push('<hr>');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Headings\n\t\t\tlet tmpHeadingMatch = tmpLine.match(/^(#{1,6})\\s+(.+)/);\n\t\t\tif (tmpHeadingMatch)\n\t\t\t{\n\t\t\t\tif (tmpInList)\n\t\t\t\t{\n\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\ttmpInList = false;\n\t\t\t\t}\n\t\t\t\tlet tmpLevel = tmpHeadingMatch[1].length;\n\t\t\t\tlet tmpText = this.parseInline(tmpHeadingMatch[2]);\n\t\t\t\tlet tmpID = tmpHeadingMatch[2].toLowerCase().replace(/[^\\w\\s-]/g, '').replace(/\\s+/g, '-');\n\t\t\t\ttmpHTML.push('<h' + tmpLevel + ' id=\"' + tmpID + '\">' + tmpText + '</h' + tmpLevel + '>');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Unordered list items\n\t\t\tlet tmpULMatch = tmpLine.match(/^(\\s*)[-*+]\\s+(.*)/);\n\t\t\tif (tmpULMatch)\n\t\t\t{\n\t\t\t\tif (!tmpInList || tmpListType !== 'ul')\n\t\t\t\t{\n\t\t\t\t\tif (tmpInList)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\t}\n\t\t\t\t\ttmpHTML.push('<ul>');\n\t\t\t\t\ttmpInList = true;\n\t\t\t\t\ttmpListType = 'ul';\n\t\t\t\t}\n\t\t\t\ttmpHTML.push('<li>' + this.parseInline(tmpULMatch[2]) + '</li>');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Ordered list items\n\t\t\tlet tmpOLMatch = tmpLine.match(/^(\\s*)\\d+\\.\\s+(.*)/);\n\t\t\tif (tmpOLMatch)\n\t\t\t{\n\t\t\t\tif (!tmpInList || tmpListType !== 'ol')\n\t\t\t\t{\n\t\t\t\t\tif (tmpInList)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\t}\n\t\t\t\t\ttmpHTML.push('<ol>');\n\t\t\t\t\ttmpInList = true;\n\t\t\t\t\ttmpListType = 'ol';\n\t\t\t\t}\n\t\t\t\ttmpHTML.push('<li>' + this.parseInline(tmpOLMatch[2]) + '</li>');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Close list if we've left list items\n\t\t\tif (tmpInList && tmpLine.trim() !== '')\n\t\t\t{\n\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\ttmpInList = false;\n\t\t\t}\n\n\t\t\t// Empty line\n\t\t\tif (tmpLine.trim() === '')\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Table detection\n\t\t\tif (tmpLine.match(/^\\|/) && i + 1 < tmpLines.length && tmpLines[i + 1].match(/^\\|[\\s-:|]+\\|/))\n\t\t\t{\n\t\t\t\t// Close any open list\n\t\t\t\tif (tmpInList)\n\t\t\t\t{\n\t\t\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t\t\t\ttmpInList = false;\n\t\t\t\t}\n\n\t\t\t\tlet tmpTableHTML = '<table>';\n\n\t\t\t\t// Header row\n\t\t\t\tlet tmpHeaders = tmpLine.split('|').filter((pCell) => { return pCell.trim() !== ''; });\n\t\t\t\ttmpTableHTML += '<thead><tr>';\n\t\t\t\tfor (let h = 0; h < tmpHeaders.length; h++)\n\t\t\t\t{\n\t\t\t\t\ttmpTableHTML += '<th>' + this.parseInline(tmpHeaders[h].trim()) + '</th>';\n\t\t\t\t}\n\t\t\t\ttmpTableHTML += '</tr></thead>';\n\n\t\t\t\t// Skip separator row\n\t\t\t\ti++;\n\n\t\t\t\t// Body rows\n\t\t\t\ttmpTableHTML += '<tbody>';\n\t\t\t\twhile (i + 1 < tmpLines.length && tmpLines[i + 1].match(/^\\|/))\n\t\t\t\t{\n\t\t\t\t\ti++;\n\t\t\t\t\tlet tmpCells = tmpLines[i].split('|').filter((pCell) => { return pCell.trim() !== ''; });\n\t\t\t\t\ttmpTableHTML += '<tr>';\n\t\t\t\t\tfor (let c = 0; c < tmpCells.length; c++)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpTableHTML += '<td>' + this.parseInline(tmpCells[c].trim()) + '</td>';\n\t\t\t\t\t}\n\t\t\t\t\ttmpTableHTML += '</tr>';\n\t\t\t\t}\n\t\t\t\ttmpTableHTML += '</tbody></table>';\n\t\t\t\ttmpHTML.push(tmpTableHTML);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Regular paragraph\n\t\t\ttmpHTML.push('<p>' + this.parseInline(tmpLine) + '</p>');\n\t\t}\n\n\t\t// Close any trailing open elements\n\t\tif (tmpInList)\n\t\t{\n\t\t\ttmpHTML.push(tmpListType === 'ul' ? '</ul>' : '</ol>');\n\t\t}\n\t\tif (tmpInBlockquote)\n\t\t{\n\t\t\ttmpHTML.push('<blockquote>' + this.parseMarkdown(tmpBlockquoteLines.join('\\n')) + '</blockquote>');\n\t\t}\n\t\tif (tmpInCodeBlock)\n\t\t{\n\t\t\ttmpHTML.push('<pre><code>' + this.escapeHTML(tmpCodeLines.join('\\n')) + '</code></pre>');\n\t\t}\n\n\t\treturn tmpHTML.join('\\n');\n\t}\n\n\t/**\n\t * Parse inline markdown elements (bold, italic, code, links, images).\n\t *\n\t * @param {string} pText - The text to parse\n\t * @returns {string} HTML with inline elements\n\t */\n\tparseInline(pText)\n\t{\n\t\tif (!pText)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\n\t\tlet tmpResult = pText;\n\n\t\t// Inline code (backticks) - handle first to avoid interfering with other patterns\n\t\ttmpResult = tmpResult.replace(/`([^`]+)`/g, '<code>$1</code>');\n\n\t\t// Images\n\t\ttmpResult = tmpResult.replace(/!\\[([^\\]]*)\\]\\(([^)]+)\\)/g, '<img src=\"$2\" alt=\"$1\">');\n\n\t\t// Links\n\t\ttmpResult = tmpResult.replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, (pMatch, pLinkText, pHref) =>\n\t\t{\n\t\t\t// Convert internal doc links to hash routes\n\t\t\tif (pHref.match(/^\\//) || pHref.match(/^[^:]+\\.md/))\n\t\t\t{\n\t\t\t\tlet tmpRoute = this.convertDocLink(pHref);\n\t\t\t\treturn '<a href=\"' + tmpRoute + '\">' + pLinkText + '</a>';\n\t\t\t}\n\t\t\treturn '<a href=\"' + pHref + '\" target=\"_blank\" rel=\"noopener\">' + pLinkText + '</a>';\n\t\t});\n\n\t\t// Bold\n\t\ttmpResult = tmpResult.replace(/\\*\\*([^*]+)\\*\\*/g, '<strong>$1</strong>');\n\t\ttmpResult = tmpResult.replace(/__([^_]+)__/g, '<strong>$1</strong>');\n\n\t\t// Italic\n\t\ttmpResult = tmpResult.replace(/\\*([^*]+)\\*/g, '<em>$1</em>');\n\t\ttmpResult = tmpResult.replace(/_([^_]+)_/g, '<em>$1</em>');\n\n\t\treturn tmpResult;\n\t}\n\n\t/**\n\t * Convert a docsify-style internal link to a hash route for docuserve.\n\t *\n\t * @param {string} pHref - The original link href\n\t * @returns {string} The converted hash route\n\t */\n\tconvertDocLink(pHref)\n\t{\n\t\t// Remove leading slash\n\t\tlet tmpPath = pHref.replace(/^\\//, '');\n\n\t\t// If it looks like a module path (group/module/), convert to our route format\n\t\tlet tmpParts = tmpPath.split('/');\n\t\tif (tmpParts.length >= 2)\n\t\t{\n\t\t\t// Check if first segment matches a known group key\n\t\t\tlet tmpGroupKeys = ['fable', 'meadow', 'orator', 'pict', 'utility'];\n\t\t\tif (tmpGroupKeys.indexOf(tmpParts[0]) >= 0)\n\t\t\t{\n\t\t\t\treturn '#/doc/' + tmpPath;\n\t\t\t}\n\t\t}\n\n\t\t// Local doc page\n\t\tif (tmpPath.match(/\\.md$/))\n\t\t{\n\t\t\tlet tmpPageKey = tmpPath.replace(/\\.md$/, '');\n\t\t\treturn '#/page/' + tmpPageKey;\n\t\t}\n\n\t\treturn '#/page/' + tmpPath;\n\t}\n\n\t/**\n\t * Escape HTML special characters.\n\t *\n\t * @param {string} pText - The text to escape\n\t * @returns {string} The escaped text\n\t */\n\tescapeHTML(pText)\n\t{\n\t\tif (!pText)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\t\treturn pText\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;')\n\t\t\t.replace(/'/g, '&#39;');\n\t}\n}\n\nmodule.exports = DocuserveDocumentationProvider;\n\nmodule.exports.default_configuration =\n{\n\tProviderIdentifier: \"Docuserve-Documentation\",\n\n\tAutoInitialize: true,\n\tAutoInitializeOrdinal: 0\n};\n","const libPictView = require('pict-view');\n\nconst _ViewConfiguration =\n{\n\tViewIdentifier: \"Docuserve-Content\",\n\n\tDefaultRenderable: \"Docuserve-Content-Display\",\n\tDefaultDestinationAddress: \"#Docuserve-Content-Container\",\n\n\tAutoRender: false,\n\n\tCSS: /*css*/`\n\t\t.docuserve-content {\n\t\t\tpadding: 2em 3em;\n\t\t\tmax-width: 900px;\n\t\t\tmargin: 0 auto;\n\t\t}\n\t\t.docuserve-content-loading {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tmin-height: 200px;\n\t\t\tcolor: #999;\n\t\t\tfont-size: 1em;\n\t\t}\n\t\t.docuserve-content h1 {\n\t\t\tfont-size: 2em;\n\t\t\tcolor: #2c3e50;\n\t\t\tborder-bottom: 1px solid #eee;\n\t\t\tpadding-bottom: 0.3em;\n\t\t\tmargin-top: 0;\n\t\t}\n\t\t.docuserve-content h2 {\n\t\t\tfont-size: 1.5em;\n\t\t\tcolor: #2c3e50;\n\t\t\tborder-bottom: 1px solid #f0f0f0;\n\t\t\tpadding-bottom: 0.25em;\n\t\t\tmargin-top: 1.5em;\n\t\t}\n\t\t.docuserve-content h3 {\n\t\t\tfont-size: 1.25em;\n\t\t\tcolor: #333;\n\t\t\tmargin-top: 1.25em;\n\t\t}\n\t\t.docuserve-content h4, .docuserve-content h5, .docuserve-content h6 {\n\t\t\tcolor: #555;\n\t\t\tmargin-top: 1em;\n\t\t}\n\t\t.docuserve-content p {\n\t\t\tline-height: 1.7;\n\t\t\tcolor: #444;\n\t\t\tmargin: 0.75em 0;\n\t\t}\n\t\t.docuserve-content a {\n\t\t\tcolor: #42b983;\n\t\t\ttext-decoration: none;\n\t\t}\n\t\t.docuserve-content a:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t\t.docuserve-content pre {\n\t\t\tbackground: #2c3e50;\n\t\t\tcolor: #ecf0f1;\n\t\t\tpadding: 1.25em;\n\t\t\tborder-radius: 6px;\n\t\t\toverflow-x: auto;\n\t\t\tline-height: 1.5;\n\t\t\tfont-size: 0.9em;\n\t\t}\n\t\t.docuserve-content code {\n\t\t\tbackground: #f4f4f5;\n\t\t\tpadding: 0.15em 0.4em;\n\t\t\tborder-radius: 3px;\n\t\t\tfont-size: 0.9em;\n\t\t\tcolor: #e74c3c;\n\t\t}\n\t\t.docuserve-content pre code {\n\t\t\tbackground: none;\n\t\t\tpadding: 0;\n\t\t\tcolor: inherit;\n\t\t\tfont-size: inherit;\n\t\t}\n\t\t.docuserve-content blockquote {\n\t\t\tborder-left: 4px solid #42b983;\n\t\t\tmargin: 1em 0;\n\t\t\tpadding: 0.5em 1em;\n\t\t\tbackground: #f9f9f9;\n\t\t\tcolor: #666;\n\t\t}\n\t\t.docuserve-content blockquote p {\n\t\t\tmargin: 0.25em 0;\n\t\t}\n\t\t.docuserve-content ul, .docuserve-content ol {\n\t\t\tpadding-left: 2em;\n\t\t\tline-height: 1.8;\n\t\t}\n\t\t.docuserve-content li {\n\t\t\tmargin: 0.25em 0;\n\t\t\tcolor: #444;\n\t\t}\n\t\t.docuserve-content hr {\n\t\t\tborder: none;\n\t\t\tborder-top: 1px solid #eee;\n\t\t\tmargin: 2em 0;\n\t\t}\n\t\t.docuserve-content table {\n\t\t\twidth: 100%;\n\t\t\tborder-collapse: collapse;\n\t\t\tmargin: 1em 0;\n\t\t}\n\t\t.docuserve-content table th {\n\t\t\tbackground: #f5f7fa;\n\t\t\tborder: 1px solid #e0e0e0;\n\t\t\tpadding: 0.6em 0.8em;\n\t\t\ttext-align: left;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: #2c3e50;\n\t\t}\n\t\t.docuserve-content table td {\n\t\t\tborder: 1px solid #e0e0e0;\n\t\t\tpadding: 0.5em 0.8em;\n\t\t\tcolor: #444;\n\t\t}\n\t\t.docuserve-content table tr:nth-child(even) {\n\t\t\tbackground: #fafafa;\n\t\t}\n\t\t.docuserve-content img {\n\t\t\tmax-width: 100%;\n\t\t\theight: auto;\n\t\t}\n\t\t.docuserve-not-found {\n\t\t\ttext-align: center;\n\t\t\tpadding: 3em 1em;\n\t\t\tcolor: #666;\n\t\t}\n\t\t.docuserve-not-found h2 {\n\t\t\tcolor: #999;\n\t\t\tfont-size: 1.5em;\n\t\t\tborder-bottom: none;\n\t\t}\n\t\t.docuserve-not-found code {\n\t\t\tbackground: #f4f4f5;\n\t\t\tpadding: 0.15em 0.4em;\n\t\t\tborder-radius: 3px;\n\t\t\tfont-size: 0.9em;\n\t\t\tcolor: #e74c3c;\n\t\t}\n\t`,\n\n\tTemplates:\n\t[\n\t\t{\n\t\t\tHash: \"Docuserve-Content-Template\",\n\t\t\tTemplate: /*html*/`\n<div class=\"docuserve-content\" id=\"Docuserve-Content-Body\">\n\t<div class=\"docuserve-content-loading\">Loading documentation...</div>\n</div>\n`\n\t\t}\n\t],\n\n\tRenderables:\n\t[\n\t\t{\n\t\t\tRenderableHash: \"Docuserve-Content-Display\",\n\t\t\tTemplateHash: \"Docuserve-Content-Template\",\n\t\t\tDestinationAddress: \"#Docuserve-Content-Container\",\n\t\t\tRenderMethod: \"replace\"\n\t\t}\n\t]\n};\n\nclass DocuserveContentView extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\t/**\n\t * Display parsed HTML content in the content area.\n\t *\n\t * @param {string} pHTMLContent - The HTML to display\n\t */\n\tdisplayContent(pHTMLContent)\n\t{\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Content-Body', pHTMLContent);\n\n\t\t// Scroll to top of content area\n\t\tlet tmpContentContainer = document.getElementById('Docuserve-Content-Container');\n\t\tif (tmpContentContainer)\n\t\t{\n\t\t\ttmpContentContainer.scrollTop = 0;\n\t\t}\n\t}\n\n\t/**\n\t * Show a loading indicator.\n\t */\n\tshowLoading()\n\t{\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Content-Body', '<div class=\"docuserve-content-loading\">Loading documentation...</div>');\n\t}\n}\n\nmodule.exports = DocuserveContentView;\n\nmodule.exports.default_configuration = _ViewConfiguration;\n","const libPictView = require('pict-view');\n\nconst _ViewConfiguration =\n{\n\tViewIdentifier: \"Docuserve-Layout\",\n\n\tDefaultRenderable: \"Docuserve-Layout-Shell\",\n\tDefaultDestinationAddress: \"#Docuserve-Application-Container\",\n\n\tAutoRender: false,\n\n\tCSS: /*css*/`\n\t\t#Docuserve-Application-Container {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\theight: 100vh;\n\t\t\toverflow: hidden;\n\t\t}\n\t\t#Docuserve-TopBar-Container {\n\t\t\tflex-shrink: 0;\n\t\t}\n\t\t.docuserve-body {\n\t\t\tdisplay: flex;\n\t\t\tflex: 1;\n\t\t\tmin-height: 0;\n\t\t}\n\t\t#Docuserve-Sidebar-Container {\n\t\t\tflex-shrink: 0;\n\t\t\twidth: 280px;\n\t\t\toverflow-y: auto;\n\t\t}\n\t\t#Docuserve-Content-Container {\n\t\t\tflex: 1;\n\t\t\tmin-width: 0;\n\t\t\toverflow-y: auto;\n\t\t}\n\t`,\n\n\tTemplates:\n\t[\n\t\t{\n\t\t\tHash: \"Docuserve-Layout-Shell-Template\",\n\t\t\tTemplate: /*html*/`\n<div id=\"Docuserve-TopBar-Container\"></div>\n<div class=\"docuserve-body\">\n\t<div id=\"Docuserve-Sidebar-Container\"></div>\n\t<div id=\"Docuserve-Content-Container\"></div>\n</div>\n`\n\t\t}\n\t],\n\n\tRenderables:\n\t[\n\t\t{\n\t\t\tRenderableHash: \"Docuserve-Layout-Shell\",\n\t\t\tTemplateHash: \"Docuserve-Layout-Shell-Template\",\n\t\t\tDestinationAddress: \"#Docuserve-Application-Container\",\n\t\t\tRenderMethod: \"replace\"\n\t\t}\n\t]\n};\n\nclass DocuserveLayoutView extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent)\n\t{\n\t\t// After the layout shell is rendered, render the child views into their containers\n\t\tthis.pict.views['Docuserve-TopBar'].render();\n\t\tthis.pict.views['Docuserve-Sidebar'].render();\n\n\t\t// Show the splash screen initially\n\t\tthis.pict.views['Docuserve-Splash'].render();\n\n\t\t// Inject all view CSS into the PICT-CSS style element\n\t\tthis.pict.CSSMap.injectCSS();\n\n\t\t// Resolve the current hash on initial load\n\t\tthis.pict.PictApplication.resolveHash();\n\n\t\t// Listen for hash changes so that plain <a href=\"#/...\"> links trigger\n\t\t// navigation.  This covers sidebar links, splash action buttons,\n\t\t// in-content links, and browser back/forward navigation.\n\t\tif (!this._HashChangeListenerBound)\n\t\t{\n\t\t\tthis._HashChangeListenerBound = true;\n\t\t\tlet tmpSelf = this;\n\t\t\twindow.addEventListener('hashchange', () =>\n\t\t\t{\n\t\t\t\ttmpSelf.pict.PictApplication.resolveHash();\n\t\t\t});\n\t\t}\n\n\t\treturn super.onAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent);\n\t}\n}\n\nmodule.exports = DocuserveLayoutView;\n\nmodule.exports.default_configuration = _ViewConfiguration;\n","const libPictView = require('pict-view');\n\nconst _ViewConfiguration =\n{\n\tViewIdentifier: \"Docuserve-Sidebar\",\n\n\tDefaultRenderable: \"Docuserve-Sidebar-Content\",\n\tDefaultDestinationAddress: \"#Docuserve-Sidebar-Container\",\n\n\tAutoRender: false,\n\n\tCSS: /*css*/`\n\t\t.docuserve-sidebar {\n\t\t\tbackground-color: #f8f9fa;\n\t\t\tborder-right: 1px solid #e0e0e0;\n\t\t\tpadding: 1em 0;\n\t\t\theight: 100%;\n\t\t\tposition: relative;\n\t\t}\n\t\t.docuserve-sidebar-close {\n\t\t\tposition: absolute;\n\t\t\ttop: 0.5em;\n\t\t\tright: 0.5em;\n\t\t\tbackground: none;\n\t\t\tborder: none;\n\t\t\tcolor: #999;\n\t\t\tfont-size: 1.2em;\n\t\t\tcursor: pointer;\n\t\t\tpadding: 0.2em 0.4em;\n\t\t\tline-height: 1;\n\t\t}\n\t\t.docuserve-sidebar-close:hover {\n\t\t\tcolor: #42b983;\n\t\t}\n\t\t.docuserve-sidebar-search {\n\t\t\tpadding: 0 1em 1em 1em;\n\t\t\tborder-bottom: 1px solid #e9ecef;\n\t\t\tmargin-bottom: 0.5em;\n\t\t}\n\t\t.docuserve-sidebar-search input {\n\t\t\twidth: 100%;\n\t\t\tpadding: 0.5em 0.75em;\n\t\t\tborder: 1px solid #ddd;\n\t\t\tborder-radius: 4px;\n\t\t\tfont-size: 0.85em;\n\t\t\toutline: none;\n\t\t\tbox-sizing: border-box;\n\t\t}\n\t\t.docuserve-sidebar-search input:focus {\n\t\t\tborder-color: #42b983;\n\t\t}\n\t\t.docuserve-sidebar-home {\n\t\t\tpadding: 0.5em 1.25em;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 0.85em;\n\t\t\ttext-transform: uppercase;\n\t\t\tletter-spacing: 0.03em;\n\t\t}\n\t\t.docuserve-sidebar-home a {\n\t\t\tcolor: #666;\n\t\t\ttext-decoration: none;\n\t\t\tcursor: pointer;\n\t\t\tuser-select: none;\n\t\t}\n\t\t.docuserve-sidebar-home a:hover {\n\t\t\tcolor: #42b983;\n\t\t}\n\t\t.docuserve-sidebar-group {\n\t\t\tmargin-top: 0.25em;\n\t\t}\n\t\t.docuserve-sidebar-group-title {\n\t\t\tdisplay: block;\n\t\t\tpadding: 0.5em 1.25em;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 0.85em;\n\t\t\tcolor: #666;\n\t\t\ttext-decoration: none;\n\t\t\ttext-transform: uppercase;\n\t\t\tletter-spacing: 0.03em;\n\t\t\tcursor: pointer;\n\t\t\tuser-select: none;\n\t\t}\n\t\t.docuserve-sidebar-group-title:hover {\n\t\t\tcolor: #42b983;\n\t\t}\n\t\t.docuserve-sidebar-modules {\n\t\t\tlist-style: none;\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t}\n\t\t.docuserve-sidebar-modules li {\n\t\t\tpadding: 0;\n\t\t}\n\t\t.docuserve-sidebar-modules a {\n\t\t\tdisplay: block;\n\t\t\tpadding: 0.3em 1.25em 0.3em 2em;\n\t\t\tcolor: #555;\n\t\t\ttext-decoration: none;\n\t\t\tfont-size: 0.85em;\n\t\t\ttransition: background-color 0.1s, color 0.1s;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t.docuserve-sidebar-modules a:hover {\n\t\t\tbackground-color: #e9ecef;\n\t\t\tcolor: #42b983;\n\t\t}\n\t\t.docuserve-sidebar-modules a.active {\n\t\t\tcolor: #42b983;\n\t\t\tfont-weight: 600;\n\t\t\tbackground-color: #e8f5e9;\n\t\t}\n\t\t.docuserve-sidebar-modules .no-docs {\n\t\t\tdisplay: block;\n\t\t\tpadding: 0.3em 1.25em 0.3em 2em;\n\t\t\tcolor: #bbb;\n\t\t\tfont-size: 0.85em;\n\t\t}\n\t\t.docuserve-sidebar-module-nav {\n\t\t\tborder-top: 1px solid #e9ecef;\n\t\t\tmargin-top: 0.5em;\n\t\t\tpadding-top: 0.5em;\n\t\t}\n\t\t.docuserve-sidebar-module-nav-section {\n\t\t\tpadding: 0.4em 1.25em;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 0.8em;\n\t\t\tcolor: #888;\n\t\t\ttext-transform: uppercase;\n\t\t\tletter-spacing: 0.02em;\n\t\t}\n\t\t.docuserve-sidebar-module-nav a {\n\t\t\tdisplay: block;\n\t\t\tpadding: 0.25em 1.25em 0.25em 2.25em;\n\t\t\tcolor: #555;\n\t\t\ttext-decoration: none;\n\t\t\tfont-size: 0.82em;\n\t\t\ttransition: background-color 0.1s, color 0.1s;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t.docuserve-sidebar-module-nav a:hover {\n\t\t\tbackground-color: #e9ecef;\n\t\t\tcolor: #42b983;\n\t\t}\n\t`,\n\n\tTemplates:\n\t[\n\t\t{\n\t\t\tHash: \"Docuserve-Sidebar-Template\",\n\t\t\tTemplate: /*html*/`\n<div class=\"docuserve-sidebar\">\n\t<button class=\"docuserve-sidebar-close\" onclick=\"{~P~}.views['Docuserve-Sidebar'].toggleSidebar()\">&times;</button>\n\t<div class=\"docuserve-sidebar-home\">\n\t\t<a onclick=\"{~P~}.PictApplication.navigateTo('/Home')\">Home</a>\n\t</div>\n\t<div id=\"Docuserve-Sidebar-Groups\"></div>\n\t<div id=\"Docuserve-Sidebar-ModuleNav\"></div>\n</div>\n`\n\t\t}\n\t],\n\n\tRenderables:\n\t[\n\t\t{\n\t\t\tRenderableHash: \"Docuserve-Sidebar-Content\",\n\t\t\tTemplateHash: \"Docuserve-Sidebar-Template\",\n\t\t\tDestinationAddress: \"#Docuserve-Sidebar-Container\",\n\t\t\tRenderMethod: \"replace\"\n\t\t}\n\t]\n};\n\nclass DocusserveSidebarView extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent)\n\t{\n\t\tthis.renderSidebarGroups();\n\n\t\treturn super.onAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent);\n\t}\n\n\t/**\n\t * Render the sidebar group navigation from catalog data.\n\t */\n\trenderSidebarGroups()\n\t{\n\t\tlet tmpGroups = this.pict.AppData.Docuserve.SidebarGroups;\n\n\t\tif (!tmpGroups || tmpGroups.length < 1)\n\t\t{\n\t\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Sidebar-Groups', '<p style=\"padding: 1em; color: #999; font-size: 0.85em;\">Loading catalog...</p>');\n\t\t\treturn;\n\t\t}\n\n\t\tlet tmpHTML = '';\n\n\t\tfor (let i = 0; i < tmpGroups.length; i++)\n\t\t{\n\t\t\tlet tmpGroup = tmpGroups[i];\n\t\t\ttmpHTML += '<div class=\"docuserve-sidebar-group\">';\n\n\t\t\t// Determine the route for the group title: use the group's own route,\n\t\t\t// or fall back to the first module with docs.\n\t\t\tlet tmpGroupRoute = tmpGroup.Route || '';\n\t\t\tif (!tmpGroupRoute)\n\t\t\t{\n\t\t\t\tfor (let k = 0; k < tmpGroup.Modules.length; k++)\n\t\t\t\t{\n\t\t\t\t\tif (tmpGroup.Modules[k].HasDocs && tmpGroup.Modules[k].Route)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpGroupRoute = tmpGroup.Modules[k].Route;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tmpGroupRoute)\n\t\t\t{\n\t\t\t\ttmpHTML += '<a class=\"docuserve-sidebar-group-title\" href=\"' + tmpGroupRoute + '\">' + this.escapeHTML(tmpGroup.Name) + '</a>';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttmpHTML += '<div class=\"docuserve-sidebar-group-title\">' + this.escapeHTML(tmpGroup.Name) + '</div>';\n\t\t\t}\n\t\t\ttmpHTML += '<ul class=\"docuserve-sidebar-modules\">';\n\n\t\t\tfor (let j = 0; j < tmpGroup.Modules.length; j++)\n\t\t\t{\n\t\t\t\tlet tmpModule = tmpGroup.Modules[j];\n\t\t\t\tif (tmpModule.HasDocs)\n\t\t\t\t{\n\t\t\t\t\tlet tmpActiveClass = '';\n\t\t\t\t\tif (this.pict.AppData.Docuserve.CurrentGroup === tmpModule.Group && this.pict.AppData.Docuserve.CurrentModule === tmpModule.Name)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpActiveClass = ' class=\"active\"';\n\t\t\t\t\t}\n\t\t\t\t\ttmpHTML += '<li><a' + tmpActiveClass + ' href=\"' + tmpModule.Route + '\">' + this.escapeHTML(tmpModule.Name) + '</a></li>';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmpHTML += '<li><span class=\"no-docs\">' + this.escapeHTML(tmpModule.Name) + '</span></li>';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttmpHTML += '</ul>';\n\t\t\ttmpHTML += '</div>';\n\t\t}\n\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Sidebar-Groups', tmpHTML);\n\t}\n\n\t/**\n\t * Render module-specific sub-navigation when viewing a module.\n\t *\n\t * @param {string} pGroup - The group key\n\t * @param {string} pModule - The module name\n\t */\n\trenderModuleNav(pGroup, pModule)\n\t{\n\t\tlet tmpDocProvider = this.pict.providers['Docuserve-Documentation'];\n\t\tif (!tmpDocProvider)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tlet tmpSidebar = tmpDocProvider.getModuleSidebar(pGroup, pModule);\n\t\tif (!tmpSidebar)\n\t\t{\n\t\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Sidebar-ModuleNav', '');\n\t\t\treturn;\n\t\t}\n\n\t\tlet tmpRoutePrefix = '#/doc/' + pGroup + '/' + pModule + '/';\n\t\tlet tmpHTML = '<div class=\"docuserve-sidebar-module-nav\">';\n\n\t\tfor (let i = 0; i < tmpSidebar.length; i++)\n\t\t{\n\t\t\tlet tmpEntry = tmpSidebar[i];\n\n\t\t\tif (tmpEntry.Children)\n\t\t\t{\n\t\t\t\ttmpHTML += '<div class=\"docuserve-sidebar-module-nav-section\">' + this.escapeHTML(tmpEntry.Title) + '</div>';\n\n\t\t\t\tfor (let j = 0; j < tmpEntry.Children.length; j++)\n\t\t\t\t{\n\t\t\t\t\tlet tmpChild = tmpEntry.Children[j];\n\t\t\t\t\tif (tmpChild.Path)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpHTML += '<a href=\"' + tmpRoutePrefix + tmpChild.Path + '\">' + this.escapeHTML(tmpChild.Title) + '</a>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (tmpEntry.Path)\n\t\t\t{\n\t\t\t\ttmpHTML += '<a href=\"' + tmpRoutePrefix + tmpEntry.Path + '\">' + this.escapeHTML(tmpEntry.Title) + '</a>';\n\t\t\t}\n\t\t}\n\n\t\ttmpHTML += '</div>';\n\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Sidebar-ModuleNav', tmpHTML);\n\t}\n\n\t/**\n\t * Toggle the sidebar visibility and update the top bar hamburger button.\n\t */\n\ttoggleSidebar()\n\t{\n\t\tthis.pict.AppData.Docuserve.SidebarVisible = !this.pict.AppData.Docuserve.SidebarVisible;\n\n\t\tlet tmpContainer = document.getElementById('Docuserve-Sidebar-Container');\n\t\tlet tmpToggle = document.getElementById('Docuserve-TopBar-Toggle');\n\n\t\tif (this.pict.AppData.Docuserve.SidebarVisible)\n\t\t{\n\t\t\tif (tmpContainer) tmpContainer.style.display = '';\n\t\t\tif (tmpToggle) tmpToggle.style.display = 'none';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (tmpContainer) tmpContainer.style.display = 'none';\n\t\t\tif (tmpToggle) tmpToggle.style.display = 'inline-block';\n\t\t}\n\t}\n\n\t/**\n\t * Clear the module-specific sub-navigation.\n\t */\n\tclearModuleNav()\n\t{\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Sidebar-ModuleNav', '');\n\t}\n\n\t/**\n\t * Escape HTML special characters.\n\t *\n\t * @param {string} pText - The text to escape\n\t * @returns {string} The escaped text\n\t */\n\tescapeHTML(pText)\n\t{\n\t\tif (!pText)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\t\treturn pText\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;');\n\t}\n}\n\nmodule.exports = DocusserveSidebarView;\n\nmodule.exports.default_configuration = _ViewConfiguration;\n","const libPictView = require('pict-view');\n\nconst _ViewConfiguration =\n{\n\tViewIdentifier: \"Docuserve-Splash\",\n\n\tDefaultRenderable: \"Docuserve-Splash-Content\",\n\tDefaultDestinationAddress: \"#Docuserve-Content-Container\",\n\n\tAutoRender: false,\n\n\tCSS: /*css*/`\n\t\t.docuserve-splash {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tmin-height: calc(100vh - 56px);\n\t\t\tpadding: 3em 2em;\n\t\t\ttext-align: center;\n\t\t\tbackground: linear-gradient(135deg, #f5f7fa 0%, #e8f5e9 100%);\n\t\t}\n\t\t.docuserve-splash h1 {\n\t\t\tfont-size: 3em;\n\t\t\tfont-weight: 700;\n\t\t\tcolor: #2c3e50;\n\t\t\tmargin: 0 0 0.25em 0;\n\t\t}\n\t\t.docuserve-splash-tagline {\n\t\t\tfont-size: 1.25em;\n\t\t\tcolor: #666;\n\t\t\tmargin-bottom: 1.5em;\n\t\t\tfont-style: italic;\n\t\t}\n\t\t.docuserve-splash-description {\n\t\t\tfont-size: 1em;\n\t\t\tcolor: #555;\n\t\t\tmax-width: 600px;\n\t\t\tline-height: 1.7;\n\t\t\tmargin-bottom: 2em;\n\t\t}\n\t\t.docuserve-splash-highlights {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n\t\t\tgap: 1.25em;\n\t\t\tmax-width: 900px;\n\t\t\twidth: 100%;\n\t\t\tmargin-bottom: 2.5em;\n\t\t}\n\t\t.docuserve-splash-highlight-card {\n\t\t\tbackground: #fff;\n\t\t\tborder: 1px solid #e0e0e0;\n\t\t\tborder-radius: 8px;\n\t\t\tpadding: 1.25em;\n\t\t\ttext-align: left;\n\t\t\ttransition: box-shadow 0.2s, border-color 0.2s;\n\t\t}\n\t\t.docuserve-splash-highlight-card:hover {\n\t\t\tbox-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n\t\t\tborder-color: #42b983;\n\t\t}\n\t\t.docuserve-splash-highlight-card h3 {\n\t\t\tmargin: 0 0 0.5em 0;\n\t\t\tcolor: #2c3e50;\n\t\t\tfont-size: 1em;\n\t\t}\n\t\t.docuserve-splash-highlight-card p {\n\t\t\tmargin: 0;\n\t\t\tcolor: #777;\n\t\t\tfont-size: 0.85em;\n\t\t\tline-height: 1.5;\n\t\t}\n\t\t.docuserve-splash-actions {\n\t\t\tdisplay: flex;\n\t\t\tgap: 1em;\n\t\t\tflex-wrap: wrap;\n\t\t\tjustify-content: center;\n\t\t}\n\t\t.docuserve-splash-actions a {\n\t\t\tdisplay: inline-block;\n\t\t\tpadding: 0.7em 1.5em;\n\t\t\tborder-radius: 6px;\n\t\t\tfont-size: 0.95em;\n\t\t\tfont-weight: 600;\n\t\t\ttext-decoration: none;\n\t\t\ttransition: background-color 0.15s, color 0.15s;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t.docuserve-splash-actions .primary {\n\t\t\tbackground-color: #42b983;\n\t\t\tcolor: #fff;\n\t\t}\n\t\t.docuserve-splash-actions .primary:hover {\n\t\t\tbackground-color: #38a373;\n\t\t}\n\t\t.docuserve-splash-actions .secondary {\n\t\t\tbackground-color: #fff;\n\t\t\tcolor: #2c3e50;\n\t\t\tborder: 1px solid #ddd;\n\t\t}\n\t\t.docuserve-splash-actions .secondary:hover {\n\t\t\tborder-color: #42b983;\n\t\t\tcolor: #42b983;\n\t\t}\n\t`,\n\n\tTemplates:\n\t[\n\t\t{\n\t\t\tHash: \"Docuserve-Splash-Template\",\n\t\t\tTemplate: /*html*/`\n<div class=\"docuserve-splash\">\n\t<h1 id=\"Docuserve-Splash-Title\"></h1>\n\t<div class=\"docuserve-splash-tagline\" id=\"Docuserve-Splash-Tagline\"></div>\n\t<div class=\"docuserve-splash-description\" id=\"Docuserve-Splash-Description\"></div>\n\t<div class=\"docuserve-splash-highlights\" id=\"Docuserve-Splash-Highlights\"></div>\n\t<div class=\"docuserve-splash-actions\" id=\"Docuserve-Splash-Actions\"></div>\n</div>\n`\n\t\t}\n\t],\n\n\tRenderables:\n\t[\n\t\t{\n\t\t\tRenderableHash: \"Docuserve-Splash-Content\",\n\t\t\tTemplateHash: \"Docuserve-Splash-Template\",\n\t\t\tDestinationAddress: \"#Docuserve-Content-Container\",\n\t\t\tRenderMethod: \"replace\"\n\t\t}\n\t]\n};\n\nclass DocusserveSplashView extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent)\n\t{\n\t\tlet tmpDocuserve = this.pict.AppData.Docuserve;\n\n\t\tif (tmpDocuserve.CoverLoaded && tmpDocuserve.Cover)\n\t\t{\n\t\t\tthis.renderFromCover(tmpDocuserve.Cover);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.renderFromCatalog(tmpDocuserve);\n\t\t}\n\n\t\treturn super.onAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent);\n\t}\n\n\t/**\n\t * Render the splash screen from parsed cover.md data.\n\t *\n\t * @param {Object} pCover - The parsed cover data { Title, Tagline, Description, Highlights, Actions }\n\t */\n\trenderFromCover(pCover)\n\t{\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Title', this.escapeHTML(pCover.Title));\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Tagline', this.escapeHTML(pCover.Tagline));\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Description', this.escapeHTML(pCover.Description));\n\n\t\t// Render highlight cards\n\t\tlet tmpHighlightsHTML = '';\n\t\tfor (let i = 0; i < pCover.Highlights.length; i++)\n\t\t{\n\t\t\tlet tmpHighlight = pCover.Highlights[i];\n\t\t\ttmpHighlightsHTML += '<div class=\"docuserve-splash-highlight-card\">';\n\t\t\tif (tmpHighlight.Label)\n\t\t\t{\n\t\t\t\ttmpHighlightsHTML += '<h3>' + this.escapeHTML(tmpHighlight.Label) + '</h3>';\n\t\t\t}\n\t\t\ttmpHighlightsHTML += '<p>' + this.escapeHTML(tmpHighlight.Text) + '</p>';\n\t\t\ttmpHighlightsHTML += '</div>';\n\t\t}\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Highlights', tmpHighlightsHTML);\n\n\t\t// Render action buttons\n\t\tlet tmpActionsHTML = '';\n\t\tlet tmpDocProvider = this.pict.providers['Docuserve-Documentation'];\n\t\tfor (let i = 0; i < pCover.Actions.length; i++)\n\t\t{\n\t\t\tlet tmpAction = pCover.Actions[i];\n\t\t\tlet tmpClass = (i === 0) ? 'primary' : 'secondary';\n\t\t\tlet tmpHref = tmpAction.Href;\n\n\t\t\t// External links open in new tab\n\t\t\tif (tmpHref.match(/^https?:\\/\\//))\n\t\t\t{\n\t\t\t\ttmpActionsHTML += '<a class=\"' + tmpClass + '\" href=\"' + this.escapeHTML(tmpHref) + '\" target=\"_blank\" rel=\"noopener\">' + this.escapeHTML(tmpAction.Text) + '</a>';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Internal links go through the app router\n\t\t\t\tlet tmpRoute = tmpDocProvider.convertSidebarLink(tmpHref);\n\t\t\t\ttmpActionsHTML += '<a class=\"' + tmpClass + '\" href=\"' + this.escapeHTML(tmpRoute) + '\">' + this.escapeHTML(tmpAction.Text) + '</a>';\n\t\t\t}\n\t\t}\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Actions', tmpActionsHTML);\n\t}\n\n\t/**\n\t * Render the splash screen from catalog data as a fallback when cover.md\n\t * is not available.\n\t *\n\t * @param {Object} pDocuserve - The AppData.Docuserve state\n\t */\n\trenderFromCatalog(pDocuserve)\n\t{\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Title', 'Retold');\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Tagline', 'Documentation');\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Description', '');\n\n\t\t// Build highlight cards from catalog groups\n\t\tlet tmpHighlightsHTML = '';\n\t\tlet tmpGroups = pDocuserve.SidebarGroups || [];\n\t\tfor (let i = 0; i < tmpGroups.length; i++)\n\t\t{\n\t\t\tlet tmpGroup = tmpGroups[i];\n\t\t\t// Skip groups with no modules (like \"Home\" or \"Getting Started\")\n\t\t\tif (!tmpGroup.Modules || tmpGroup.Modules.length < 1)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tlet tmpDescription = tmpGroup.Description || (tmpGroup.Modules.length + ' modules');\n\t\t\ttmpHighlightsHTML += '<div class=\"docuserve-splash-highlight-card\">';\n\t\t\ttmpHighlightsHTML += '<h3>' + this.escapeHTML(tmpGroup.Name) + '</h3>';\n\t\t\ttmpHighlightsHTML += '<p>' + this.escapeHTML(tmpDescription) + '</p>';\n\t\t\ttmpHighlightsHTML += '</div>';\n\t\t}\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Highlights', tmpHighlightsHTML);\n\n\t\t// Default action buttons\n\t\tthis.pict.ContentAssignment.assignContent('#Docuserve-Splash-Actions', '');\n\t}\n\n\t/**\n\t * Escape HTML special characters.\n\t *\n\t * @param {string} pText - The text to escape\n\t * @returns {string} The escaped text\n\t */\n\tescapeHTML(pText)\n\t{\n\t\tif (!pText)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\t\treturn pText\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;');\n\t}\n}\n\nmodule.exports = DocusserveSplashView;\n\nmodule.exports.default_configuration = _ViewConfiguration;\n","const libPictView = require('pict-view');\n\nconst _ViewConfiguration =\n{\n\tViewIdentifier: \"Docuserve-TopBar\",\n\n\tDefaultRenderable: \"Docuserve-TopBar-Content\",\n\tDefaultDestinationAddress: \"#Docuserve-TopBar-Container\",\n\n\tAutoRender: false,\n\n\tCSS: /*css*/`\n\t\t.docuserve-topbar {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tbackground-color: #2c3e50;\n\t\t\tcolor: #ecf0f1;\n\t\t\tpadding: 0 1.5em;\n\t\t\theight: 56px;\n\t\t\tbox-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);\n\t\t\tposition: sticky;\n\t\t\ttop: 0;\n\t\t\tz-index: 100;\n\t\t}\n\t\t.docuserve-topbar-brand {\n\t\t\tfont-size: 1.25em;\n\t\t\tfont-weight: 600;\n\t\t\tletter-spacing: 0.02em;\n\t\t\tcolor: #ecf0f1;\n\t\t\ttext-decoration: none;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t.docuserve-topbar-brand:hover {\n\t\t\tcolor: #fff;\n\t\t}\n\t\t.docuserve-topbar-nav {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 0.25em;\n\t\t}\n\t\t.docuserve-topbar-nav a {\n\t\t\tcolor: #bdc3c7;\n\t\t\ttext-decoration: none;\n\t\t\tpadding: 0.5em 0.75em;\n\t\t\tborder-radius: 4px;\n\t\t\tfont-size: 0.9em;\n\t\t\ttransition: background-color 0.15s, color 0.15s;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t.docuserve-topbar-nav a:hover {\n\t\t\tbackground-color: #34495e;\n\t\t\tcolor: #fff;\n\t\t}\n\t\t.docuserve-topbar-links {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 0.5em;\n\t\t}\n\t\t.docuserve-topbar-links a {\n\t\t\tcolor: #95a5a6;\n\t\t\ttext-decoration: none;\n\t\t\tfont-size: 0.85em;\n\t\t\tpadding: 0.4em 0.6em;\n\t\t\tborder-radius: 4px;\n\t\t\ttransition: background-color 0.15s, color 0.15s;\n\t\t}\n\t\t.docuserve-topbar-links a:hover {\n\t\t\tbackground-color: #34495e;\n\t\t\tcolor: #ecf0f1;\n\t\t}\n\t\t.docuserve-topbar-toggle {\n\t\t\tdisplay: none;\n\t\t\tbackground: none;\n\t\t\tborder: none;\n\t\t\tcolor: #bdc3c7;\n\t\t\tfont-size: 1.3em;\n\t\t\tcursor: pointer;\n\t\t\tpadding: 0.3em 0.5em;\n\t\t\tmargin-left: 0.5em;\n\t\t\tline-height: 1;\n\t\t}\n\t\t.docuserve-topbar-toggle:hover {\n\t\t\tcolor: #fff;\n\t\t}\n\t\t.docuserve-topbar-right {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\t`,\n\n\tTemplates:\n\t[\n\t\t{\n\t\t\tHash: \"Docuserve-TopBar-Template\",\n\t\t\tTemplate: /*html*/`\n<div class=\"docuserve-topbar\">\n\t<a id=\"Docuserve-TopBar-Brand\" class=\"docuserve-topbar-brand\" href=\"#/Home\"></a>\n\t<div id=\"Docuserve-TopBar-Nav\" class=\"docuserve-topbar-nav\"></div>\n\t<div class=\"docuserve-topbar-right\">\n\t\t<div id=\"Docuserve-TopBar-Links\" class=\"docuserve-topbar-links\"></div>\n\t\t<button id=\"Docuserve-TopBar-Toggle\" class=\"docuserve-topbar-toggle\" onclick=\"{~P~}.views['Docuserve-Sidebar'].toggleSidebar()\">&#9776;</button>\n\t</div>\n</div>\n`\n\t\t}\n\t],\n\n\tRenderables:\n\t[\n\t\t{\n\t\t\tRenderableHash: \"Docuserve-TopBar-Content\",\n\t\t\tTemplateHash: \"Docuserve-TopBar-Template\",\n\t\t\tDestinationAddress: \"#Docuserve-TopBar-Container\",\n\t\t\tRenderMethod: \"replace\"\n\t\t}\n\t]\n};\n\nclass DocuserveTopBarView extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent)\n\t{\n\t\tthis.renderTopBarContent();\n\t\treturn super.onAfterRender(pRenderable, pRenderDestinationAddress, pRecord, pContent);\n\t}\n\n\t/**\n\t * Populate the top bar from _topbar.md data or fall back to defaults.\n\t */\n\trenderTopBarContent()\n\t{\n\t\tlet tmpDocuserve = this.pict.AppData.Docuserve;\n\t\tlet tmpBrandEl = document.getElementById('Docuserve-TopBar-Brand');\n\t\tlet tmpNavEl = document.getElementById('Docuserve-TopBar-Nav');\n\t\tlet tmpLinksEl = document.getElementById('Docuserve-TopBar-Links');\n\n\t\tif (!tmpBrandEl || !tmpNavEl || !tmpLinksEl)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (tmpDocuserve.TopBarLoaded && tmpDocuserve.TopBar)\n\t\t{\n\t\t\t// Data-driven from _topbar.md\n\t\t\tlet tmpTopBar = tmpDocuserve.TopBar;\n\n\t\t\t// Brand\n\t\t\ttmpBrandEl.textContent = tmpTopBar.Brand || 'Documentation';\n\n\t\t\t// Navigation links (centre)\n\t\t\tlet tmpNavHTML = '<a href=\"#/Home\">Home</a>';\n\t\t\tfor (let i = 0; i < tmpTopBar.NavLinks.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpLink = tmpTopBar.NavLinks[i];\n\t\t\t\ttmpNavHTML += '<a href=\"' + tmpLink.Href + '\">' + this.escapeHTML(tmpLink.Text) + '</a>';\n\t\t\t}\n\t\t\ttmpNavEl.innerHTML = tmpNavHTML;\n\n\t\t\t// External links (right side)\n\t\t\tlet tmpLinksHTML = '';\n\t\t\tfor (let i = 0; i < tmpTopBar.ExternalLinks.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpLink = tmpTopBar.ExternalLinks[i];\n\t\t\t\ttmpLinksHTML += '<a href=\"' + this.escapeHTML(tmpLink.Href) + '\" target=\"_blank\" rel=\"noopener\">' + this.escapeHTML(tmpLink.Text) + '</a>';\n\t\t\t}\n\t\t\ttmpLinksEl.innerHTML = tmpLinksHTML;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Fallback: use brand from cover or a default, and just show Home\n\t\t\tlet tmpBrand = 'Documentation';\n\t\t\tif (tmpDocuserve.CoverLoaded && tmpDocuserve.Cover && tmpDocuserve.Cover.Title)\n\t\t\t{\n\t\t\t\ttmpBrand = tmpDocuserve.Cover.Title;\n\t\t\t}\n\t\t\telse if (tmpDocuserve.CatalogLoaded && tmpDocuserve.Catalog && tmpDocuserve.Catalog.Name)\n\t\t\t{\n\t\t\t\ttmpBrand = tmpDocuserve.Catalog.Name;\n\t\t\t}\n\n\t\t\ttmpBrandEl.textContent = tmpBrand;\n\t\t\ttmpNavEl.innerHTML = '<a href=\"#/Home\">Home</a>';\n\t\t\ttmpLinksEl.innerHTML = '';\n\t\t}\n\t}\n\n\t/**\n\t * Escape HTML special characters.\n\t */\n\tescapeHTML(pText)\n\t{\n\t\tif (!pText)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\t\treturn pText\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;')\n\t\t\t.replace(/'/g, '&#39;');\n\t}\n}\n\nmodule.exports = DocuserveTopBarView;\n\nmodule.exports.default_configuration = _ViewConfiguration;\n"]}